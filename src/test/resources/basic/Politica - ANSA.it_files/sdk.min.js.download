var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,c={next:function(){if(d<a.length){var e=d++;return{value:b(e,a[e]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};
$jscomp.polyfill=function(a,b,d,c){if(b){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in d||(d[e]={});d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function d(a){return a instanceof e?a:new e(function(c,b){c(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var c=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){c(a,
0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var c=0;c<a.length;++c){var b=a[c];a[c]=null;try{b()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var c=this.createResolveAndReject_();try{a(c.resolve,c.reject)}catch(k){c.reject(k)}};e.prototype.createResolveAndReject_=
function(){function a(a){return function(e){b||(b=!0,a.call(c,e))}}var c=this,b=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=!0;break a;default:c=!1}c?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var c=
void 0;try{c=a.then}catch(k){this.reject_(k);return}"function"==typeof c?this.settleSameAsThenable_(c,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,c){if(0!=this.state_)throw Error("Cannot settle("+a+", "+c+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=c;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
0;a<this.onSettledCallbacks_.length;++a)g.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var g=new b;e.prototype.settleSameAsPromise_=function(a){var c=this.createResolveAndReject_();a.callWhenSettled_(c.resolve,c.reject)};e.prototype.settleSameAsThenable_=function(a,c){var b=this.createResolveAndReject_();try{a.call(c,b.resolve,b.reject)}catch(l){b.reject(l)}};e.prototype.then=function(a,c){function b(a,c){return"function"==typeof a?function(c){try{d(a(c))}catch(n){f(n)}}:
c}var d,f,h=new e(function(a,c){d=a;f=c});this.callWhenSettled_(b(a,d),b(c,f));return h};e.prototype.catch=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,c){function b(){switch(e.state_){case 1:a(e.result_);break;case 2:c(e.result_);break;default:throw Error("Unexpected state: "+e.state_);}}var e=this;null==this.onSettledCallbacks_?g.asyncExecute(b):this.onSettledCallbacks_.push(b)};e.resolve=d;e.reject=function(a){return new e(function(c,b){b(a)})};e.race=function(a){return new e(function(c,
b){for(var e=$jscomp.makeIterator(a),f=e.next();!f.done;f=e.next())d(f.value).callWhenSettled_(c,b)})};e.all=function(a){var c=$jscomp.makeIterator(a),b=c.next();return b.done?d([]):new e(function(a,e){function f(c){return function(b){h[c]=b;g--;0==g&&a(h)}}var h=[],g=0;do h.push(void 0),g++,d(b.value).callWhenSettled_(f(h.length-1),e),b=c.next();while(!b.done)})};return e},"es6","es3");
var platforms=function(a,b,d,c){this.type=this.src=this.name=this.id=null;this.load=a;this.params=b;this.success=d;this.error=c};Object.defineProperty(platforms,"LOAD_TIMEOUT",{configurable:!1,writable:!1,value:200});platforms.prototype.setId=function(a){this.id=a};platforms.prototype.getId=function(){return this.id};platforms.prototype.setName=function(a){this.name=a};platforms.prototype.setSrc=function(a){this.src=a};platforms.prototype.setType=function(a){this.type=a};
platforms.prototype.loadTag=function(a,b){a=a||{};b=b||null;if(null===document.getElementById(this.id)&&!0===this.load){if(0<Object.keys(this.params).length){var d="?",c;for(c in this.params)d+=""+c+"\x3d"+this.params[c]+"\x26";this.src+=d;this.src=this.src.slice("\x26",-1)}a.tag_id=this.id;a.tag_name=this.name;a.tag_type=this.type;a.tag_src=this.src;load_script(a,function(a){if(0<Object.keys(a).length){if("function_params"in a){var c="",b=a.function_params.split(",");if(0<b.length){for(var e=0;e<
b.length;e++)c+="'"+b[e]+"',";c.slice(",",-1)}}return eval(a.function_name+"("+c+");")}},this.success,function(a){if(0<Object.keys(a).length){if("function_params"in a){var c="",b=a.function_params.split(",");if(0<b.length){for(var e=0;e<b.length;e++)c+="'"+b[e]+"',";c.slice(",",-1)}}return eval(a.function_name+"("+c+");")}},this.error,b)}};
function load_script(a,b,d,c,e,g){if(!(0>=Object.keys(a).length)){var f=!1;if(!(!1 in a)){var h=document.createElement(a.tag_name);"tag_id"in a&&(h.id=a.tag_id);"tag_type"in a&&(h.type=a.tag_type);"tag_src"in a&&(h.src=a.tag_src);"tag_attribute_name"in a&&h.setAttribute("name",a.tag_attribute_name);if("style"in a)for(var k in a.style)h.style[k]=a.style[k];h.onload=h.onreadystatechange=function(){f||this.readyState&&"complete"!==this.readyState?c(e):(f=!0,b(d))};null!==g?(a=document.getElementById(g),
a.parentNode.insertBefore(h,a)):(a=document.getElementsByTagName("body")[0],a.appendChild(h))}}};var load=function(){function a(a){return function(b,c,e){return new Promise(function(d,f){var h=document.createElement(a),k="body",g="src";e=e||null;h.onload=function(){d(b)};h.onerror=function(){f(b)};switch(a){case "script":h.id=c;h.async=!0;break;case "link":h.type="text/css",h.rel="stylesheet",g="href",k="head"}h[g]=b;null===e?document[k].appendChild(h):document.getElementById(e).appendChild(h)})}}return{css:a("link"),js:a("script"),img:a("img")}}();var http_async_request=function(){this.xhttp=this.req_url=null};http_async_request.prototype.newHttpIstance=function(){this.xhttp=new XMLHttpRequest};http_async_request.prototype.getHttpIstance=function(){return this.xhttp};http_async_request.prototype.setUrl=function(a){this.req_url=a};http_async_request.prototype.getUrl=function(){return this.req_url};
http_async_request.prototype.get=function(a,b){this.getHttpIstance().withCredentials=!0;this.getHttpIstance().onreadystatechange=function(){4===this.readyState&&200===this.status?a():4===this.readyState&&200!==this.status&&b()};this.getHttpIstance().open("GET",this.req_url,!0);this.getHttpIstance().send()};var iframe_manager=function(){this.src=this.name=this.id=this.anchor=null;this.opt={};this.height=this.width="0px";this.context=window};iframe_manager.prototype.setAnchor=function(a){this.anchor=a};iframe_manager.prototype.getAnchor=function(){return this.anchor};iframe_manager.prototype.setId=function(a){this.id=a};iframe_manager.prototype.getId=function(){return this.id};iframe_manager.prototype.setName=function(a){this.name=a};iframe_manager.prototype.getName=function(){return this.name};
iframe_manager.prototype.setSrc=function(a){this.src=a};iframe_manager.prototype.getSrc=function(){return this.src};iframe_manager.prototype.setOpt=function(a){this.opt=a};iframe_manager.prototype.getOpt=function(){return this.opt};iframe_manager.prototype.setWidth=function(a){this.width=a};iframe_manager.prototype.getWidth=function(){return this.width};iframe_manager.prototype.setHeight=function(a){this.height=a};iframe_manager.prototype.getHeight=function(){return this.height};
iframe_manager.prototype.setIframes=function(a){var b=document.createElement("iframe"),d="undefined"!==typeof InstallTrigger;b.setAttribute("src","//"+this.getSrc());b.setAttribute("id",this.getId());b.setAttribute("name",this.getName());b.setAttribute("scrolling","no");b.setAttribute("frameborder","0");b.setAttribute("marginheight","0px");b.setAttribute("marginwidth","0px");b.style.width=this.getWidth();b.style.height=this.getHeight();d&&(b.style.visibility="visible",b.style.opacity="1");(null!==
this.getAnchor()&&"object"===typeof this.getAnchor()?this.getAnchor():null!==this.getAnchor()?document.getElementById(this.getAnchor()):document.getElementsByTagName("body")[0]).appendChild(b);"function"===typeof a&&a()};
iframe_manager.prototype.setContent=function(a,b){var d=a.document;a.contentDocument?d=a.contentDocument:a.contentWindow&&(d=a.contentWindow.document);d?(d.open().write('\x3c!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"\x3e\n                                \x3chead\x3e\x3cmeta http-equiv\x3d"Content-Type" content\x3d"text/html; charset\x3dUTF-8" /\x3e\x3c/head\x3e\x3cbody onload\x3d"'+b+'"\x3e'),d.close()):console.warn("Cannot inject dynamic contents into iframe.")};var host="tag-async.4wnetwork.com",async_tag=function(){this.anchor_id=null};async_tag.loadConfig=function(a){a()};async_tag.prototype.setAnchorId=function(a){this.anchor_id=a};async_tag.prototype.getAnchorId=function(){return this.anchor_id};async_tag.prototype.init_async_tag=function(a){a()};function lastMoment(){var a=new Date;a.setHours(23,59,59,999);return a}function packFCC(a,b){var d="",c;for(c in b){var e=b[c],g=c.split("-");d+=g[0]+" "+e+" "+g[1]+"_"}createCookie(a,d,lastMoment())}function unpackFCC(a){var b={};a=readCookie(a);if(null!=a){a=a.split("_");for(var d in a){var c=a[d].split(" ");if(null!=c&&3==c.length){var e=parseInt(c[0]),g=parseInt(c[1]);c=parseInt(c[2]);e=e+"-"+c;b[e]=null!=b[e]?b[e]+g:g}}}return b}
function freqCap(a,b,d){var c=unpackFCC(d);a=a+"-"+b;c[a]=null!==c[a]?c[a]+1:1;packFCC(d,c)}function createCookie(a,b,d){d=d?"; expires\x3d"+d.toUTCString():"";document.cookie=a+"\x3d"+b+d+"; path\x3d/"}function readCookie(a){a+="\x3d";for(var b=document.cookie.split(";"),d=0;d<b.length;d++){for(var c=b[d];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(a))return c.substring(a.length,c.length)}return null}function eraseCookie(a){createCookie(a,"",-1)};function OpenAdViewability(){var a=new OAVGeometryViewabilityCalculator,b={percentObscured:0,percentViewable:0,acceptedViewablePercentage:50,viewabiltyStatus:!1,duration:0};this.DEBUG_MODE=!1;this.checkViewability=function(c,e){var g=0,f=this,h=setInterval(function(){var k=c.getBoundingClientRect();242500<=k.width*k.height&&(b.acceptedViewablePercentage=30);var l=window.getComputedStyle(c,null);k=l.getPropertyValue("visibility");l=l.getPropertyValue("display");if(!0===("hidden"==k||"none"==l?!0:!1))var m=
!1;else{b:{k=c.getBoundingClientRect();l=k.left+12;var t=k.right-12,p=k.top+12,q=k.bottom-12,r=Math.floor(k.left+k.width/2),n=Math.floor(k.top+k.height/2);l=[{x:l,y:p},{x:r,y:p},{x:t,y:p},{x:l,y:n},{x:r,y:n},{x:t,y:n},{x:l,y:q},{x:r,y:q},{x:t,y:q}];for(m in l)if(l[m]&&0<=l[m].x&&0<=l[m].y&&(elem=document.elementFromPoint(l[m].x,l[m].y),null!=elem&&elem!=c&&!c.contains(elem)&&(overlappingArea=d(k,elem.getBoundingClientRect()),0<overlappingArea&&(b.percentObscured=100*d(k,elem.getBoundingClientRect()),
b.percentObscured>b.acceptedViewablePercentage)))){b.percentViewable=100-b.percentObscured;m=!0;break b}m=!1}!0===m?m=!1:(b.percentObscured=b.percentObscured||0,m=a.getViewabilityState(c,window),m.error||(b.percentViewable=m.percentViewable-b.percentObscured),m=b.percentViewable&&b.percentViewable<b.acceptedViewablePercentage||!b.percentViewable?!1:!0)}m?g++:(g=0,b.percentObscured=0,b.percentViewable=0);b.duration=100*g;9<=g&&(b.viewabiltyStatus=!0,f.DEBUG_MODE||clearInterval(h));e(b)},100)};var d=
function(a,b){return Math.max(0,Math.min(a.right,b.right)-Math.max(a.left,b.left))*Math.max(0,Math.min(a.bottom,b.bottom)-Math.max(a.top,b.top))/(a.width*a.height)}}
function OAVGeometryViewabilityCalculator(){this.getViewabilityState=function(c,e){var d,f=a(window),h=f.area;for(d=window;d!=window.top;)d=d.parent,viewPortSize=a(d),viewPortSize.area<h&&(h=viewPortSize.area,f=viewPortSize);d=f;if(Infinity==d.area)return{error:"Failed to determine viewport"};f=c.getBoundingClientRect();h=f.width*f.height;if(.5>d.area/h)c=Math.floor(100*d.area/h);else{var k=a(window.top);c=b(c,e);c.bottom>k.height&&(c.height-=c.bottom-k.height);0>c.top&&(c.height+=c.top);0>c.left&&
(c.width+=c.left);c.right>k.width&&(c.width-=c.right-k.width);c=Math.floor(100*c.width*c.height/h)}return{clientWidth:k.width,clientHeight:k.height,objTop:f.top,objBottom:f.bottom,objLeft:f.left,objRight:f.right,percentViewable:c}};var a=function(a){var b={width:Infinity,height:Infinity,area:Infinity};!isNaN(a.document.body.clientWidth)&&0<a.document.body.clientWidth&&(b.width=a.document.body.clientWidth);!isNaN(a.document.body.clientHeight)&&0<a.document.body.clientHeight&&(b.height=a.document.body.clientHeight);
a.document.documentElement&&a.document.documentElement.clientWidth&&!isNaN(a.document.documentElement.clientWidth)&&(b.width=a.document.documentElement.clientWidth);a.document.documentElement&&a.document.documentElement.clientHeight&&!isNaN(a.document.documentElement.clientHeight)&&(b.height=a.document.documentElement.clientHeight);a.innerWidth&&!isNaN(a.innerWidth)&&(b.width=Math.min(b.width,a.innerWidth));a.innerHeight&&!isNaN(a.innerHeight)&&(b.height=Math.min(b.height,a.innerHeight));b.area=b.height*
b.width;return b},b=function(a,e){var c=e.parent,f={width:0,height:0,left:0,right:0,top:0,bottom:0};a&&(f=d(a,e),f.width=f.right-f.left,f.height=f.bottom-f.top,e!=c&&(e=b(e.frameElement,c),e.bottom<f.bottom&&(e.bottom<f.top&&(f.top=e.bottom),f.bottom=e.bottom),e.right<f.right&&(e.right<f.left&&(f.left=e.right),f.right=e.right),f.width=f.right-f.left,f.height=f.bottom-f.top));return f},d=function(a,b){var c=b.parent,e={left:0,right:0,top:0,bottom:0};a&&(a=a.getBoundingClientRect(),b!=c&&(e=d(b.frameElement,
c)),e={left:a.left+e.left,right:a.right+e.left,top:a.top+e.top,bottom:a.bottom+e.top});return e}};function adv_loader(){this.impression_code=this.page_anchor=null;this.id_prefix="4w_adv_container_";this.adv_settings={};this.iframe_prefix="adv_iframe_";this.host="optimized-by.4wnetwork.com"}adv_loader.prototype.getPageAnchor=function(){return this.page_anchor};adv_loader.prototype.setPageAnchor=function(a){this.page_anchor=a};adv_loader.prototype.getImpressionCode=function(){return this.impression_code};adv_loader.prototype.setImpressionCode=function(a){this.impression_code=a};
adv_loader.prototype.getIdPrefix=function(){return this.id_prefix};adv_loader.prototype.setIdPrefix=function(a){this.id_prefix=a};adv_loader.prototype.getAdvSettings=function(){return this.adv_settings};adv_loader.prototype.setAdvSettings=function(a){this.adv_settings=a};adv_loader.prototype.getIframePrefix=function(){return this.iframe_prefix};adv_loader.prototype.setIframePrefix=function(a){this.iframe_prefix=a};adv_loader.prototype.getHost=function(){return this.host};
adv_loader.prototype.setHost=function(a){this.host=a};adv_loader.prototype.isIE=function(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("msie")?parseInt(a.split("msie")[1]):!1};
adv_loader.prototype.hitTracker=function(){var a=document.createElement("iframe"),b=this.getImpressionCode().split(";");b="//"+this.getHost()+"/hit.php?sid\x3d"+b[0]+"\x26pid\x3d"+b[2]+"\x26did\x3d"+b[1];a.setAttribute("src",b);a.setAttribute("id","4W_hit_tracker_"+this.getPageAnchor());a.setAttribute("name","4W_hit_tracker_"+this.getPageAnchor());a.setAttribute("scrolling","no");a.setAttribute("frameborder","0");a.setAttribute("marginheight","0px");a.setAttribute("marginwidth","0px");a.style.width=
"0px";a.style.height="0px";a.style.display="none";b=document.getElementById(this.getPageAnchor());b.parentNode.insertBefore(a,b)};
adv_loader.prototype.loadAdv=function(a){var b=Math.round((new Date).getTime()),d="";"undefined"!=typeof nuggprof&&(d=encodeURIComponent(nuggprof));var c=this.getImpressionCode(),e=this.getIframePrefix()+this.getPageAnchor(),g=this.getPageAnchor(),f=this.getHost();Promise.all([load.js("//"+f+"/impression_async.php?async\x3dtrue\x26code\x3d"+c+"\x26newtag\x3dtrue\x26nug\x3d"+d+"\x26ord\x3d"+b,"impression_"+g,document.getElementById(e).parentNode.id)]).then(function(){var b={};if("undefined"!==typeof opt&&
0<Object.keys(opt).length){b=opt;var c=document.getElementById(e),d="";"undefined"!==typeof b.endpoint_viewability&&(d=b.endpoint_viewability);oav=new OpenAdViewability;oav.checkViewability(c,function(a){a.viewabiltyStatus&&(a=new http_async_request,a.newHttpIstance(),a.setUrl("//"+f+"/viewability.php"+d+"\x26async\x3dtrue"),a.get(function(){console.info("Write event ovv")},function(){console.info("Error")}))});c=new adv_setter(e,a,b);c.setAdvWidth();c.setAdvHeight();c.setImageCreativity();if("undefined"!==
typeof b.fc_data&&"undefined"!==typeof b.fc_data.label&&"function"===typeof freqCap){c=[b.campaign_id];for(var g in c)freqCap(c[g],b.fc_data.label,b.fc_data.cookie_name)}}})};function adv_video_loader(){adv_loader.call(this)}adv_video_loader.prototype=new adv_loader;adv_video_loader.prototype.constructor=adv_video_loader;adv_video_loader.prototype.format=null;adv_video_loader.prototype.template=null;adv_video_loader.prototype.player_id=null;adv_video_loader.prototype.vasts=[];
adv_video_loader.prototype.ot_deal=[];adv_video_loader.prototype.position=null;adv_video_loader.prototype.dimensions=null;adv_video_loader.prototype.one_tag_invocation="";adv_video_loader.prototype.one_tag_deal_id="";adv_video_loader.prototype.preVasts=[];adv_video_loader.prototype.category=null;adv_video_loader.prototype.passback=null;adv_video_loader.prototype.zid=null;adv_video_loader.prototype.getFormat=function(){return this.format};
adv_video_loader.prototype.setFormat=function(a){this.format=a};adv_video_loader.prototype.setTemplate=function(a){this.template=a};adv_video_loader.prototype.getTemplate=function(){return this.template};adv_video_loader.prototype.setPlayerId=function(a){this.player_id=a};adv_video_loader.prototype.getPlayerId=function(){return this.player_id};adv_video_loader.prototype.setVasts=function(a){this.vasts=a};adv_video_loader.prototype.getVasts=function(){return this.vasts};
adv_video_loader.prototype.getOtDeal=function(a){var b=new http_async_request;b.newHttpIstance();b.setUrl("//"+this.getHost()+"/getDeal.php");b.get(function(){a(JSON.parse(b.getHttpIstance().responseText))})};adv_video_loader.prototype.setOtDeal=function(a){this.ot_deal=a};adv_video_loader.prototype.getPosition=function(){return this.position};adv_video_loader.prototype.setPosition=function(a){this.position=a};adv_video_loader.prototype.getDimensions=function(){return this.dimensions};
adv_video_loader.prototype.setDimensions=function(a){this.dimensions=a};adv_video_loader.prototype.setOneTagInvocation=function(a){this.one_tag_invocation=a};adv_video_loader.prototype.getOneTagInvocation=function(){return this.one_tag_invocation};adv_video_loader.prototype.setOneTagDealId=function(a){this.one_tag_deal_id=a};adv_video_loader.prototype.getOneTagDealId=function(){return this.one_tag_deal_id};adv_video_loader.prototype.getCategory=function(){return this.category};
adv_video_loader.prototype.setCategory=function(a){this.category=a};adv_video_loader.prototype.getPassback=function(){return this.passback};adv_video_loader.prototype.setPassback=function(a){this.passback=a};adv_video_loader.prototype.getZid=function(){return this.zid};adv_video_loader.prototype.setZid=function(a){this.zid=a};adv_video_loader.prototype.getPreVasts=function(){return this.preVasts};adv_video_loader.prototype.setPreVasts=function(a){this.preVasts=a};
adv_video_loader.prototype.setVideoArray=function(){var a={};null!==this.getFormat()&&(a.format=this.getFormat());null!==this.getTemplate()&&(a.template=this.getTemplate());null!==this.getDimensions()&&(a.dim=this.getDimensions());null!==this.getPosition()&&(a.position=this.getPosition());null!==this.getCategory()&&(a.category=this.getCategory());null!==this.getPlayerId()&&(a.playerId=this.getPlayerId());0!==this.getVasts().length&&(a.vasts=this.getVasts());0!==this.getTemplate()&&(a.template=this.getTemplate());
null!==this.getPassback()&&(a.passback=this.getPassback());null!==this.getZid()&&(a.zid=this.getZid());0!==this.getPreVasts().length&&(a.vp=this.getPreVasts());return a};
adv_video_loader.prototype.getOneTagURL=function(a){var b;var d=window;var c=d.document;var e=c.location.href;var g=c.referrer;var f=0;c=encodeURIComponent;var h=new Date;for(b=screen;d!=d.parent;)try{var k=d.parent;e=k.location.href;g=k.document.referrer;d=k}catch(l){f=top!==d.parent?2:1;break}d=[a.responseFormat||"vast",c(e),c(g)||"0",f,d.innerWidth,d.innerHeight,b.width,b.height,h.toUTCString(),h.getTimezoneOffset(),c(a.customParams||""),c(a.deals&&a.deals.join(";")||"")].join(";");return"//onetag-sys.com/fastbid-request/"+
a.pubId+"/"+c(d)+"/"+c(a.adserverUrl||"")};
adv_video_loader.prototype.getOneTagParams=function(a){var b=this;this.getOtDeal(function(d){var c=0,e={pubId:"3895f66b2a",responseFormat:"json"};0!==d.length&&(e.deals=d,c=1);var g=JSON.stringify(d);d=b.getOneTagURL(e);var f=new http_async_request;f.newHttpIstance();f.setUrl(d);f.get(function(){var d=JSON.parse(f.getHttpIstance().responseText);if("undefined"!==typeof d.bids&&"undefined"!==typeof d.bids[0]&&"undefined"!==typeof d.bids[0].video&&"undefined"!==typeof d.bids[0].video.invocation){var e=
{};!b.isIE()||9<=b.isIE()?"undefined"!==typeof d.bids[0].video.dealId&&g&&0<=g.indexOf(d.bids[0].video.dealId)?(c=1,e=d.bids[0].video):"undefined"===typeof d.bids[0].video.dealId&&(c=0,e=d.bids[0].video):e=d.bids[0].video}else e={};"undefined"!==typeof e&&"undefined"!==typeof e.invocation&&("undefined"!==typeof e.dealId&&"undefined"!==typeof c&&1===c?(b.setOneTagDealId(e.dealId),b.setOneTagInvocation(e.invocation)):"undefined"===typeof e.dealId&&"undefined"!==typeof c&&0===c&&(b.setOneTagDealId("ONETAG_00"),
b.setOneTagInvocation(e.invocation)));"function"===typeof a&&a()})})};
adv_video_loader.prototype.loadAdv=function(a){var b="",d=Math.floor(1E6*Math.random())+1;"undefined"!=typeof nuggprof&&(b=encodeURIComponent(nuggprof));var c=this;this.getOneTagParams(function(){var e=c.setVideoArray(),g=c.getImpressionCode(),f=c.getIframePrefix()+c.getPageAnchor(),h=c.getPageAnchor(),k=c.getHost(),l=c.getOneTagInvocation(),m=c.getOneTagDealId();Promise.all([load.js("//"+k+"/impression_async.php?async\x3dtrue\x26code\x3d"+g+"\x26otd\x3d"+m+"\x26nug\x3d"+b+"\x26oti\x3d"+l+"\x26ord\x3d"+
d,"video_impression_"+h,document.getElementById(f).parentNode.id)]).then(function(){var b={};"undefined"!==typeof objAdVast?b=objAdVast:"undefined"!==typeof objMobile?b=objMobile:"undefined"!==typeof objNative?b=objNative:console.error("Errore nel recupero delle informazioni del VAST");b.adv_container_id=f;if(0<Object.keys(e).length)for(var c in e)b[c]=e[c];c=new adv_setter(f,a,b);adv_setter.setVideoOpt(b);switch(b.format){case "4W-Mobile":c.setMobile(!0);break;case "4W-Native":c.setNative(!0)}c.setAdvWidth();
c.setAdvHeight();c.setVideoImpression()})})};
if("undefined"!==typeof obj_4w)for(var i=0;i<obj_4w.length;i++){var adv_4w=new adv_loader,creativity_container=new platforms(!0,{},{},{}),iframe_campaign=new iframe_manager;adv_4w.setAdvSettings(obj_4w[i]);if(null===document.getElementById(adv_4w.getIframePrefix()+obj_4w[i].cid))if("undefined"!==typeof adv_4w.getAdvSettings().format){var video_opt={},video_adv_4w=new adv_video_loader;video_adv_4w.setImpressionCode(obj_4w[i].ic);video_adv_4w.setPageAnchor(obj_4w[i].cid);video_adv_4w.hitTracker();video_adv_4w.setFormat(adv_4w.getAdvSettings().format);
video_opt.format=video_adv_4w.getFormat();"undefined"!==typeof adv_4w.getAdvSettings().dim&&video_adv_4w.setDimensions(adv_4w.getAdvSettings().dim);"undefined"!==typeof adv_4w.getAdvSettings().position&&video_adv_4w.setPosition(adv_4w.getAdvSettings().position);"undefined"!==typeof adv_4w.getAdvSettings().category&&video_adv_4w.setCategory(adv_4w.getAdvSettings().category);"undefined"!==typeof adv_4w.getAdvSettings().idVideo&&video_adv_4w.setPlayerId(adv_4w.getAdvSettings().idVideo);"undefined"!==
typeof adv_4w.getAdvSettings().vasts&&video_adv_4w.setVasts(adv_4w.getAdvSettings().vasts);"undefined"!==typeof adv_4w.getAdvSettings().$4Wvasts&&video_adv_4w.setPreVasts(adv_4w.getAdvSettings().$4Wvasts);if("undefined"!==typeof adv_4w.getAdvSettings().passback||"undefined"!==typeof adv_4w.getAdvSettings().zid)video_adv_4w.setPassback(adv_4w.getAdvSettings().passback),video_adv_4w.setZid(adv_4w.getAdvSettings().zid);if("4w"===video_adv_4w.getFormat())creativity_container.setId(adv_4w.getIdPrefix()+
i),creativity_container.setName("div"),creativity_container.loadTag({tag_attribute_name:adv_4w.getIdPrefix()+i,style:{height:"0px"}},video_adv_4w.getPageAnchor()),iframe_campaign.setId(adv_4w.getIframePrefix()+video_adv_4w.getPageAnchor()),iframe_campaign.setName(adv_4w.getIframePrefix()+video_adv_4w.getPageAnchor()),iframe_campaign.setAnchor(adv_4w.getIdPrefix()+i),iframe_campaign.setSrc("about:blank"),iframe_campaign.setIframes(function(){video_adv_4w.loadAdv(iframe_campaign)});else if("4W-Still"===
video_adv_4w.getFormat())iframe_campaign.setId(adv_4w.getIframePrefix()+video_adv_4w.getPageAnchor()),iframe_campaign.setName(adv_4w.getIframePrefix()+video_adv_4w.getPageAnchor()),iframe_campaign.setAnchor(null),iframe_campaign.setSrc("about:blank"),iframe_campaign.setIframes(function(){video_adv_4w.loadAdv(iframe_campaign)});else if("4WGlue"===video_adv_4w.getFormat()||"4W-IN"===video_adv_4w.getFormat())creativity_container.setId(adv_4w.getIdPrefix()+i),creativity_container.setName("div"),creativity_container.loadTag({tag_attribute_name:adv_4w.getIdPrefix()+
i,style:{height:"0px"}},video_adv_4w.getPageAnchor()),iframe_campaign.setId(adv_4w.getIframePrefix()+video_adv_4w.getPageAnchor()),iframe_campaign.setName(adv_4w.getIframePrefix()+video_adv_4w.getPageAnchor()),iframe_campaign.setAnchor(adv_4w.getIdPrefix()+i),iframe_campaign.setSrc("about:blank"),iframe_campaign.setIframes(function(){video_adv_4w.loadAdv(iframe_campaign)});else if("multiVast"===video_adv_4w.getFormat()){var FW_nug="",cachebuster=Math.floor(1E6*Math.random())+1;"undefined"!=typeof nuggprof&&
(FW_nug=encodeURIComponent(nuggprof));var current_adv_video_istance=video_adv_4w;video_adv_4w.getOneTagParams(function(){var a=current_adv_video_istance.setVideoArray(),b=current_adv_video_istance.getImpressionCode(),d=current_adv_video_istance.getPageAnchor(),c=current_adv_video_istance.getHost(),e=current_adv_video_istance.getOneTagInvocation(),g=current_adv_video_istance.getOneTagDealId();Promise.all([load.js("//"+c+"/impression_async.php?async\x3dtrue\x26code\x3d"+b+"\x26otd\x3d"+g+"\x26nug\x3d"+
FW_nug+"\x26oti\x3d"+e+"\x26ord\x3d"+cachebuster,"video_impression_"+d)]).then(function(){var b={};"undefined"!==typeof objAdVast?b=objAdVast:"undefined"!==typeof objMobile?b=objMobile:console.error("Errore nel recupero delle informazioni del VAST");if(0<Object.keys(a).length)for(var e in a)b[e]=a[e];Promise.all([load.js("//"+c+"/js/vmv.min.js","mv_engine"+d)]).then(function(){multiVastManager(b)})})})}else"4W-Mobile"===video_adv_4w.getFormat()?("undefined"!==typeof adv_4w.getAdvSettings().fwTemplate&&
video_adv_4w.setTemplate(adv_4w.getAdvSettings().fwTemplate),creativity_container.setId(adv_4w.getIdPrefix()+i),creativity_container.setName("div"),creativity_container.loadTag({tag_attribute_name:adv_4w.getIdPrefix()+i},video_adv_4w.getPageAnchor()),iframe_campaign.setId(adv_4w.getIframePrefix()+video_adv_4w.getPageAnchor()),iframe_campaign.setName(adv_4w.getIframePrefix()+video_adv_4w.getPageAnchor()),iframe_campaign.setAnchor(adv_4w.getIdPrefix()+i),iframe_campaign.setSrc("about:blank"),iframe_campaign.setIframes(function(){video_adv_4w.loadAdv(iframe_campaign)})):
"4W-Native"===video_adv_4w.getFormat()&&(creativity_container.setId(adv_4w.getIdPrefix()+i),creativity_container.setName("div"),creativity_container.loadTag({tag_attribute_name:adv_4w.getIdPrefix()+i,style:{height:"100%",width:"100%"}},video_adv_4w.getPageAnchor()),iframe_campaign.setId(adv_4w.getIframePrefix()+video_adv_4w.getPageAnchor()),iframe_campaign.setName(adv_4w.getIframePrefix()+video_adv_4w.getPageAnchor()),iframe_campaign.setAnchor(adv_4w.getIdPrefix()+i),iframe_campaign.setSrc("about:blank"),
iframe_campaign.setIframes(function(){video_adv_4w.loadAdv(iframe_campaign)}))}else adv_4w.setImpressionCode(obj_4w[i].ic),adv_4w.setPageAnchor(obj_4w[i].cid),adv_4w.hitTracker(),simply_domain=adv_4w.getImpressionCode().split(";")[1],creativity_container.setId(adv_4w.getIdPrefix()+i),creativity_container.setName("div"),creativity_container.loadTag({tag_attribute_name:adv_4w.getIdPrefix()+i,style:{height:"0px"}},adv_4w.getPageAnchor()),iframe_campaign.setId(adv_4w.getIframePrefix()+adv_4w.getPageAnchor()),
iframe_campaign.setName(adv_4w.getIframePrefix()+adv_4w.getPageAnchor()),iframe_campaign.setAnchor(adv_4w.getIdPrefix()+i),iframe_campaign.setSrc("about:blank"),iframe_campaign.setIframes(function(){adv_4w.loadAdv(iframe_campaign)})};var adv_setter=function(a,b,d){this.iframe_manager_istance=b;this.adv_container_id=a;this.adv_container=null;this.adv_opt=d;this.post_data={};this.adv_height=this.adv_width="0px";this.native=this.mobile=!1};adv_setter.VIDEO_OPT=[];adv_setter.GRAPHIC_OPT={};adv_setter.setVideoOpt=function(a){this.VIDEO_OPT.push(a)};adv_setter.getVideoOpt=function(){return this.VIDEO_OPT};adv_setter.setGrapghicOpt=function(a){this.GRAPHIC_OPT=a};adv_setter.getGrapghicOpt=function(){return this.GRAPHIC_OPT};
adv_setter.prototype.getIframeMngIstance=function(){return this.iframe_manager_istance};adv_setter.prototype.getAdvContainerId=function(){return this.adv_container_id};adv_setter.prototype.getAdvOpt=function(){return this.adv_opt};adv_setter.prototype.setAdvWidth=function(){"undefined"!==typeof this.getAdvOpt().dim&&(this.adv_width=this.getAdvOpt().dim.width)};adv_setter.prototype.getAdvWidth=function(){return this.adv_width};
adv_setter.prototype.setAdvHeight=function(){"undefined"!==typeof this.getAdvOpt().dim&&(this.adv_height=this.getAdvOpt().dim.height)};adv_setter.prototype.getAdvHeight=function(){return this.adv_height};adv_setter.prototype.getAdvContainer=function(){return this.adv_container=document.getElementById(this.getAdvContainerId())};adv_setter.prototype.isRedirect=function(){return"undefined"!==typeof this.getAdvOpt().code_redirect?!0:!1};adv_setter.prototype.isMobile=function(){return this.mobile};
adv_setter.prototype.setMobile=function(a){this.mobile=a};adv_setter.prototype.isNative=function(){return this.native};adv_setter.prototype.setNative=function(a){this.native=a};adv_setter.prototype.isDfp=function(){return"undefined"!==typeof this.getAdvOpt().dfp_flag?this.getAdvOpt().dfp_flag:!1};adv_setter.prototype.setPostData=function(a){this.post_data=a};adv_setter.prototype.getPostData=function(){return this.post_data};
adv_setter.prototype.setImageCreativity=function(){this.getAdvContainer().style.width=this.getAdvWidth();this.getAdvContainer().style.height=this.getAdvHeight();this.getAdvContainer().parentNode.style.width=this.getAdvWidth();this.getAdvContainer().parentNode.style.height=this.getAdvHeight();if(this.isRedirect()){var a=this.getAdvOpt().code_redirect.replace(/"/g,"\x26quot;").replace(/'/g,"\x26quot;").replace(/(?:\r\n|\r|\n)/g,"");var b=('\x3cscript type\x3d"text/javascript"\x3esimply_domain\x3d'+
simply_domain+";simply_ad_height\x3d"+parseInt(this.getAdvHeight(),10)+";simply_ad_width\x3d"+parseInt(this.getAdvWidth(),10)+";\x3c/script\x3e").replace(/"/g,"\x26quot;").replace(/'/g,"\x26quot;").replace(/(?:\r\n|\r|\n)/g,""),d=('\x3cdiv id\x3d"code" style\x3d"display:none"\x3e'+this.getAdvOpt().code_delivery+"\x3c/div\x3e").replace(/"/g,"\x26quot;").replace(/'/g,"\x26quot;").replace(/(?:\r\n|\r|\n)/g,"");a="document.write('"+b+a+d+"');"}else a="\x3cdiv style\x3dposition:relative;\x3e\x3ca href\x3dhttp://www.youronlinechoices.com/it/le-tue-scelte target\x3d_blank style\x3dposition:absolute;right:0;text-decoration:none;border-style:none;z-index:50;width:15px;height:15px;\x3e\x3cimg src\x3d//optimized-by.4wnetwork.com/asset/img/adchoise.png border\x3d0 style\x3dheight:12px;margin:0;vertical-align:unset;\x3e\x3c/a\x3e"+
("\x3ca href\x3d"+this.getAdvOpt().click_tag+" target\x3d_blank\x3e"),a+="\x3cimg src\x3d//optimized-by.4wnetwork.com/"+this.getAdvOpt().img_url+" border\x3d0\x3e\x3c/a\x3e\x3c/div\x3e",a="document.body.innerHTML\x3d'"+a+"';";this.iframe_manager_istance.setContent(this.getAdvContainer(),a)};
adv_setter.prototype.setVideoImpression=function(){var a=this.isMobile()?"//optimized-by.4wnetwork.com/js/iframe_native_mobile.js":this.isNative()?"//optimized-by.4wnetwork.com/js/iframe_native_loader.js":"//optimized-by.4wnetwork.com/js/iframe_video_loader.js";this.getAdvContainer().style.width=this.getAdvWidth();this.getAdvContainer().style.height=this.getAdvHeight();this.isDfp()&&(adv_setter.getVideoOpt().isDfp=!0);var b="window.addEventListener('message', setVideoAdv, false);"+("parent.loadVideoConfig('"+
this.getAdvContainerId()+"');");a="var el\x3ddocument.getElementsByTagName('head')[0];var script_el\x3del.appendChild(document.createElement('script'));"+("script_el.src\x3d'"+a+"';")+("script_el.onload\x3dfunction(){"+b+"};");this.iframe_manager_istance.setContent(this.getAdvContainer(),a)};function loadVideoConfig(a){document.getElementById(a).contentWindow.postMessage({vast_ad_opt:adv_setter.getVideoOpt(),iframe:a},"*")}
function elementInViewport(a,b,d){for(var c=a.offsetTop;a.offsetParent;)a=a.offsetParent,c+=a.offsetTop;return"4w"===d?1<=+calculateVisibilityForDiv(a,c,b):50<=+calculateVisibilityForDiv(a,c,b)}function calculateVisibilityForDiv(a,b,d){var c=window.innerHeight;a=document.documentElement.scrollTop||a.scrollTop;d=4*d/7.1;var e=a-b,g=b+d-(a+c);if(a>b+d||b>a+c)return 0;b=100;0<e&&(b-=100*e/d);0<g&&(b-=100*g/d);return b}
function copyStyleByElement(a,b,d){var c=/4w_adv_container_/gim,e=document.getElementById("4w_IMA_style"),g=document.getElementById("4w_NB_style");null===e&&(e=document.createElement("link"),e.id="4w_IMA_style",e.href="//optimized-by.4wnetwork.com/asset/css/vidIMA.min.css",e.rel="stylesheet",document.head.appendChild(e));null===g&&(g=document.createElement("link"),g.id="4w_NB_style",g.href="//optimized-by.4wnetwork.com/asset/css/native.css?v\x3d2",g.rel="stylesheet",document.head.appendChild(g));
a.style.cssText=b.style.cssText;a.className=b.className;d&&(b.style.height="auto");!b.id.match(/fw-native_/gim)&&a.parentNode.id.match(c)&&(a.parentNode.style=b.style,a.parentNode.className=b.className)};var external_platforms_loader=function(){async_tag.call(this);this.nuggTg=this.nuggRid=null};external_platforms_loader.prototype=Object.create(async_tag.prototype);external_platforms_loader.prototype.constructor=external_platforms_loader;external_platforms_loader.prototype.setNuggRid=function(a){this.nuggRid=a};external_platforms_loader.prototype.getNuggRid=function(){return this.nuggRid};external_platforms_loader.prototype.setNuggTg=function(a){this.nuggTg=a};
external_platforms_loader.prototype.getNuggTg=function(){return this.nuggTg};
(function(){var a=new external_platforms_loader;a.init_async_tag(function(){a.setNuggRid(encodeURIComponent(window.top.location.href));a.setNuggTg(encodeURIComponent("PLACEHOLDER"));var b=new platforms(!0,{},{},{}),d=new platforms(!0,{},{},{}),c=new platforms(!0,{},{},{});b.setId("nuggad_script");b.setName("script");b.setType("text/javascript");b.setSrc("//4wmp.nuggad.net/rc?nuggn\x3d1617934467\x26nuggsid\x3d1525092622\x26nuggrid\x3d"+a.getNuggRid()+"\x26nuggtg\x3d"+a.getNuggTg());b.loadTag();d.setId("neustar_script");
d.setName("script");d.setType("text/javascript");d.setSrc("//optimized-by.4wnetwork.com/js/neustar.js");d.loadTag();c.setId("nielsen_script");c.setName("script");c.setType("text/javascript");c.setSrc("//optimized-by.4wnetwork.com/js/nmc.js");c.loadTag()})})();var sticky=function(){async_tag.call(this)};sticky.prototype=Object.create(async_tag.prototype);sticky.prototype.constructor=sticky;
(function(){if("undefined"!==typeof obj_4w){var a=new sticky;a.setAnchorId(obj_4w[0].cid);a.init_async_tag(function(){if("undefined"===typeof nuggprof)for(var b=(new Date).getTime(),d=0;1E7>d&&!((new Date).getTime()-b>platforms.LOAD_TIMEOUT)&&"undefined"===typeof nuggprof;d++);"undefined"!==typeof nuggprof&&(b=new platforms(!0,{},{},{}),b.setId("4W_pix_NS"),b.setName("img"),b.setSrc("//ads.stickyadstv.com/data-registering?dataProviderId\x3d1313\x26"+nuggprof),b.loadTag({style:{border:"0",width:"0",
height:"0",zIndex:"-1",top:"0",position:"absolute"}},a.getAnchorId()))})}})();
