(window.webpackJsonp1554490138684=window.webpackJsonp1554490138684||[]).push([[2],Array(48).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18);t.rawFiles={creativeLibrary:n(49)},t.files=Object.keys(t.rawFiles).reduce(function(e,n){var i=new r.PublicPath("//config.seedtag.com",window._seedtagq||[]).toString(),o=t.rawFiles[n];return e[n]=i+o.replace(i,"").replace(/^\//,""),e},{});var i;t.loadWebpackScript=function(e){return new Promise(function(t){var n=document.createElement("script");n.src=e,n.onload=t;var r=document.getElementsByTagName("script")[0];r&&r.parentNode?r.parentNode.insertBefore(n,r):document.body?document.body.appendChild(n):document.head.appendChild(n)})},t.loadCreativeLibrary=(i=function(){return t.loadWebpackScript(t.files.creativeLibrary)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(null,e)})},function(e,t,n){e.exports=n.p+"ste_clib.49c90a890c0c3cff528e903d10c373ba.js"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function Browser(){}return Browser.getBrowser=function(e){var t,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],r=new Browser;return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],r.name="IE",r.version=t[1]||"",r):"Chrome"===n[1]&&null!=(t=e.match(/\bOPR|Edge\/(\d+)/))?(r.name="Opera",r.version=t[1],r):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),r.name=n[0],r.version=n[1],r)},Browser}();t.Browser=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(223))},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(106);t.Publish=r.Publish,t.Subscribe=r.Subscribe,__export(n(175)),__export(n(142)),__export(n(143))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),o=n(230);function getComputed(e){return window.getComputedStyle(e)}function pxToInt(e){return parseFloat(e.replace("px",""))||0}function getNumericComputed(e,t){return pxToInt(e.getPropertyValue(t))}function viewPortHeight(){return window.innerHeight}function scrollY(){return window.pageYOffset?window.pageYOffset:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}function relativeOffset(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}function offset(e){var t=e.offsetParent;if(!t)return{top:0,left:0};var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=getComputedStyle(e);if(!i)throw new Error("cannot calculate element dimensions:\n      "+(e?e.tagName:"no element")+" parent: "+e.parentElement);if(t.isEqualNode(document.body)){var o=document.body.parentNode.getBoundingClientRect(),a=o.top,s=o.left;r={top:a,left:s}}var c=function(o){return n[o]-r[o]+getNumericComputed(i,"padding-"+o)-pxToInt(t.style["border"+capitalize(o)+"Width"])+pxToInt(e.style["border"+capitalize(o)+"Width"])};return{top:c("top"),left:c("left")}}var a=i.StArray.from([]),s=null;var c=i.StArray.from([]),u=null;var l,p=function(){function ImmutabilityHelper(){throw new Error("just don't...")}return ImmutabilityHelper.getType=function(e){var t=typeof e;return t=null===e?"null":t,t=Array.isArray(e)?"array":t},ImmutabilityHelper.immute=function(e){var t=ImmutabilityHelper.getType(e);if("function"===t)throw new Error("Functions are not supported");return"object"===t?r({},e):"array"===t?e.slice():e},ImmutabilityHelper.copy=function(e){var t=ImmutabilityHelper.immute(e),n=function(e){var t=ImmutabilityHelper.getType(e),r=!("object"!==t&&"array"!==t),i=function(t){e[t]=ImmutabilityHelper.immute(e[t]),r&&n(e[t])};if("object"===t)for(var o in e)i(o);if("array"===t)for(o=0;o<e.length;o++)i(o)};return n(t),t},ImmutabilityHelper}();function get(e,t,n){var r=!1,o=i.StArray.from(t.split(/\.|(\[)(.?)(\])/)).filter(function(e){return!(!e||"["===e||"]"===e)}).reduce(function(e,t){return(r=!e||"object"!=typeof e)?null:e[t]},e);return r||void 0===o?n:o}function capitalize(e){return e&&e.length?""+e.charAt(0).toUpperCase()+e.substring(1,e.length).toLocaleLowerCase():""}function isArray(e){if(!e)return!1;var t=e.length;return"object"==typeof e&&"number"==typeof t&&t>=0&&t%1==0}t.ImmutabilityHelper=p,t.getElementSize=function(e){var t=getComputed(e),n={x:getNumericComputed(t,"width")-getNumericComputed(t,"border-left-width")-getNumericComputed(t,"border-right-width"),y:getNumericComputed(t,"height")-getNumericComputed(t,"border-top-width")-getNumericComputed(t,"border-bottom-width")};return"content-box"!==t.boxSizing&&(n.x-=getNumericComputed(t,"padding-right"),n.x-=getNumericComputed(t,"padding-left"),n.y-=getNumericComputed(t,"padding-bottom"),n.y-=getNumericComputed(t,"padding-top")),0===n.y&&(n.y=getNumericComputed(t,"padding-top"),n.y+=getNumericComputed(t,"padding-bottom")),n},t.get=get,t.shuffle=function(e){var t=null===e?0:e.length;if(!t)return i.StArray.from([]);for(var n=-1,r=t-1,o=i.StArray.from(e);++n<t;){var a=n+Math.floor(Math.random()*(r-n+1)),s=o[a];o[a]=o[n],o[n]=s}return o},t.capitalize=capitalize,t.isArray=isArray,t.isString=function(e){return"string"==typeof e},t.isObject=function(e){var t=typeof e;return null!==t&&("object"===t||"function"===t)},t.has=function(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)},t.last=function(e){return isArray(e)?e[e.length-1]:void 0},t.flatten=function(e){return e?i.StArray.from(e).reduce(function(e,t){return e.concat(t)},i.StArray.from([])):i.StArray.from([])},t.unset=function(e,t){if(!e||"object"!=typeof e)return!1;for(var n=i.StArray.isArray(t)?i.StArray.from(t):i.StArray.from(t.split(/\.|(\[)(.?)(\])/)).filter(function(e){return!(!e||"["===e||"]"===e)}),r=e,o=0;o<n.length&&r;o++){if(o===n.length-1)return delete r[n[o]];r=get(r,n[o])}return!1},t.uniqBy=function(e,t){if(!e)return i.StArray.from([]);var n=i.StArray.from([]);return i.StArray.from(e).filter(function(e){var r=JSON.stringify(e);return!(n.includes(r)||!t(e)||(n.push(r),0))})},t.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)o.hasOwnProperty&&o.hasOwnProperty(a)&&(e[a]=o[a])}return e},t.extend=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)e[a]=o[a]}return e},t.setPrototypeOf=function(e,t){return Object.setPrototypeOf?Object.setPrototypeOf(e,Object.getPrototypeOf(t)):e.__proto__=Object.getPrototypeOf(t),e},t.debounce=function(e,t,n){var r,i,o,a=n&&n.maxWait,s=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];o=Date.now(),e.apply(void 0,t)};return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i=Date.now(),clearTimeout(r),a&&i-o>=a?s.apply(void 0,e):r=setTimeout(function(){return s.apply(void 0,e)},t)}},t.throttle=function(e,t){var n,r=0;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=Date.now(),s=a-r,c=s>t?0:t-s;clearTimeout(n),n=setTimeout(function(){r=a,e.apply(void 0,i)},c)}},t.memoize=function(e){var t={};return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=JSON.stringify(n);return t[i]||(t[i]=e.apply(null,n)),t[i]}},t.parseQueryString=function(e){return(e||document.location.search.substr(1)).split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},t.Util={race:function(e){return new Promise(function(t,n){var r=!1;Object.keys(e).forEach(function(n){var i=function(){r||(r=!0,t(n))};e[n].then(i).catch(i)})})},wait:function(e,t){return void 0===t&&(t=!1),new Promise(function(n,r){setTimeout(t?r:n,e)})},getComputed:getComputed,getNumericComputed:getNumericComputed,scrollY:scrollY,viewPortHeight:viewPortHeight,viewportWidth:function(){return window.innerWidth},pxToInt:pxToInt,offset:offset,getOffsetTop:function(e){for(var t=0;e&&!isNaN(e.offsetTop);)t+=e.offsetTop-e.scrollTop,e=e.offsetParent;return t},relativeOffset:relativeOffset,size:function(e){return{x:e.offsetWidth,y:e.offsetHeight}},isNearViewport:function(e,t){var n=Math.max(.4*viewPortHeight(),300);void 0!==t&&(n=t);var r=scrollY()-n,i=scrollY()+viewPortHeight()+n,o=function(e){return relativeOffset(e).top}(e),a=o+e.offsetHeight;return i>o&&r<o||i>a&&r<a},onSizeChange:function(e,t){a.push({el:e,size:{x:e.offsetWidth,y:e.offsetHeight},callback:t}),function checkSizes(){clearTimeout(s),s=setTimeout(function(){a.forEach(function(e,t){var n=e.el,r=e.size,i={x:n.offsetWidth,y:n.offsetHeight};i.x===r.x&&i.y===r.y||(a[t].size=i,e.callback())}),checkSizes()},1e3)}()},offSizeChange:function(e){var t=-1;a.find(function(n,r){return n.el===e&&(t=r,!0)}),-1!==t&&a.slice(t,1),0===a.length&&clearTimeout(s)},onPositionChange:function(e,t){c.push({el:e,position:offset(e),callback:t}),function checkPosition(){clearTimeout(u),u=setTimeout(function(){c.forEach(function(e,t){var n=offset(e.el),r=e.position;r.top===n.top&&r.left===n.left||(c[t].position=n,e.callback())}),checkPosition()},1e3)}()},offPositionChange:function(e){var t=-1;c.find(function(n,r){return n.el===e&&(t=r,!0)}),-1!==t&&c.slice(t,1),0===c.length&&clearTimeout(u)},isMouseOver:(l=new o.MousePosition,l.elementIsHover.bind(l)),between:function(e,t,n){return e<t&&t<n}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});function setPropertiesToWritable(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=Object.getOwnPropertyDescriptor(Array.prototype,r);o.push({key:r,writable:(i||{writable:!0}).writable}),i&&i.configurable&&Object.defineProperty(Array.prototype,r,{writable:!0})}}Object.defineProperty(t,"__esModule",{value:!0}),t.setPropertiesToWritable=setPropertiesToWritable;var o=[];setPropertiesToWritable(Object.getOwnPropertyNames(Array.prototype).filter(function(e){return"flatMap"!==e}));var a=function(e){function StArray(){for(var t=this.constructor,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf?Object.setPrototypeOf(i,t.prototype):i.__proto__=t.prototype,i}return i(StArray,e),StArray.from=function(e){for(var t=new StArray,n=0,r=e;n<r.length;n++){var i=r[n];t.push(i)}return t},StArray.prototype.isStArray=function(){return!0},StArray.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e(this[t],t)},StArray.prototype.map=function(e){for(var t=new StArray,n=0;n<this.length;n++)t.push(e(this[n],n));return t},StArray.prototype.filter=function(e){for(var t=new StArray,n=0;n<this.length;n++)e(this[n],n)&&t.push(this[n]);return t},StArray.prototype.find=function(e){for(var t=0;t<this.length;t++)if(e(this[t],t))return this[t]},StArray.prototype.includes=function(e){return!!this.find(function(t){return t===e})},StArray.prototype.lastIndexOf=function(e,t){for(var n=-1,r=0;r<(t||this.length);r++)this[r]===e&&(n=r);return n},StArray.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this.map(function(e){return e}),r=0,i=e;r<i.length;r++){i[r].forEach(function(e){return n.push(e)})}return n},StArray.prototype.reduce=function(e,t){for(var n=0;n<this.length;n++)t=e(t,this[n],n);return t},StArray}(Array);t.StArray=a;for(var s=0,c=o;s<c.length;s++){var u=c[s];Object.defineProperty(Array.prototype,u.key,{writable:u.writable})}},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,r,i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function checkType(e){if(!e)throw new TypeError("Invalid type requested to IoC container. Type is not defined.")}r=n||(n={}),function(e){var t="object"==typeof i?i:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=makeExporter(r);function makeExporter(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===t.Reflect?t.Reflect=r:n=makeExporter(t.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,c={create:o?function(){return MakeDictionary(Object.create(null))}:a?function(){return MakeDictionary({__proto__:null})}:function(){return MakeDictionary({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&Object({ENV:"production",NODE_ENV:"production"})&&"true"===Object({ENV:"production",NODE_ENV:"production"}).REFLECT_METADATA_USE_MAP_POLYFILL,p=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function MapIterator(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return MapIterator.prototype["@@iterator"]=function(){return this},MapIterator.prototype[i]=function(){return this},MapIterator.prototype.next=function(){var e=this._index;if(0<=e&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},MapIterator.prototype.throw=function(e){throw 0<=this._index&&(this._index=-1,this._keys=t,this._values=t),e},MapIterator.prototype.return=function(e){return 0<=this._index&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},MapIterator}();return function(){function Map(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(Map.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Map.prototype.has=function(e){return 0<=this._find(e,!1)},Map.prototype.get=function(e){var t=this._find(e,!1);return 0<=t?this._values[t]:void 0},Map.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},Map.prototype.delete=function(t){var n=this._find(t,!1);if(0<=n){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},Map.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},Map.prototype.keys=function(){return new n(this._keys,this._values,getKey)},Map.prototype.values=function(){return new n(this._keys,this._values,getValue)},Map.prototype.entries=function(){return new n(this._keys,this._values,getEntry)},Map.prototype["@@iterator"]=function(){return this.entries()},Map.prototype[i]=function(){return this.entries()},Map.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},Map}();function getKey(e,t){return e}function getValue(e,t){return t}function getEntry(e,t){return[e,t]}}():Map,d=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function Set(){this._map=new p}return Object.defineProperty(Set.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Set.prototype.has=function(e){return this._map.has(e)},Set.prototype.add=function(e){return this._map.set(e,e),this},Set.prototype.delete=function(e){return this._map.delete(e)},Set.prototype.clear=function(){this._map.clear()},Set.prototype.keys=function(){return this._map.keys()},Set.prototype.values=function(){return this._map.values()},Set.prototype.entries=function(){return this._map.entries()},Set.prototype["@@iterator"]=function(){return this.keys()},Set.prototype[i]=function(){return this.keys()},Set}():Set,f=new(l||"function"!=typeof WeakMap?function(){var e=16,n=c.create(),r=CreateUniqueKey();return function(){function WeakMap(){this._key=CreateUniqueKey()}return WeakMap.prototype.has=function(e){var t=GetOrCreateWeakMapTable(e,!1);return void 0!==t&&c.has(t,this._key)},WeakMap.prototype.get=function(e){var t=GetOrCreateWeakMapTable(e,!1);return void 0!==t?c.get(t,this._key):void 0},WeakMap.prototype.set=function(e,t){return GetOrCreateWeakMapTable(e,!0)[this._key]=t,this},WeakMap.prototype.delete=function(e){var t=GetOrCreateWeakMapTable(e,!1);return void 0!==t&&delete t[this._key]},WeakMap.prototype.clear=function(){this._key=CreateUniqueKey()},WeakMap}();function CreateUniqueKey(){for(var e;e="@@WeakMap@@"+CreateUUID(),c.has(n,e););return n[e]=!0,e}function GetOrCreateWeakMapTable(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function FillRandomBytes(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function CreateUUID(){var t=function(e){return"function"!=typeof Uint8Array?FillRandomBytes(new Array(e),e):"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):FillRandomBytes(new Uint8Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function GetOrCreateMetadataMap(e,t,n){var r=f.get(e);if(IsUndefined(r)){if(!n)return;r=new p,f.set(e,r)}var i=r.get(t);if(IsUndefined(i)){if(!n)return;i=new p,r.set(t,i)}return i}function OrdinaryHasOwnMetadata(e,t,n){var r=GetOrCreateMetadataMap(t,n,!1);return!IsUndefined(r)&&function(e){return!!e}(r.has(e))}function OrdinaryGetOwnMetadata(e,t,n){var r=GetOrCreateMetadataMap(t,n,!1);if(!IsUndefined(r))return r.get(e)}function OrdinaryDefineOwnMetadata(e,t,n,r){GetOrCreateMetadataMap(n,r,!0).set(e,t)}function OrdinaryOwnMetadataKeys(e,t){var n=[],r=GetOrCreateMetadataMap(e,t,!1);if(IsUndefined(r))return n;for(var o,a=function(e){var t=GetMethod(e,i);if(!IsCallable(t))throw new TypeError;var n=t.call(e);if(!IsObject(n))throw new TypeError;return n}(r.keys()),s=0;;){var c=!(o=a.next()).done&&o;if(!c)return n.length=s,n;var u=c.value;try{n[s]=u}catch(e){try{IteratorClose(a)}finally{throw e}}s++}}function Type(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function IsUndefined(e){return void 0===e}function IsNull(e){return null===e}function IsObject(e){return"object"==typeof e?null!==e:"function"==typeof e}function ToPropertyKey(e){var t=function(e,t){switch(Type(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=GetMethod(e,r);if(void 0===i)return function(e,t){if("string"===t){var n=e.toString;if(IsCallable(n)&&!IsObject(i=n.call(e)))return i;if(IsCallable(r=e.valueOf)&&!IsObject(i=r.call(e)))return i}else{var r;if(IsCallable(r=e.valueOf)&&!IsObject(i=r.call(e)))return i;var i,o=e.toString;if(IsCallable(o)&&!IsObject(i=o.call(e)))return i}throw new TypeError}(e,"default"==n?"number":n);var o=i.call(e,n);if(IsObject(o))throw new TypeError;return o}(e,3);return function(e){return"symbol"==typeof e}(t)?t:function(e){return""+e}(t)}function IsArray(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function IsCallable(e){return"function"==typeof e}function IsConstructor(e){return"function"==typeof e}function GetMethod(e,t){var n=e[t];if(null!=n){if(!IsCallable(n))throw new TypeError;return n}}function IteratorClose(e){var t=e.return;t&&t.call(e)}function OrdinaryGetPrototypeOf(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i?t:i===e?t:i}function MakeDictionary(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,n,r){if(IsUndefined(n)){if(!IsArray(e))throw new TypeError;if(!IsConstructor(t))throw new TypeError;return function(e,t){for(var n=e.length-1;0<=n;--n){var r=(0,e[n])(t);if(!IsUndefined(r)&&!IsNull(r)){if(!IsConstructor(r))throw new TypeError;t=r}}return t}(e,t)}if(!IsArray(e))throw new TypeError;if(!IsObject(t))throw new TypeError;if(!IsObject(r)&&!IsUndefined(r)&&!IsNull(r))throw new TypeError;return IsNull(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;0<=i;--i){var o=(0,e[i])(t,n,r);if(!IsUndefined(o)&&!IsNull(o)){if(!IsObject(o))throw new TypeError;r=o}}return r}(e,t,n=ToPropertyKey(n),r)}),e("metadata",function(e,t){return function(n,r){if(!IsObject(n))throw new TypeError;if(!IsUndefined(r)&&!function(e){switch(Type(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;OrdinaryDefineOwnMetadata(e,t,n,r)}}),e("defineMetadata",function(e,t,n,r){if(!IsObject(n))throw new TypeError;return IsUndefined(r)||(r=ToPropertyKey(r)),OrdinaryDefineOwnMetadata(e,t,n,r)}),e("hasMetadata",function(e,t,n){if(!IsObject(t))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),function OrdinaryHasMetadata(e,t,n){if(OrdinaryHasOwnMetadata(e,t,n))return!0;var r=OrdinaryGetPrototypeOf(t);return!IsNull(r)&&OrdinaryHasMetadata(e,r,n)}(e,t,n)}),e("hasOwnMetadata",function(e,t,n){if(!IsObject(t))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),OrdinaryHasOwnMetadata(e,t,n)}),e("getMetadata",function(e,t,n){if(!IsObject(t))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),function OrdinaryGetMetadata(e,t,n){if(OrdinaryHasOwnMetadata(e,t,n))return OrdinaryGetOwnMetadata(e,t,n);var r=OrdinaryGetPrototypeOf(t);return IsNull(r)?void 0:OrdinaryGetMetadata(e,r,n)}(e,t,n)}),e("getOwnMetadata",function(e,t,n){if(!IsObject(t))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),OrdinaryGetOwnMetadata(e,t,n)}),e("getMetadataKeys",function(e,t){if(!IsObject(e))throw new TypeError;return IsUndefined(t)||(t=ToPropertyKey(t)),function OrdinaryMetadataKeys(e,t){var n=OrdinaryOwnMetadataKeys(e,t),r=OrdinaryGetPrototypeOf(e);if(null===r)return n;var i=OrdinaryMetadataKeys(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new d,a=[],s=0,c=n;s<c.length;s++){var u=c[s];o.has(u)||(o.add(u),a.push(u))}for(var l=0,p=i;l<p.length;l++)u=p[l],o.has(u)||(o.add(u),a.push(u));return a}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!IsObject(e))throw new TypeError;return IsUndefined(t)||(t=ToPropertyKey(t)),OrdinaryOwnMetadataKeys(e,t)}),e("deleteMetadata",function(e,t,n){if(!IsObject(t))throw new TypeError;IsUndefined(n)||(n=ToPropertyKey(n));var r=GetOrCreateMetadataMap(t,n,!1);if(IsUndefined(r))return!1;if(!r.delete(e))return!1;if(0<r.size)return!0;var i=f.get(t);return i.delete(n),0<i.size||f.delete(t),!0})}(n)}();var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function __(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var a=function(){function InjectorHandler(){}return InjectorHandler.decorateConstructor=function(e){var t;return(t=function(t){function ioc_wrapper(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return p.assertInstantiable(e),i}return __extends(ioc_wrapper,t),ioc_wrapper}(e)).__parent=e,t},InjectorHandler.getConstructorFromType=function(e){var t=e;if(t.name&&"ioc_wrapper"!==t.name)return t;for(;t=t.__parent;)if(t.name&&"ioc_wrapper"!==t.name)return t;throw TypeError("Can not identify the base Type for requested target")},InjectorHandler}(),s=function(){function Scope(){}return Scope.prototype.reset=function(e){},Scope}(),c=function(e){function LocalScope(){return null!==e&&e.apply(this,arguments)||this}return __extends(LocalScope,e),LocalScope.prototype.resolve=function(e,t){return e.get()},LocalScope}(s);s.Local=new c;var u=function(e){function SingletonScope(){return null!==e&&e.apply(this,arguments)||this}return __extends(SingletonScope,e),SingletonScope.prototype.resolve=function(e,t){var n=SingletonScope.instances.get(t);return n||(t.__block_Instantiation=!1,n=e.get(),t.__block_Instantiation=!0,SingletonScope.instances.set(t,n)),n},SingletonScope.prototype.reset=function(e){SingletonScope.instances.delete(a.getConstructorFromType(e))},SingletonScope.instances=new Map,SingletonScope}(s);s.Singleton=new u;var l=function(){function ConfigImpl(e){this.source=e}return ConfigImpl.prototype.getInstance=function(){return this.iocscope||this.scope(s.Local),this.iocscope.resolve(this.iocprovider,this.source)},ConfigImpl.prototype.provider=function(e){return this.iocprovider=e,this.iocscope&&this.iocscope.reset(this.source),this},ConfigImpl.prototype.scope=function(e){return(this.iocscope=e)===s.Singleton?(this.source.__block_Instantiation=!0,e.reset(this.source)):this.source.__block_Instantiation&&delete this.source.__block_Instantiation,this},ConfigImpl.prototype.to=function(e){checkType(e);var t=a.getConstructorFromType(e);if(this.source===t){var n=this;this.iocprovider={get:function(){var t,r=n.getParameters();return n.decoratedConstructor?r?new((t=n.decoratedConstructor).bind.apply(t,[void 0].concat(r))):new n.decoratedConstructor:r?new(e.bind.apply(e,[void 0].concat(r))):new e}}}else this.iocprovider={get:function(){return p.get(e)}};return this.iocscope&&this.iocscope.reset(this.source),this},ConfigImpl.prototype.toConstructor=function(e){return this.decoratedConstructor=e,this},ConfigImpl.prototype.withParams=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.paramTypes=e,this},ConfigImpl.prototype.getParameters=function(){return this.paramTypes?this.paramTypes.map(function(e){return p.get(e)}):null},ConfigImpl}(),p=function(){function IoCContainer(){}return IoCContainer.assertInstantiable=function(e){if(e.__block_Instantiation)throw new TypeError("Can not instantiate Singleton class. Ask Container for it, using Container.get")},IoCContainer.bind=function(e){checkType(e);var t=a.getConstructorFromType(e),n=IoCContainer.bindings.get(t);return n||(n=new l(t),IoCContainer.bindings.set(t,n)),n},IoCContainer.get=function(e){var t=IoCContainer.bind(e);return t.iocprovider||t.to(t.source),t.getInstance()},IoCContainer.injectProperty=function(e,t,n){var r="__"+t;Object.defineProperty(e.prototype,t,{enumerable:!0,get:function(){return this[r]?this[r]:this[r]=IoCContainer.get(n)},set:function(e){this[r]=e}})},IoCContainer.isBound=function(e){checkType(e);var t=a.getConstructorFromType(e);return!!IoCContainer.bindings.get(t)},IoCContainer.bindings=new Map,IoCContainer}();function AutoWired(e){var t=a.decorateConstructor(e);return p.bind(e).toConstructor(t),t}var d=function(){function Container(){}return Container.bind=function(e){return p.isBound(e)?p.bind(e):(AutoWired(e),p.bind(e).to(e))},Container.get=function(e){return p.get(e)},Container.restore=function(e){if(!Container.snapshots.providers.has(e))throw new TypeError("Config for source was never snapshoted.");var t=Container.bind(e),n=Container.snapshots.providers.get(e),r=Container.snapshots.scopes.get(e);n&&t.provider(n),r&&t.scope(r)},Container.snapshot=function(e){var t=Container.bind(e);Container.snapshots.providers.set(e,t.iocprovider),t.iocscope&&Container.snapshots.scopes.set(e,t.iocscope)},Container.snapshots={providers:new Map,scopes:new Map},Container}();function InjectPropertyDecorator(e,t){var n=Reflect.getMetadata("design:type",e,t);n||(n=Reflect.getMetadata("design:type",e.constructor,t)),p.injectProperty(e.constructor,t,n)}function InjectParamDecorator(e,t,n){if(!t){var r=p.bind(e);r.paramTypes=r.paramTypes||[];var i=Reflect.getMetadata("design:paramtypes",e);r.paramTypes.unshift(i[n])}}t.AutoWired=AutoWired,t.ConfigImpl=l,t.Container=d,t.Inject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length<3||void 0===e[2])return InjectPropertyDecorator.apply(this,e);if(3===e.length&&"number"==typeof e[2])return InjectParamDecorator.apply(this,e);throw new Error("Invalid @Inject Decorator declaration.")},t.InjectorHandler=a,t.InjectParamDecorator=InjectParamDecorator,t.InjectPropertyDecorator=InjectPropertyDecorator,t.IoCContainer=p,t.Provided=function(e){return function(t){p.bind(t).provider(e)}},t.Provides=function(e){return function(t){p.bind(e).to(t)}},t.Scope=s,t.Scoped=function(e){return function(t){p.bind(t).scope(e)}},t.Singleton=function(e){p.bind(e).scope(s.Singleton)}}).call(this,n(123))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88),i=n(89);function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function reduceBehaviours(e,t,n,o){var a=i.StArray.from(e).filter(function(e){return"function"==typeof e[t]}),s=i.StArray.from([n]);return i.StArray.from(o).map(function(e){return s.push(r.ImmutabilityHelper.immute(e))}),a.reduce(function(e,n){return s[0]=e,n[t].apply(n,s)},s[0])}function runBehaviours(e,t,n){return i.StArray.from(e).filter(function(e){return"function"==typeof e[t]}).map(function(e){return e[t].apply(e,n)})}t.BehaveEvent=function(e,t,n){var r=n.value;n.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];runBehaviours(this.behaviours,"pre"+capitalizeFirstLetter(t),e);var i=r.apply(this,e);return runBehaviours(this.behaviours,t,e),runBehaviours(this.behaviours,"post"+capitalizeFirstLetter(t),e),i}},t.Behave=function(e,t,n){var r=n.value;n.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];reduceBehaviours(this.behaviours,"pre"+capitalizeFirstLetter(t),null,e);var i=reduceBehaviours(this.behaviours,t,r.apply(this,e),e);return reduceBehaviours(this.behaviours,"post"+capitalizeFirstLetter(t),i,e),i}};var o=function(){function Behaviour(){}return Behaviour.prototype.inject=function(e){this.instance=e},Behaviour}();t.Behaviour=o;var a=function(){function BehaviourInjectable(){this.behaviours=i.StArray.from([])}return BehaviourInjectable.prototype.addBehaviour=function(e){e.inject(this),this.behaviours.push(e)},BehaviourInjectable.prototype.removeBehaviour=function(e){this.behaviours=this.behaviours.filter(function(t){return t!==e})},BehaviourInjectable.prototype.addBehaviours=function(e){var t=this;void 0===e&&(e=[]),i.StArray.from(e).forEach(function(e){return t.addBehaviour(e)})},BehaviourInjectable.prototype.removeBehaviours=function(){this.behaviours=i.StArray.from([])},BehaviourInjectable}();t.BehaviourInjectable=a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.unknown="unknown",e.test="test",e.appNexus="apn",e.networksVideo="mediation_video",e.SeedtagSSP="seedtag_ssp",e.QA="qa_mode",e.LowPriority="low_priority"}(r=t.AdAdapterName||(t.AdAdapterName={})),function(e){e.ad="ad",e.noad="noad"}(t.AdStatus||(t.AdStatus={})),function(e){e.ad="ad",e.no_networks="no_networks",e.timeout="timeout",e.looser="looser",e.winner="winner",e.error="error",e.error_vast="error_vast",e.unknown="-",e.template="filter_template",e.autoplay="filter_autoplay",e.country="filter_country",e.device="filter_device",e.adSpace="filter_adSpace",e.brandsafe="filter_brandsafe",e.multiple_videos="filter_multiple_videos",e.race_lost="race_lost",e.noad="noad",e.low_priority="low_priority",e.aspect_ratio="aspect_ratio"}(t.NetworkReason||(t.NetworkReason={})),function(e){e.networkStart="network_start",e.adCall="network_ad_call"}(t.AdapterMessages||(t.AdapterMessages={})),t.lowPriorityAdapters=[r.appNexus]},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(226),a=n(227),s=n(91),c=n(173),u=function(){function OldKeysRemover(){}var e;return e=OldKeysRemover,OldKeysRemover.prototype.removeOlderStorageKeys=function(){var t=this;if(this._internalStorageImpl)try{e.KEYS_TO_REMOVE.map(function(e){return t._internalStorageImpl.removeItem(e)})}catch(e){}},OldKeysRemover.KEYS_TO_REMOVE=["__st_version","_seedtag_config_","_seedtag_config","_seedtag_debugger_","_seedtag_memory_input_message_debugger_channel_filter_","_seedtag_memory_input_message_debugger_topic_filter_","_seedtag_bid_request_monitor_disabled_","_seedtag_autoplay_support_","_seedtag_autoplay_support_1","_seedtag_autoplay_support_2","_seedtag_apn_disabled_"],r([s.Inject,i("design:type",c.BrowserStorage)],OldKeysRemover.prototype,"_internalStorageImpl",void 0),OldKeysRemover=e=r([s.Singleton],OldKeysRemover)}();t.OldKeysRemover=u;var l=function(){function SeedtagStorageVars(){this._oneKeyStorage=new a.OneKeyStorageAdapter("st_data"),this._storage=o.Storage.getStorageFromAdapter(this._oneKeyStorage),this.gdprStorage=this._storage.getVariable("sc"),this.debugger=this._storage.getVariable("debugger"),this.devMode=this._storage.getVariable("dev_mode"),this.config=this._storage.getVariable("config"),this.debugVast=this._storage.getVariable("vast"),this.debugSSP=this._storage.getVariable("sspResponse"),this.configOverride=this._storage.getVariable("config_override"),this.messageDebuggerChannelFilter=this._storage.getVariable("message_debugger_channel_filter"),this.messageDebuggerTopicFilter=this._storage.getVariable("message_debugger_topic_filter"),this.bidRequesMonitor=this._storage.getVariable("_seedtag_bid_request_monitor_disabled_"),this.features=this._storage.getVariable("_features_"),this.adapterEnabledOverride=this._storage.getVariable("adapters_override")}return SeedtagStorageVars.prototype.enableWrite=function(){this._oneKeyStorage.enableWrite()},SeedtagStorageVars.prototype.canWrite=function(){return this._oneKeyStorage.canWrite()},SeedtagStorageVars.prototype.clearData=function(){this._oneKeyStorage.clear()},SeedtagStorageVars=r([s.Singleton],SeedtagStorageVars)}();t.SeedtagStorageVars=l},,,function(e,t,n){"use strict";n.r(t);n(36),n(98),n(148),n(117),n(35),n(37),n(116),n(129);var r,i=n(151);!function(e){e.impression="impression",e.start="start",e.click="click",e.firstQuartile="firstQuartile",e.midpoint="midpoint",e.thirdQuartile="thirdQuartile",e.complete="complete",e.progress="progress",e.error="error",e.play="play",e.paused="pause"}(r||(r={}));var o=n(193),a=function(e,t){void 0===t&&(t={withCredentials:!1});var n=e.method||"GET",r=e.headers||{};return new Promise(function(i,o){var a=new XMLHttpRequest;a.onreadystatechange=function(){var t,n,r;4===a.readyState&&(a.status>=200&&a.status<300?(n=a.responseText,r=a.getResponseHeader("Content-Type"),i(/application\/json/.test((r||"").toLowerCase())?JSON.parse(n):n)):(t=a.status,o(new TypeError("Network request failed ("+t+") to "+e.url))))},a.open(n,e.url,!0),a.withCredentials=t.withCredentials||!1;for(var s=Object.keys(e.headers||{}),c=0;c<s.length;c++){var u=r[s[c]];a.setRequestHeader(s[c],e&&u||"")}a.send("GET"!==e.method?e.body:void 0)})};n.d(t,"defaultFetcher",function(){return c}),n.d(t,"loadVast",function(){return loadVast}),n.d(t,"isVastXml",function(){return isVastXml}),n.d(t,"loadAndUnwrap",function(){return loadAndUnwrap}),n.d(t,"parseAndUnwrap",function(){return parseAndUnwrap}),n.d(t,"load",function(){return load}),n.d(t,"parse",function(){return parse}),n.d(t,"mergeAll",function(){return mergeAll}),n.d(t,"merge",function(){return merge}),n.d(t,"parseOffset",function(){return parseOffset}),n.d(t,"generateOffset",function(){return generateOffset}),n.d(t,"toVastXml",function(){return toVastXml});var s=5,c=function(e){return a({method:"GET",url:e},{withCredentials:!0}).catch(function(){return a({method:"GET",url:e},{withCredentials:!1})})},u=function(e){var t=Math.random().toString(36).substr(-8);return e.replace(/\[timestamp\]/gi,String(Date.now())).replace(/\[(random|cachebusting|random_number|TTD_CACHEBUSTER)\]/gi,t).replace(/ord=(%n|\{RANDOMNUM\}|%25%25TTD_CACHEBUSTER%25%25)/gi,"ord="+t)};function loadVast(e,t,n){return void 0===t&&(t=c),void 0===n&&(n=s),(isVastXml(e)?parseAndUnwrap(e,t,n):loadAndUnwrap(e,t,n)).catch(function(e){throw new o.a(e)})}t.default=loadVast;function isVastXml(e){return 0!==e.trim().indexOf("http")&&-1!==e.indexOf("<VAST")}function loadAndUnwrap(e,t,n,r){if(void 0===t&&(t=c),void 0===n&&(n=s),void 0===r&&(r=0),r>=n)throw{code:302,message:"The maximum number of VAST wrapper redirects has been reached."};return load(e,t).then(function(e){return parseAndUnwrap(e,t,n,++r)})}function parseAndUnwrap(e,t,n,r){return void 0===t&&(t=c),void 0===n&&(n=s),void 0===r&&(r=0),parse(e).then(function(e){return e.adTagUri?loadAndUnwrap(e.adTagUri,t,n,r).then(function(t){return merge(e,t)}):e})}function load(e,t){return void 0===t&&(t=c),t(u(e)).catch(function(t){throw{code:1012,message:t&&t.message||"unable to fetch vast"+e}})}function parse(e){return new Promise(function(t,n){var o={version:3,tracking:[],clickThrough:"",mediafiles:[],wrappers:[],adSystem:"",adId:"",adTagUri:"",adTitle:"",adParameters:"",duration:-2,creativeId:"",xml:e,extensions:[]},a=i.a.getXMLDoc(e).documentElement;"VAST"!==a.tagName&&n({code:100,message:"no <VAST> tag in the file"}),Array.from(a.getElementsByTagName("Error")).forEach(function(e){var t=i.a.getNodeContent(e);t&&o.tracking.push({pixel:t,type:r.error})});var s=a.getElementsByTagName("Ad")[0];s||n({code:303,message:"no <Ad> tag available"}),o.version=parseInt(i.a.getAttributeValue(a,"version")||"0",10),(!o.version||o.version<2)&&n({code:102,message:"unsupported VAST version "+o.version});var c=s.getElementsByTagName("Creative")[0];c&&(o.creativeId=i.a.getAttributeValue(c,"id")||"");var u=!!s.getElementsByTagName("Wrapper").length,l=s.getElementsByTagName("Linear")[0];u||l||n({code:403,message:"Vast is not linear or Wrapper"}),o.adId=i.a.getAttributeValue(s,"id"),o.adTagUri=i.a.getNodeContent(s.getElementsByTagName("VASTAdTagURI")[0])||"",o.adTitle=i.a.getNodeContent(s.getElementsByTagName("AdTitle")[0])||"",o.adSystem=i.a.getNodeContent(s.getElementsByTagName("AdSystem")[0])||"";var p=s.getElementsByTagName("ClickThrough")[0];p&&(o.clickThrough=i.a.getNodeContent(p)||""),Array.from(s.getElementsByTagName("Impression")).forEach(function(e){o.tracking.push({pixel:i.a.getNodeContent(e)||"",type:r.impression})}),Array.from(s.getElementsByTagName("ClickTracking")).forEach(function(e){o.tracking.push({pixel:i.a.getNodeContent(e)||"",type:r.click})}),l?(o.duration=parseOffset(i.a.getNodeContent(l.getElementsByTagName("Duration")[0])),o.adParameters=i.a.getNodeContent(l.getElementsByTagName("AdParameters")[0])||"",Array.from(l.getElementsByTagName("Tracking")).forEach(function(e){var t=i.a.getAttributeValue(e,"event")||null;t&&o.tracking.push({pixel:i.a.getNodeContent(e)||"",type:t,offset:parseOffset(i.a.getAttributeValue(e,"offset"),o.duration)})}),o.mediafiles=Array.from(l.getElementsByTagName("MediaFile")).map(function(e){var t=i.a.getAttributeValue(e,"type")||"";return{id:i.a.getAttributeValue(e,"id")||"",type:t,url:i.a.getNodeContent(e)||"",width:parseInt(i.a.getAttributeValue(e,"width")||"",10),height:parseInt(i.a.getAttributeValue(e,"height")||"",10),delivery:i.a.getAttributeValue(e,"delivery")||"",bitrate:parseInt(i.a.getAttributeValue(e,"bitrate")||"",10),apiFramework:i.a.getAttributeValue(e,"apiFramework")||"",scalable:!!i.a.getAttributeValue(e,"scalable"),minBitrate:parseInt(i.a.getAttributeValue(e,"minBitrate")||"",10),maxBitrate:parseInt(i.a.getAttributeValue(e,"maxBitrate")||"",10),maintainAspectRatio:!!i.a.getAttributeValue(e,"maintainAspectRatio"),codec:i.a.getAttributeValue(e,"codec")||"",adParameters:/(javascript|flash)/g.test(t)?String(o.adParameters):""}})):o.adTagUri||n({code:201,message:"<LinearAd> tag expected"}),o.extensions=Array.from(a.getElementsByTagName("Extension")).map(function(e){return e.outerHTML}),o.adTagUri||0!==o.mediafiles.length||n({code:1007,message:"No mediafile found"}),t(o)})}function mergeAll(e){return new Promise(function(t,n){e[0]?e[1]?mergeAll([merge(e[0],e[1])].concat(e.slice(2))).then(t).catch(n):t(e[0]):n(new Error("vastAds array is empty"))})}var l=function(e){return JSON.parse(JSON.stringify(e))};function merge(e,t){var n=l(e);return n.version&&n.version>t.version&&(n.version=t.version),t.duration&&(n.duration=t.duration),t.adParameters&&(n.adParameters=t.adParameters),t.adTagUri&&(n.adTagUri=t.adTagUri),t.clickThrough&&(n.clickThrough=t.clickThrough),n.tracking=n.tracking.concat(t.tracking),n.mediafiles=n.mediafiles.concat(t.mediafiles),n.extensions=n.extensions.concat(t.extensions),n.wrappers.push(l(t)),n.wrappers=n.wrappers.concat(t.wrappers.map(function(e){return l(e)})),n}function parseOffset(e,t){if(void 0===t&&(t=0),e&&e.indexOf("%")>-1){var n=parseInt(e.split("%")[0],20)/100;return parseOffset("00:00:"+Math.ceil(n*t))}return e?parseInt(e.split(":")[2]||"-2",10):NaN}function generateOffset(e){if(isNaN(e)||e<0)return"00:00:00";if(e<60)return"00:00:"+(e<10?"0":"")+e;var t=Math.floor(e/60),n=e-60*t;return"00:"+(t<10?"0":"")+t+":"+(n<10?"0":"")+n}var p='<?xml version="1.0" encoding="UTF-8"?>\n<VAST version="%%version%%">\n  <Ad id="%%adId%%">\n    <InLine>\n      <AdSystem>%%adSystem%%</AdSystem>\n      <AdTitle><![CDATA[%%adTitle%%]]></AdTitle>\n      %%errorTag%%\n      %%impressionTag%%\n      <Creatives>\n        <Creative id="%%creativeId%%">\n          <Linear>\n            <Duration>%%duration%%</Duration>\n            <AdParameters>%%adParameters%%</AdParameters>\n            <TrackingEvents>%%trackingEvents%%</TrackingEvents>\n            <VideoClicks>%%videoClickTag%%</VideoClicks>\n            <MediaFiles>%%mediafilesTag%%</MediaFiles>\n          </Linear>\n        </Creative>\n      </Creatives>\n      <Extensions>%%extensionsTag%%</Extensions>\n    </InLine>\n  </Ad>\n</VAST>\n',d=function(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r={}),"<"+e+(Object.keys(r).length>0?" "+Object.keys(r).map(function(e){return e+'="'+r[e]+'"'}).join(" "):"")+">"+(n?"<![CDATA["+t+"]]>":t)+"</"+e+">"},f=["id","type","width","height","delivery","bitrate","minBitrate","maxBitrate","maintainAspectRatio","scalable","codec","apiFramework"];function toVastXml(e){var t={click:[],impression:[],error:[],event:[]};e.tracking.forEach(function(e){switch(e.type){case r.error:t.error.push(e);break;case r.impression:t.impression.push(e);break;case r.click:t.click.push(e);break;default:t.event.push(e)}});var n=t.event.length>0?t.event.map(function(e){var t={event:e.type};return e.offset&&(t.offset=generateOffset(e.offset)),d("Tracking",e.pixel,!0,t)}).join(""):"",i=t.click.length>0?t.click.map(function(e){return d("ClickTracking",e.pixel,!0)}).join(""):"",o=e.clickThrough&&d("ClickThrough",e.clickThrough,!0),a=e.mediafiles.map(function(e){return d("MediaFile",e.url,!0,f.filter(function(t){var n=e[t],r=typeof n;return"undefined"!==r&&!("number"===r&&isNaN(n))&&""!==String(n)}).map(function(t){return[t,String(e[t])]}).reduce(function(e,t){return e[t[0]]=t[1],e},{}))}).join("");return p.replace(/%%version%%/gi,String(e.version)).replace(/%%adId%%/gi,e.adId).replace(/%%adSystem%%/gi,e.adSystem).replace(/%%adTitle%%/gi,e.adTitle).replace(/%%creativeId%%/gi,String(e.creativeId)).replace(/%%errorTag%%/gi,t.error.map(function(e){return d("Error",e.pixel,!0)}).join("")).replace(/%%impressionTag%%/gi,t.impression.map(function(e){return d("Impression",e.pixel,!0)}).join("")).replace(/%%duration%%/gi,generateOffset(e.duration)).replace(/%%trackingEvents%%/gi,n).replace(/%%videoClickTag%%/gi,o+i).replace(/%%mediafilesTag%%/gi,a).replace(/%%extensionsTag%%/gi,e.extensions.join("")).replace(/%%adParameters%%/gi,"<![CDATA["+e.adParameters+"]]>")}},,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(102);!function(e){e.inImage="inImage",e.inScreen="inScreen",e.restricted="inImageRestricted",e.inPlayer="inPlayer",e.oldGallery="oldGallery"}(i=t.AdUnitType||(t.AdUnitType={})),t.fixOldGalleryType=function(e){return e.gallery&&e.gallery.active?i.oldGallery:e.type||i.inImage},t.fixModel=function(e){return r({},e,{type:t.fixOldGalleryType(e),integration:e.integraton||{},viewability:e.viewability||{valueCalculatedBy:{appnexus:.5}}})};var a=function(){function AdUnitModel(e){this.sherlock={},this.data=e;var n=t.fixModel(e);this.id=n.id,this.type=n.type,this.name=n.name,this.adserverId=n.adserverId,this.evaluable=n.evaluable,this.gallery=n.gallery,this.viewability=n.viewability,this.products=n.products,this.adSpaces=n.adSpaces,this.additionalRenderingData=n.additionalRenderingData,this.visibility=n.visibility||{expression:"return true;",type:"js"},n.sherlock&&(this.sherlock=n.sherlock),this.gallery&&this.gallery.active&&(this.type=i.oldGallery)}return AdUnitModel.prototype.getType=function(){return this.type},AdUnitModel.prototype.getPublisherModel=function(){return this.publisherModel},AdUnitModel.prototype.getViewabilitySegment=function(){var e;try{e=this.viewability.valueCalculatedBy.appnexus[o.DeviceDetector.getDevice()]||.5}catch(t){e=.4}var t=0;return e>.5&&(t=1),e>.6&&(t=2),e>.7&&(t=3),t},AdUnitModel.prototype.getData=function(){return this.data},AdUnitModel}();t.AdUnitModel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(366))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),a=n(124),s=function(e){function ReporterComponent(t){return e.call(this,t)||this}return i(ReporterComponent,e),ReporterComponent.prototype.setUp=function(){this.analytics=a.AnalyticsService.get(this.context),this.onInit()},ReporterComponent}(o.GohanComponent);t.ReporterComponent=s,t.noop=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(125);!function(e){e.desktop="d",e.mobile="m",e.tablet="t"}(r=t.DeviceType||(t.DeviceType={}));var o=function(){function DeviceDetector(){}return DeviceDetector.isMobile=function(){return this.isHandheldDevice()},DeviceDetector.isHandheldDevice=function(){return i.BrowserContext.isMobile()||i.BrowserContext.isTablet()},DeviceDetector.autoplaySupport=function(){return i.BrowserContext.hasAutoplay()},DeviceDetector.isTablet=function(){return i.BrowserContext.isTablet()},DeviceDetector.getGeneralLanguage=function(){return this.getCompleteLocale().substr(0,2).toLocaleLowerCase()},DeviceDetector.getDevice=function(){return this.isHandheldDevice()?"handheld":"desktop"},DeviceDetector.getDeviceType=function(){return this.isTablet()?r.tablet:this.isMobile()?r.mobile:r.desktop},DeviceDetector.getOS=function(){var e=i.BrowserContext.getOS();return e?e.name:null},DeviceDetector.getCompleteLocale=function(){return i.BrowserContext.getLanguage()},DeviceDetector}();t.DeviceDetector=o,t.detector=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.f600x150="600x150",e.f150x600="150x600",e.f600x600="600x600",e.f300x116="300x116",e.f930x180="930x180",e.f300x1050="300x1050",e.f580x400="580x400",e.f336x280="336x280",e.f728x90="728x90",e.f320x50="320x50",e.f300x250="300x250",e.f120x600="120x600",e.f160x600="160x600",e.f10x1="10x1",e.f10x2="10x2",e.f10x3="10x3",e.f11x1="11x1",e.f11x2="11x2",e.f13x1="13x1",e.f13x2="13x2",e.f1x1="1x1",e.f11x4="11x4",e.f600x110="600x110"}(r=t.Format||(t.Format={}));var i=[r.f10x1,r.f10x2,r.f10x3,r.f11x1,r.f11x2,r.f13x1,r.f13x2,r.f1x1,r.f11x4,r.f600x110],o=[r.f728x90,r.f320x50,r.f300x250,r.f120x600,r.f160x600],a=[r.f930x180,r.f300x1050,r.f580x400,r.f336x280],s=[r.f13x1,r.f13x2,r.f300x116],c=[r.f1x1,r.f11x2,r.f600x110];function isFormat(e,t){return-1!==e.indexOf(t)}function isStandard(e){return isFormat(o,e)}t.isStandard=isStandard,t.isSeedtag=function(e){return!isStandard(e)},t.isSeedtagStandard=function(e){return isFormat(a,e)},t.isLowPriority=function(e){return isFormat(s,e)},t.isVideo=function(e){return isFormat(c,e)},t.isOld=function(e){return isFormat(i,e)};var u,l={"600x150":r.f930x180,"150x600":r.f300x1050,"600x600":r.f580x400,"300x116":r.f336x280},p=Object.keys(l).reduce(function(e,t){return e[l[t]]=t,e},{});t.seedtagToStd=function(e){return l[e]||e},t.stdToSeedtag=function(e){return p[e]||e},t.sizeToFormat=function(e){return r["f"+e.x+"x"+e.y]||r.f600x600},t.formatToSize=function(e){var t=e.split("x");return{x:parseInt(t[0],10),y:parseInt(t[1],10)}},function(e){e.unknown="unknown",e.inImageHorizontal="inImageHorizontal",e.inImageVertical="inImageVertical",e.fullImage="fullImage",e.inImageVideo="inImageVideo",e.fullImageVideo="fullImageVideo",e.openVideo="openVideo",e.inImageNative="inImageNative",e.MPU="MPU",e.mobileLeaderBoard="mobileLeaderBoard",e.leaderBoard="leaderBoard"}(u=t.Product||(t.Product={}));var d={unknown:[],inImageHorizontal:[r.f10x1,r.f600x150],inImageVertical:[r.f10x2,r.f150x600],fullImage:[r.f10x3,r.f600x600],inImageNative:[r.f13x2,r.f300x116],inImageVideo:[r.f1x1,r.f11x1],fullImageVideo:[r.f11x4],openVideo:[r.f11x2,r.f600x110],MPU:[r.f300x250],leaderBoard:[r.f728x90],mobileLeaderBoard:[r.f320x50]};t.getProduct=function(e){var t=Object.keys(d).filter(function(t){return d[t].indexOf(e)>=0})[0];return u[t]||u.unknown}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(178)),__export(n(179)),__export(n(238));var r=n(239);t.AdModel=r.AdModel},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(93),i=function(){function AdResponse(e){this.reason=r.NetworkReason.unknown,this.networks=[],this.request=e,this.time=Date.now()-e.time}return AdResponse.prototype.isAd=function(){return this.status===r.AdStatus.ad},AdResponse.prototype.isNoad=function(){return this.status===r.AdStatus.noad},AdResponse}();t.AdResponse=i,t.makeResponse=function(e,t,n,r){var o=new i(e);return o.status=t,o.reason=n,r&&(o.errorCode=r),o},t.makeAd=function(e,n,i){var o=t.makeResponse(e,r.AdStatus.ad,i||r.NetworkReason.ad);return o.ad=n,o},t.makeNoAd=function(e,n,i){return t.makeResponse(e,r.AdStatus.noad,n||r.NetworkReason.noad,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(114);function wrapInCatch(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return e.apply(this,t)}catch(e){r.ErrorHandler.trackError(e)}}}t.wrapInCatch=wrapInCatch,t.Publish=function(e,t){return function(n,r,i){var o=i.value;i.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.context.publish({channel:e,topic:t,data:wrapInCatch(o).apply(this,n)})}}},t.Subscribe=function(e,t){return function(n,r,i){var o=n.setUp,a=i.value;n.setUp=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];o.apply(this,n),this.context.subscribe({channel:e,topic:t,callback:wrapInCatch(a).bind(this)})}}}},function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r});var r=function(e,t){void 0===t&&(t=null),_defineProperty(this,"type",void 0),_defineProperty(this,"data",void 0),this.type=e,this.data=t};_defineProperty(r,"AdLoaded","AdLoaded"),_defineProperty(r,"AdStarted","AdStarted"),_defineProperty(r,"AdStopped","AdStopped"),_defineProperty(r,"AdSkipped","AdSkipped"),_defineProperty(r,"AdLinearChange","AdLinearChange"),_defineProperty(r,"AdSizeChange","AdSizeChange"),_defineProperty(r,"AdExpandedChange","AdExpandedChange"),_defineProperty(r,"AdSkippableStateChange","AdSkippableStateChange"),_defineProperty(r,"AdRemainingTimeChange","AdRemainingTimeChange"),_defineProperty(r,"AdDurationChange","AdDurationChange"),_defineProperty(r,"AdVolumeChange","AdVolumeChange"),_defineProperty(r,"AdImpression","AdImpression"),_defineProperty(r,"AdVideoStart","AdVideoStart"),_defineProperty(r,"AdVideoFirstQuartile","AdVideoFirstQuartile"),_defineProperty(r,"AdVideoMidpoint","AdVideoMidpoint"),_defineProperty(r,"AdVideoThirdQuartile","AdVideoThirdQuartile"),_defineProperty(r,"AdVideoComplete","AdVideoComplete"),_defineProperty(r,"AdClickThru","AdClickThru"),_defineProperty(r,"AdInteraction","AdInteraction"),_defineProperty(r,"AdUserAcceptInvitation","AdUserAcceptInvitation"),_defineProperty(r,"AdUserMinimize","AdUserMinimize"),_defineProperty(r,"AdUserClose","AdUserClose"),_defineProperty(r,"AdPaused","AdPaused"),_defineProperty(r,"AdPlaying","AdPlaying"),_defineProperty(r,"AdLog","AdLog"),_defineProperty(r,"AdError","AdError")},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=function(e){function TargetingComponent(){return null!==e&&e.apply(this,arguments)||this}return i(TargetingComponent,e),TargetingComponent.prototype.setUp=function(){},TargetingComponent.prototype.publishTargeting=function(e){return{page:e}},TargetingComponent.prototype.subscribeTargeting=function(e){var t=e.adunit;this.publishTargeting(this.onTargetingRequest(t))},o([s.Publish("targeting","resolve"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TargetingComponent.prototype,"publishTargeting",null),o([s.Subscribe("targeting","request"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TargetingComponent.prototype,"subscribeTargeting",null),TargetingComponent}(s.GohanComponent);t.TargetingComponent=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){},i=function(){function Observer(e,t,n){void 0===t&&(t=r),void 0===n&&(n=r),this.throwFn=r,this.completeFn=r,this.nextFn=e,this.throwFn=t,this.completeFn=n}return Observer.fromListener=function(e){return new Observer(e.onNext,e.onError,e.onComplete)},Observer.prototype.next=function(e){this.nextFn&&this.nextFn(e)},Observer.prototype.throw=function(e){this.throwFn(e)},Observer.prototype.complete=function(){this.completeFn()},Observer}(),o=function(){function Stream(e){var t=this;this._hasEnded=!1,this._subscribers=[],e&&setTimeout(function(){t.next(e)})}return Stream.of=function(e){return Stream.create(function(t){t.nextComplete(e)})},Stream.create=function(e,t){var n=new Stream;if(e){var r=n.subscribe;n.subscribe=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=r.apply(n,i);return setTimeout(function(){e(n)}),function(){t&&t(),a()}}}return n},Stream.timeout=function(e){if("number"!=typeof e)throw Error("Stream.interval(ms) argument must be a number");return Stream.create(function(t){setTimeout(function(){return t.complete()},e)})},Stream.interval=function(e,t){if("number"!=typeof e)throw Error("Stream.interval(ms) argument must be a number");var n,r;return Stream.create(function(i){if(!n){r=0;var o=function(){r++,i.next(r)};n=setInterval(o,e),t&&setTimeout(o)}},function(){return clearInterval(n)})},Stream.empty=function(){var e=new Stream;return setTimeout(function(){return e.complete()},0),e},Stream.fromPromise=function(e){var t,n=this;return e.catch(function(e){t=e}),Stream.create(function(r){return function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})}(n,void 0,void 0,function(){var n,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(a){switch(a.label){case 0:return t?(r.throw(t),[3,4]):[3,1];case 1:return a.trys.push([1,3,,4]),i=(n=r).next,[4,e];case 2:return i.apply(n,[a.sent()]),[3,4];case 3:return o=a.sent(),r.throw(o),[3,4];case 4:return r.complete(),[2]}})})})},Stream.fromList=function(e){return Stream.create(function(t){e.forEach(function(e){return t.next(e)}),t.complete()})},Stream.merge=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=Stream.mergeTwo(e,o)}return e},Stream.mergeTwo=function(e,t){return Stream.create(function(n){var r=0,i={onNext:function(e){return n.next(e)},onError:function(e){return n.throw(e)},onComplete:function(){2<=++r&&n.complete()}};e.subscribe(i),t.subscribe(i)})},Stream.prototype.toListFuture=function(){var e=this;return new Promise(function(t,n){var r=[],i={onNext:function(e){e&&r.push(e)},onError:function(e){n(e)},onComplete:function(){o(),t(r)}},o=e.subscribe(i)})},Stream.prototype.complete=function(){if(!this._hasEnded){this._hasEnded=!0;try{this._subscribers.forEach(function(e){return e.complete()})}catch(e){this.throw(e)}}},Stream.prototype.throw=function(e){if(!this._hasEnded)try{this._subscribers.forEach(function(t){return t.throw(e)})}catch(e){throw e}},Stream.prototype.next=function(e){if(!this._hasEnded)try{this._subscribers.forEach(function(t){return t.next(e)})}catch(e){this.throw(e)}},Stream.prototype.nextComplete=function(e){this.next(e),this.complete()},Stream.prototype.flatMap=function(e){return applyStreamMiddleware.call(this,function(t,n,r){return new i(function(n){e(n).subscribe({onNext:function(e){return t.next(e)},onError:function(e){return t.throw(e)}})},t.throw.bind(t))})},Stream.prototype.map=function(e){return applyStreamMiddleware.call(this,function(t,n,r){return new i(function(n){return t.next(e(n))},t.throw.bind(t),t.complete.bind(t))})},Stream.prototype.filter=function(e){return applyStreamMiddleware.call(this,function(t,n,r){return new i(function(n){return e(n)?t.next(n):null},t.throw.bind(t),t.complete.bind(t))})},Stream.prototype.distinctUntilChanged=function(){var e;return applyStreamMiddleware.call(this,function(t,n,r){return new i(function(n){e!==n&&t.next(n),e=n},t.throw.bind(t),t.complete.bind(t))})},Stream.prototype.take=function(e){var t=0;return applyStreamMiddleware.call(this,function(n,r,o){return new i(function(r){t++,o._hasEnded||n.next(r),e<=t&&o.complete()},n.throw.bind(n),n.complete.bind(n))})},Stream.prototype.scan=function(e,t){var n=0,r=t;return applyStreamMiddleware.call(this,function(t,o,a){return new i(function(i){r=e(r,i,n++),t.next(r)},t.throw.bind(t),t.complete.bind(t))})},Stream.prototype.zipWithIndex=function(){var e=0;return applyStreamMiddleware.call(this,function(t,n,r){return new i(function(n){t.next({_1:n,_2:e++})},t.throw.bind(t),t.complete.bind(t))})},Stream.prototype.do=function(e){return applyStreamMiddleware.call(this,function(t){return new i(function(n){return e(n),t.next(n)},t.throw.bind(t),t.complete.bind(t))})},Stream.prototype.subscribe=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_subscriberFromArgs.apply(void 0,t);return this._subscribers.push(r),function(){return e._subscribers.splice(e._subscribers.indexOf(r),1)}},Stream}();function _subscriberFromArgs(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw Error("Cannot subscribe without listener");if(t[0]instanceof i)e=t[0];else if(t[0]instanceof o){var r=t[0];e=new i(r.next.bind(r),r.throw.bind(r),r.complete.bind(r))}else if(t[0].onNext)e=i.fromListener(t[0]);else{var a=t[0],s=t[1]||function(e){throw e},c=t[2]||function(){};e=new i(a,s,c)}return e}function applyStreamMiddleware(e){var t=this,n=new o,r=n.subscribe;return n.subscribe=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=_subscriberFromArgs.apply(void 0,i),s=e(a,t,n),c=s.completeFn;s.completeFn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c.apply(this,e),n.complete()};var u=t.subscribe(s),l=r.apply(n,[s]);return function(){l(),u()}},n}t.Observer=i,t.Stream=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(89),l=n(92),p=n(87),d=n(88),f=n(177);n(248);var h=function(e){function AdUnit(t,n){var r=e.call(this,t,n)||this;return r.children=u.StArray.from([]),r.$el=document.createElement("div"),r.$container=document.createElement("div"),r.state={adRequested:!1,adInserted:!1},r._imageId=null,r.admodel=null,r.hidden=!1,r.evaluableJs=r.context.get("factory.evaluable"),r.model=n.model,r.tagElement=n.tagElement,r.$container.className="st-container",r.viewability=n.model.viewability,r.$el.classList.add("seedtag-gohan","seedtag-adunit",r.getClassName()),r.$el.appendChild(r.$container),r.$container.addEventListener("click",function(e){e.stopPropagation()}),r.mount(),r}return i(AdUnit,e),AdUnit.prototype.mount=function(){this.tagElement.parentNode.insertBefore(this.$el,this.tagElement.nextSibling)},AdUnit.prototype.getZindex=function(){return parseInt(this.tagElement.style.zIndex||"0",void 0)+1},AdUnit.prototype.show=function(){this.$el.style.display="block",this.hidden=!1},AdUnit.prototype.hide=function(){this.$el.style.display="none",this.hidden=!0},AdUnit.prototype.getCoreBehaviours=function(){return[new f.LazyInsertBehaviour,new f.ContextBehaviour,new f.RenderBehaviour,new f.ScrollBehaviour,new f.VisibilityBehaviour,new f.SherlockBehaviour]},AdUnit.prototype.setUp=function(){this.addBehaviours(this.getCoreBehaviours())},AdUnit.prototype.configureId=function(e,t){this._imageId=e,this.model.sherlock=t},AdUnit.prototype.addComponent=function(e){e.setAdunit(this),this.children.push(e),this.$container.appendChild(e.$el),e.onInsert(),this.render()},AdUnit.prototype.removeComponent=function(e){this.children=this.children.filter(function(t){return t!==e}),e.onDestroy(),e.$el.remove&&e.$el.remove();var t=e;t.$el.removeNode&&t.$el.removeNode()},AdUnit.prototype.isOverViewport=function(){return this.tagElement.getBoundingClientRect().bottom<0},AdUnit.prototype.getTagId=function(){var e=null,t=this.model.name?this.model.name.split("-"):[],n=parseInt(t[t.length-1],10);return isNaN(n)||(e=n),this.model.adserverId?this.model.adserverId:e},AdUnit.prototype.getTaggedElement=function(){return this.tagElement},AdUnit.prototype.getModel=function(){return this.model},AdUnit.prototype.getPosition=function(){return d.Util.offset(this.tagElement)},AdUnit.prototype.getImageSize=function(){var e=d.getElementSize(this.tagElement),t=this.getAdditionalRenderingData();return{x:e.x+t.addToWidth,y:e.y+t.addToTop+t.addToHeight}},AdUnit.prototype.getAdditionalRenderingData=function(){var e=this.model.additionalRenderingData||{addToHeight:{expression:"return 0"},addToLeft:{expression:"return 0"},addToTop:{expression:"return 0"},addToWidth:{expression:"return 0"}};return{addToHeight:this.evaluableJs(e.addToHeight).evaluate()||0,addToLeft:this.evaluableJs(e.addToLeft).evaluate()||0,addToTop:this.evaluableJs(e.addToTop).evaluate()||0,addToWidth:this.evaluableJs(e.addToWidth).evaluate()||0}},AdUnit.prototype.insertAd=function(e){void 0===e&&(e=!0),this.admodel&&!this.state.adInserted&&(this.state.adInserted=!0,this.addComponent(this.ad))},AdUnit.prototype.destroyAd=function(){this.ad&&this.removeComponent(this.ad),this.ad=null,this.admodel=null,this.state.adRequested=!1,this.state.adInserted=!1,this.tryRequestAd()},AdUnit.prototype.tryInsertAd=function(){this.canInsertAd()&&this.insertAd()},AdUnit.prototype.tryRequestAd=function(){this.canRequestAd()&&!this.state.adRequested&&(this.state.adRequested=!0,this.requestAd())},AdUnit.prototype.onInsert=function(){this.tryRequestAd()},AdUnit.prototype.canRequestAd=function(){return!this.state.adRequested},AdUnit.prototype.requestAd=function(){},AdUnit.prototype.onAdPicked=function(e){return s(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return this.admodel=e,t=this,[4,this.makeAd(e)];case 1:return t.ad=n.sent(),this.tryInsertAd(),[2]}})})},AdUnit.prototype.canInsertAd=function(){return null!==this.admodel&&!this.state.adInserted},AdUnit.prototype.destroy=function(){this.$el.remove()},AdUnit.prototype.render=function(){},AdUnit.prototype.onVisibilityChange=function(e){},AdUnit.prototype.makeAd=function(e){return s(this,void 0,void 0,function(){var t;return c(this,function(r){switch(r.label){case 0:return[4,Promise.resolve().then(function(){return n(251)})];case 1:return t=r.sent().AdViewFactory,[2,new t(this.context).get(e,this)]}})})},AdUnit.prototype.getClassName=function(){return"st-in-image"},o([l.BehaveEvent,a("design:type",Function),a("design:paramtypes",[Boolean]),a("design:returntype",void 0)],AdUnit.prototype,"insertAd",null),o([l.BehaveEvent,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdUnit.prototype,"onInsert",null),o([l.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdUnit.prototype,"canRequestAd",null),o([l.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdUnit.prototype,"requestAd",null),o([l.BehaveEvent,a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",Promise)],AdUnit.prototype,"onAdPicked",null),o([l.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdUnit.prototype,"canInsertAd",null),o([l.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdUnit.prototype,"destroy",null),o([l.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdUnit.prototype,"render",null),o([l.BehaveEvent,a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AdUnit.prototype,"onVisibilityChange",null),AdUnit}(p.GohanComponent);t.AdUnit=h},function(e,t,n){"use strict";n.r(t);t.default={AD_METADATA:"adMetadata",ALL_ADS_COMPLETED:"allAdsCompleted",CLICK:"click",COMPLETE:"complete",DURATION_CHANGE:"durationChange",FIRST_QUARTILE:"firstquartile",IMPRESSION:"impression",INTERACTION:"interaction",LINEAR_CHANGED:"linearChanged",LOADED:"loaded",LOG:"log",MIDPOINT:"midpoint",PAUSED:"pause",RESUMED:"resume",SKIPPABLE_STATE_CHANGED:"skippableStateChanged",SKIPPED:"skip",STARTED:"start",THIRD_QUARTILE:"thirdquartile",USER_CLOSE:"userClose",VOLUME_CHANGED:"volumeChange",VOLUME_MUTED:"mute",VIEWABLE_IMPRESSION:"viewable_impression",AD_ERROR:"adError"}},function(e,t,n){"use strict";var r,i,o,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a=function(e){function isValueObject(e){return!(!e||"function"!=typeof e.equals||"function"!=typeof e.hashCode)}function is(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){var n=e.valueOf(),r=t.valueOf();if(n===r||n!=n&&r!=r)return!0;if(!n||!r)return!1}return!(!isValueObject(e)||!e.equals(t))}function equals(e,t){return is(e,t)}var t={equals:equals};function hashCode(e){if("number"==typeof e)return e&e;if("function"==typeof e.valueOf){var t=e.valueOf();if(t!==e)return hashCode(t)}return isValueObject(e)?e.hashCode():hashCodeOfString(String(e))}function hashCodeOfString(e){var t=0;if(null==e||0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t},a=function(e){function CompositeError(e){n(this,CompositeError);var t="",r=!0,i=!1,a=void 0;try{for(var s,c=e.slice(0,2)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;t+=", "+(u instanceof Error?u.name+"("+u.message+")":""+u)}}catch(e){i=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}t=t.slice(2),e.length>2&&(t+=", ...");var l=o(this,(CompositeError.__proto__||Object.getPrototypeOf(CompositeError)).call(this,t));l.name="CompositeError",l.errorsRef=e;var p=l;return p.constructor=CompositeError,p.__proto__=CompositeError.prototype,l}return i(CompositeError,e),r(CompositeError,[{key:"errors",value:function(){return this.errorsRef.slice()}}]),CompositeError}(Error),c=function(e){function DummyError(e){n(this,DummyError);var t=o(this,(DummyError.__proto__||Object.getPrototypeOf(DummyError)).call(this,e));t.name="DummyError";var r=t;return r.constructor=DummyError,r.__proto__=DummyError.prototype,t}return i(DummyError,e),DummyError}(Error),u=function(e){function NoSuchElementError(e){n(this,NoSuchElementError);var t=o(this,(NoSuchElementError.__proto__||Object.getPrototypeOf(NoSuchElementError)).call(this,e));t.name="NoSuchElementError";var r=t;return r.constructor=NoSuchElementError,r.__proto__=NoSuchElementError.prototype,t}return i(NoSuchElementError,e),NoSuchElementError}(Error),l=function(e){function IllegalInheritanceError(e){n(this,IllegalInheritanceError);var t=o(this,(IllegalInheritanceError.__proto__||Object.getPrototypeOf(IllegalInheritanceError)).call(this,e));t.name="IllegalInheritanceError";var r=t;return r.constructor=IllegalInheritanceError,r.__proto__=IllegalInheritanceError.prototype,t}return i(IllegalInheritanceError,e),IllegalInheritanceError}(Error),p=function(e){function IllegalStateError(e){n(this,IllegalStateError);var t=o(this,(IllegalStateError.__proto__||Object.getPrototypeOf(IllegalStateError)).call(this,e));t.name="IllegalStateError";var r=t;return r.constructor=IllegalStateError,r.__proto__=IllegalStateError.prototype,t}return i(IllegalStateError,e),IllegalStateError}(Error),d=function(e){function IllegalArgumentError(e){n(this,IllegalArgumentError);var t=o(this,(IllegalArgumentError.__proto__||Object.getPrototypeOf(IllegalArgumentError)).call(this,e));t.name="IllegalArgumentError";var r=t;return r.constructor=IllegalArgumentError,r.__proto__=IllegalArgumentError.prototype,t}return i(IllegalArgumentError,e),IllegalArgumentError}(Error),f=function(e){function NotImplementedError(e){n(this,NotImplementedError);var t=o(this,(NotImplementedError.__proto__||Object.getPrototypeOf(NotImplementedError)).call(this,e));t.name="NotImplementedError";var r=t;return r.constructor=NotImplementedError,r.__proto__=NotImplementedError.prototype,t}return i(NotImplementedError,e),NotImplementedError}(Error),h=function(e){function TimeoutError(e){n(this,TimeoutError);var t=o(this,(TimeoutError.__proto__||Object.getPrototypeOf(TimeoutError)).call(this,e));t.name="TimeoutError";var r=t;return r.constructor=TimeoutError,r.__proto__=TimeoutError.prototype,t}return i(TimeoutError,e),TimeoutError}(Error);function convertToMethod(e){return function(){var t=Array.prototype.slice.call(arguments);return t.push(this),e.apply(void 0,t)}}function fantasyLandRegister(e,t,n){var r=e,i=r.prototype,o="fantasy-land/",a=o+"map",s=o+"ap",c=o+"of";i.equals?i["fantasy-land/equals"]=i.equals:n&&(i["fantasy-land/equals"]=convertToMethod(n.equals)),i.map?i[a]=i.map:t&&(i[a]=convertToMethod(t.map)),i.ap?i[s]=i.ap:t&&(i[s]=convertToMethod(t.ap)),r.pure?r[c]=r.pure:t&&(r[c]=t.of),i.chain?i["fantasy-land/chain"]=i.chain:t&&(i["fantasy-land/chain"]=convertToMethod(t.chain)),r.chainRec?r["fantasy-land/chainRec"]=r.chainRec:t&&(r["fantasy-land/chainRec"]=t.chainRec)}var g=Object.freeze({convertToMethod:convertToMethod,fantasyLandRegister:fantasyLandRegister}),y=function(){function Either(e,t){n(this,Either),this._isRight="right"===t,this.value=e}return r(Either,[{key:"isLeft",value:function(){return!this._isRight}},{key:"isRight",value:function(){return this._isRight}},{key:"contains",value:function(e){return this._isRight&&is(this.value,e)}},{key:"exists",value:function(e){return this._isRight&&e(this.value)}},{key:"filterOrElse",value:function(e,t){return this._isRight?e(this.value)?this:Left(t()):this}},{key:"flatMap",value:function(e){return this._isRight?e(this.value):this}},{key:"chain",value:function(e){return this.flatMap(e)}},{key:"ap",value:function(e){var t=this;return e.flatMap(function(e){return t.map(e)})}},{key:"fold",value:function(e,t){return this._isRight?t(this.value):e(this.value)}},{key:"forAll",value:function(e){return!this._isRight||e(this.value)}},{key:"get",value:function(){if(this._isRight)return this.value;throw new u("left.get()")}},{key:"getOrElse",value:function(e){return this._isRight?this.value:e}},{key:"getOrElseL",value:function(e){return this._isRight?this.value:e()}},{key:"map",value:function(e){return this._isRight?Right(e(this.value)):this}},{key:"forEach",value:function(e){this._isRight&&e(this.value)}},{key:"swap",value:function(){return this._isRight?Left(this.value):Right(this.value)}},{key:"toOption",value:function(){return this._isRight?Some(this.value):S}},{key:"equals",value:function(e){return null!=e&&(this._isRight===e._isRight&&is(this.value,e.value))}},{key:"hashCode",value:function(){return this._isRight?hashCode(this.value)<<2:hashCode(this.value)<<3}}],[{key:"pure",value:function(e){return new m(e)}},{key:"left",value:function(e){return Left(e)}},{key:"right",value:function(e){return Right(e)}},{key:"map2",value:function(e,t,n){return e.isLeft()?e:t.isLeft()?t:Right(n(e.value,t.value))}},{key:"map3",value:function(e,t,n,r){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:Right(r(e.value,t.value,n.value))}},{key:"map4",value:function(e,t,n,r,i){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:r.isLeft()?r:Right(i(e.value,t.value,n.value,r.value))}},{key:"map5",value:function(e,t,n,r,i,o){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:r.isLeft()?r:i.isLeft()?i:Right(o(e.value,t.value,n.value,r.value,i.value))}},{key:"map6",value:function(e,t,n,r,i,o,a){return e.isLeft()?e:t.isLeft()?t:n.isLeft()?n:r.isLeft()?r:i.isLeft()?i:o.isLeft()?o:Right(a(e.value,t.value,n.value,r.value,i.value,o.value))}},{key:"tailRecM",value:function(e,t){for(var n=e;;){var r=t(n);if(!r.isRight())return r;var i=r.value;if(i.isRight())return Right(i.value);n=i.value}}}]),Either}(),v=function(e){function TLeft(e){return n(this,TLeft),o(this,(TLeft.__proto__||Object.getPrototypeOf(TLeft)).call(this,e,"left"))}return i(TLeft,y),TLeft}();function Left(e){return new v(e)}var m=function(e){function TRight(e){return n(this,TRight),o(this,(TRight.__proto__||Object.getPrototypeOf(TRight)).call(this,e,"right"))}return i(TRight,y),TRight}();function Right(e){return new m(e)}var b={equals:function(e,t){return e?e.equals(t):!t},map:function(e,t){return t.map(e)},ap:function(e,t){return t.ap(e)},of:y.pure,chain:function(e,t){return t.flatMap(e)},chainRec:function(e,t){return y.tailRecM(t,function(t){return e(y.left,y.right,t)})}};fantasyLandRegister(y,b,b);var _=function(){function Option(e,t){n(this,Option),this._isEmpty=null!=t?t:null===e||void 0===e,this.value=e}return r(Option,[{key:"get",value:function(){if(!this._isEmpty)return this.value;throw new u("Option.get")}},{key:"getOrElse",value:function(e){return this._isEmpty?e:this.value}},{key:"orNull",value:function(){return this._isEmpty?null:this.value}},{key:"orUndefined",value:function(){return this._isEmpty?void 0:this.value}},{key:"getOrElseL",value:function(e){return this._isEmpty?e():this.value}},{key:"orElse",value:function(e){return this._isEmpty?e:this}},{key:"orElseL",value:function(e){return this._isEmpty?e():this}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"nonEmpty",value:function(){return!this._isEmpty}},{key:"map",value:function(e){return this._isEmpty?S:Some(e(this.value))}},{key:"flatMap",value:function(e){return this._isEmpty?S:e(this.value)}},{key:"chain",value:function(e){return this.flatMap(e)}},{key:"ap",value:function(e){var t=this;return e.flatMap(function(e){return t.map(e)})}},{key:"filter",value:function(e){return this._isEmpty||!e(this.value)?S:this}},{key:"fold",value:function(e,t){return this._isEmpty?e():t(this.value)}},{key:"contains",value:function(e){return!this._isEmpty&&is(this.value,e)}},{key:"exists",value:function(e){return!this._isEmpty&&e(this.value)}},{key:"forAll",value:function(e){return this._isEmpty||e(this.value)}},{key:"forEach",value:function(e){this._isEmpty||e(this.value)}},{key:"equals",value:function(e){return null!=e&&(this.nonEmpty()&&e.nonEmpty()?is(this.value,e.value):this.isEmpty()&&e.isEmpty())}},{key:"hashCode",value:function(){return this._isEmpty?2433880:null==this.value?9735524:hashCode(this.value)<<2}}],[{key:"of",value:function(e){return null!=e?Some(e):S}},{key:"some",value:function(e){return new Option(e,!1)}},{key:"none",value:function(){return S}},{key:"empty",value:function(){return S}},{key:"pure",value:function(e){return Some(e)}},{key:"map2",value:function(e,t,n){return e.nonEmpty()&&t.nonEmpty()?Some(n(e.value,t.value)):S}},{key:"map3",value:function(e,t,n,r){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()?Some(r(e.value,t.value,n.value)):S}},{key:"map4",value:function(e,t,n,r,i){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()&&r.nonEmpty()?Some(i(e.value,t.value,n.value,r.value)):S}},{key:"map5",value:function(e,t,n,r,i,o){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()&&r.nonEmpty()&&i.nonEmpty()?Some(o(e.value,t.value,n.value,r.value,i.value)):S}},{key:"map6",value:function(e,t,n,r,i,o,a){return e.nonEmpty()&&t.nonEmpty()&&n.nonEmpty()&&r.nonEmpty()&&i.nonEmpty()&&o.nonEmpty()?Some(a(e.value,t.value,n.value,r.value,i.value,o.value)):S}},{key:"tailRecM",value:function(e,t){for(var n=e;;){var r=t(n);if(!r.nonEmpty())return S;var i=r.value;if(i.isRight())return Some(i.value);n=i.value}}}]),Option}(),w=function(e){function TSome(e){return n(this,TSome),o(this,(TSome.__proto__||Object.getPrototypeOf(TSome)).call(this,e,!1))}return i(TSome,_),TSome}();function Some(e){return new w(e)}var A=function(e){function TNone(){return n(this,TNone),o(this,(TNone.__proto__||Object.getPrototypeOf(TNone)).call(this,void 0,!0))}return i(TNone,_),TNone}(),S=new A,O={equals:function(e,t){return e?e.equals(t):!t},map:function(e,t){return t.map(e)},ap:function(e,t){return t.ap(e)},of:_.pure,chain:function(e,t){return t.flatMap(e)},chainRec:function(e,t){return _.tailRecM(t,function(t){return e(y.left,y.right,t)})}};fantasyLandRegister(_,O,O);var E=function(){function Try(e,t){n(this,Try),this._isSuccess="success"===t,this.value=e}return r(Try,[{key:"isSuccess",value:function(){return this._isSuccess}},{key:"isFailure",value:function(){return!this._isSuccess}},{key:"get",value:function(){if(!this._isSuccess)throw this.value;return this.value}},{key:"getOrElse",value:function(e){return this._isSuccess?this.value:e}},{key:"getOrElseL",value:function(e){return this._isSuccess?this.value:e()}},{key:"orNull",value:function(){return this._isSuccess?this.value:null}},{key:"orUndefined",value:function(){return this._isSuccess?this.value:void 0}},{key:"orElse",value:function(e){return this._isSuccess?this:e}},{key:"orElseL",value:function(e){return this._isSuccess?this:e()}},{key:"failed",value:function(){return this._isSuccess?Failure(new u("try.failed()")):Success(this.value)}},{key:"fold",value:function(e,t){return this._isSuccess?t(this.value):e(this.value)}},{key:"filter",value:function(e){if(!this._isSuccess)return this;try{return e(this.value)?this:Failure(new u("Predicate does not hold for "+this.value))}catch(e){return Failure(e)}}},{key:"flatMap",value:function(e){if(!this._isSuccess)return this;try{return e(this.value)}catch(e){return Failure(e)}}},{key:"chain",value:function(e){return this.flatMap(e)}},{key:"ap",value:function(e){var t=this;return e.flatMap(function(e){return t.map(e)})}},{key:"map",value:function(e){var t=this;return this._isSuccess?Try.of(function(){return e(t.value)}):this}},{key:"forEach",value:function(e){this._isSuccess&&e(this.value)}},{key:"recover",value:function(e){var t=this;return this._isSuccess?this:Try.of(function(){return e(t.value)})}},{key:"recoverWith",value:function(e){try{return this._isSuccess?this:e(this.value)}catch(e){return Failure(e)}}},{key:"toOption",value:function(){return this._isSuccess?Some(this.value):S}},{key:"toEither",value:function(){return this._isSuccess?Right(this.value):Left(this.value)}},{key:"equals",value:function(e){return null!=e&&(this._isSuccess?e._isSuccess&&is(this.value,e.value):!e._isSuccess&&is(this.value,e.value))}},{key:"hashCode",value:function(){return this._isSuccess,hashCode(this.value)}}],[{key:"of",value:function(e){try{return Success(e())}catch(e){return Failure(e)}}},{key:"pure",value:function(e){return Try.success(e)}},{key:"unit",value:function(){return T}},{key:"success",value:function(e){return Success(e)}},{key:"failure",value:function(e){return Failure(e)}},{key:"raise",value:function(e){return Failure(e)}},{key:"map2",value:function(e,t,n){if(e.isFailure())return e;if(t.isFailure())return t;try{return Success(n(e.value,t.value))}catch(e){return Failure(e)}}},{key:"map3",value:function(e,t,n,r){if(e.isFailure())return e;if(t.isFailure())return t;if(n.isFailure())return n;try{return Success(r(e.value,t.value,n.value))}catch(e){return Failure(e)}}},{key:"map4",value:function(e,t,n,r,i){if(e.isFailure())return e;if(t.isFailure())return t;if(n.isFailure())return n;if(r.isFailure())return r;try{return Success(i(e.value,t.value,n.value,r.value))}catch(e){return Failure(e)}}},{key:"map5",value:function(e,t,n,r,i,o){if(e.isFailure())return e;if(t.isFailure())return t;if(n.isFailure())return n;if(r.isFailure())return r;if(i.isFailure())return i;try{return Success(o(e.value,t.value,n.value,r.value,i.value))}catch(e){return Failure(e)}}},{key:"map6",value:function(e,t,n,r,i,o,a){if(e.isFailure())return e;if(t.isFailure())return t;if(n.isFailure())return n;if(r.isFailure())return r;if(i.isFailure())return i;if(o.isFailure())return o;try{return Success(a(e.value,t.value,n.value,r.value,i.value,o.value))}catch(e){return Failure(e)}}},{key:"tailRecM",value:function(e,t){for(var n=e;;)try{var r=t(n);if(r.isFailure())return r;var i=r.get();if(i.isRight())return Success(i.value);n=i.value}catch(e){return Failure(e)}}}]),Try}(),P=function(e){function TSuccess(e){return n(this,TSuccess),o(this,(TSuccess.__proto__||Object.getPrototypeOf(TSuccess)).call(this,e,"success"))}return i(TSuccess,E),TSuccess}();function Success(e){return new P(e)}var x=function(e){function TFailure(e){return n(this,TFailure),o(this,(TFailure.__proto__||Object.getPrototypeOf(TFailure)).call(this,e,"failure"))}return i(TFailure,E),TFailure}();function Failure(e){return new x(e)}var C={equals:function(e,t){return e?e.equals(t):!t},map:function(e,t){return t.map(e)},ap:function(e,t){return t.ap(e)},of:E.pure,chain:function(e,t){return t.flatMap(e)},chainRec:function(e,t){return E.tailRecM(t,function(t){return e(y.left,y.right,t)})}};fantasyLandRegister(E,C,C);var T=Success(void 0);e.coreInternals=g,e.isValueObject=isValueObject,e.is=is,e.equals=equals,e.universalSetoid=t,e.hashCode=hashCode,e.hashCodeOfString=hashCodeOfString,e.id=function(e){return e},e.applyMixins=function(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(n){e.prototype[n]||(e.prototype[n]=t.prototype[n])})})},e.CompositeError=a,e.DummyError=c,e.NoSuchElementError=u,e.IllegalInheritanceError=l,e.IllegalStateError=p,e.IllegalArgumentError=d,e.NotImplementedError=f,e.TimeoutError=h,e.Either=y,e.TLeft=v,e.Left=Left,e.TRight=m,e.Right=Right,e.EitherModule=b,e.Option=_,e.TSome=w,e.Some=Some,e.TNone=A,e.None=S,e.OptionModule=O,e.Try=E,e.TSuccess=P,e.Success=Success,e.TFailure=x,e.Failure=Failure,e.TryModule=C,Object.defineProperty(e,"__esModule",{value:!0})},"object"===s(t)&&void 0!==e?a(t):(i=[t],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(90),s=n(384);n(390),n(391),n(393),n(395),n(397),n(398);var c=n(135),u={width:"100%",backgroundColor:"rgb(220, 220, 220)",display:"flex",justifyContent:"flex-end"},l=function(e){return a.createElement("div",{style:u},a.createElement("button",{onClick:e.onMaximize,style:{display:"flex",alignItems:"center"}},a.createElement("p",{color:"white"},e.isMaximize?"Minimize ":"Maximize "),a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24"},a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}))))},p={getCompletions:function(e,t,n,r,i){c.publicMethods.map(function(e){return"greg."+e});i(null,c.publicMethods.map(function(e){var t="greg."+e;return{caption:t,value:t,meta:c.methodsDoc[e]}}))}},d=function(e){function JSEditor(t,n){var r=e.call(this,t,n)||this;return r.editorOptions={mode:"javascript",theme:"textmate",fontSize:14,showPrintMargin:!0,height:"auto",minLines:3,showGutter:!0,highlightActiveLine:!1,setOptions:{enableEmmet:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2}},r.defaultState={isMaximized:!1,style:{},height:r.props.height||"60px",width:r.props.width||"100%",value:""},r.onToggleMaximize=function(){r.state.isMaximized?r.minimize():r.maximize()},r.setState(o({},r.defaultState,{value:t.value||r.defaultState.value})),r}return i(JSEditor,e),JSEditor.prototype.componentWillReceiveProps=function(e){e.value!==this.state.value&&this.setState({value:e.value||""})},JSEditor.prototype.minimize=function(){this.setState(this.defaultState)},JSEditor.prototype.maximize=function(){this.setState({isMaximized:!0,style:{height:window.innerHeight+"px",width:window.innerWidth+"px",position:"fixed",top:0,left:0,zIndex:999},height:window.innerHeight+"px",width:window.innerWidth+"px"})},JSEditor.prototype.render=function(){var e=this.refs.editorRef&&this.refs.editorRef.editor;return e&&e.completers&&-1===e.completers.indexOf(p)&&e.completers.push(p),a.createElement("div",{style:this.state.style},a.createElement(l,{isMaximize:this.state.isMaximized,onMaximize:this.onToggleMaximize}),a.createElement(s.default,o({ref:"editorRef"},this.editorOptions,{height:this.state.height,width:this.state.width},{value:this.state.value,onChange:this.handleChange.bind(this),onBlur:this.triggerChange.bind(this)})))},JSEditor.prototype.handleChange=function(e){var t=this;this.setState({value:e}),clearTimeout(this.timer),this.timer=setTimeout(function(){t.triggerChange()},2e3)},JSEditor.prototype.triggerChange=function(){this.props.onChange&&this.props.onChange(this.state.value)},JSEditor}(a.Component);t.JSEditor=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(229))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(88),o=n(89),a={withCredentials:!1,json:!0,base64:!1,xhr:!1};t.fetch=function(e,t,n,s){var c=r({},a,s||{}),u={url:t,method:e.toUpperCase(),headers:{}};if("GET"===u.method&&n){var l=/\?/.test(u.url)?"&":"?";u.url+=""+l+o.StArray.from(Object.keys(n)).map(function(e){return e+"="+encodeURIComponent(n[e])}).join("&")}else n&&(u.body=i.isObject(n)?JSON.stringify(n):n,i.isString(u.body)&&!0===c.base64&&(u.body=window.btoa(u.body)),c.json&&!c.base64&&(u.headers["Content-Type"]="application/json"));return new Promise(function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){var r;4===n.readyState&&(200===n.status&&n.status<300?function(){var t=n.responseText,r=n.getResponseHeader("Content-Type");if(t=/application\/json/.test((r||"").toLowerCase())?JSON.parse(t):t,c.xhr&&s)try{t.__xhr=n}catch(e){}e(t)}():(r=n.status,t(new TypeError("Network request failed ("+r+")"))))},n.open(u.method,u.url,!0),n.withCredentials=c.withCredentials||!1,Object.keys(u.headers).forEach(function(e){n.setRequestHeader(e,u.headers[e])}),n.send("GET"!==u.method?u.body:void 0)})}},,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(93),a=function(){function AdRequest(e,t,n,o,a){var s=this;this.adapter=e,this.network=t,this.targeting=o,this.adUnit=n,this.run=function(){return r(s,void 0,void 0,function(){return i(this,function(e){return this.time=Date.now(),[2,a(this)]})})}}return AdRequest.prototype.notifyAdCall=function(){this.time=Date.now(),this.log(o.AdapterMessages.adCall,this.network)},AdRequest.prototype.log=function(e,t){this.logCallback&&this.logCallback(e,t)},AdRequest.prototype.onLog=function(e){this.logCallback=e},AdRequest}();t.AdRequest=a},,function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(115),a=function(e){function AdminApi(){return null!==e&&e.apply(this,arguments)||this}return i(AdminApi,e),AdminApi.prototype.setUp=function(){this.baseUrl=this.context.config.apiUrl+"/public",this.deprecatedBaseUrl=this.context.config.apiUrl+"/api"},AdminApi.prototype.getPublisher=function(e){return o.fetch("GET",this.baseUrl+"/publishers/"+e,{},{withCredentials:!0})},AdminApi.prototype.find=function(e,t){var n={};return void 0!==t&&(n.where=t),o.fetch("GET",this.deprecatedBaseUrl+"/"+e,{filter:JSON.stringify(n)},{withCredentials:!0})},AdminApi.prototype.findOne=function(e,t){var n={};return void 0!==t&&(n.where=t),o.fetch("GET",this.deprecatedBaseUrl+"/"+e+"/findOne",{filter:JSON.stringify(n)},{withCredentials:!0})},AdminApi.prototype.update=function(e,t){var n=this,r=this.deprecatedBaseUrl+"/"+e,i="POST";return t.id&&(i="PUT",r+="/"+t.id),o.fetch(i,r,t,{withCredentials:!0}).then(function(t){return n.context.publish({channel:"admin.message",topic:"post",data:{message:{text:e+" updated"}}}),t}).catch(function(t){return n.context.publish({channel:"admin.message",topic:"post",data:{message:{text:"updating "+e,type:"error"}}}),Promise.reject(t)})},AdminApi.prototype.create=function(e,t){var n=this;return o.fetch("POST",this.deprecatedBaseUrl+"/"+e,t,{withCredentials:!0}).then(function(t){return n.context.publish({channel:"admin.message",topic:"post",data:{message:{text:e+" created"}}}),t}).catch(function(t){return n.context.publish({channel:"admin.message",topic:"post",data:{message:{text:"cannot create "+e,type:"error"}}}),Promise.reject(t)})},AdminApi.prototype.remove=function(e,t){var n=this;return o.fetch("DELETE",this.deprecatedBaseUrl+"/"+e+"/"+t,void 0,{withCredentials:!0}).then(function(t){return n.context.publish({channel:"admin.message",topic:"post",data:{message:{text:e+" removed"}}}),t}).catch(function(t){return n.context.publish({channel:"admin.message",topic:"post",data:{message:{text:"cannot remove "+e,type:"error"}}}),Promise.reject(t)})},AdminApi.prototype.dictionaries=function(e,t){return o.fetch("GET",this.baseUrl+"/dictionaries/"+e,t?{type:t}:void 0,{withCredentials:!0})},AdminApi.prototype.updateBaseSrc=function(e,t){return o.fetch("PUT",this.baseUrl+"/publishers/"+e+"/updateBaseSrc",t,{withCredentials:!0})},AdminApi}(n(87).GohanComponent);t.AdminApi=a},,,,function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var l,p=n(87),d=n(234),f=n(102),h=n(112),g=n(110),y=n(125),v=function(e){function Analytics(){var t=null!==e&&e.apply(this,arguments)||this;return t.entityTrackMap={},t.timelineRefMap={},t}return i(Analytics,e),Analytics.prototype.setUp=function(){this.data={url:h.Option.of(window.location.href.split("#")[0]),device:h.Option.of(f.DeviceDetector.getDevice()),token:h.Some(this.context.config.token),brandsafe:h.Some("true"),publisherCountry:h.Some("-"),templateName:h.Some("-"),category:h.Some("-"),subcategory:h.Some("-"),os:h.Option.of(y.BrowserContext.isAndroid()?"android":y.BrowserContext.isIos()?"ios":f.DeviceDetector.isHandheldDevice()?"otmob":"desktop"),browser:h.Some(y.BrowserContext.isChrome()?"chrome":y.BrowserContext.isSafari()?"safari":y.BrowserContext.isFirefox()?"firefox":y.BrowserContext.isIE()?"ie":"other")},this.api=new d.AnalyticsApi(this.context.config)},Analytics.prototype.onConfigRecived=function(e){var t;this.config=(t=e.config,function(e){try{return h.Option.of(e(t))}catch(e){return h.None}}),this.data.brandsafe=this.config(function(e){return e.brandsafe}).orElse(h.Some("true")),this.data.category=this.config(function(e){return e.category}).orElse(h.Some("-")),this.data.subcategory=this.config(function(e){return e.subcategory}).orElse(h.Some("-")),this.data.publisherCountry=this.config(function(e){return e.publisher.country}).orElse(h.Some("-"))},Analytics.prototype.onTemplateSelected=function(e){e.template&&(this.data.templateName=h.Option.of(e.template.name).orElse(h.Some("-")))},Analytics.prototype.trackAdUnitFound=function(e,t){var n=t.tagElement.clientWidth,r=t.tagElement.clientHeight;return this.track("tagmanager-adunit-found",{adUnitName:e,adunitWidth:n,adunitHeight:r}),{adUnitName:e,adUnit:t}},Analytics.prototype.track=function(e,t){void 0===t&&(t={});var n=o({},function(e){var t={},n=e;for(var r in e){var i=n[r];t[r]=i.orElse(h.Some("-")).get()}return t}(this.data),t);this.api.trackEvent(e,n),this.context.log("track",e,t)},Analytics.prototype.getTimelineRef=function(e){return this.timelineRefMap[e]||(this.timelineRefMap[e]=new b),this.timelineRefMap[e]},Analytics.prototype.singleTrack=function(e,t,n){this.entityTrackMap[e+t]||(this.entityTrackMap[e+t]=!0,this.track(t,n))},Analytics.prototype.trackPageview=function(){},Analytics.prototype.trackTemplateFound=function(e){this.track("tagmanager-template-found",{templateName:e})},Analytics.prototype.trackTemplateNotFound=function(){this.track("tagmanager-template-not-found")},Analytics.prototype.trackAdunitRejected=function(e,t){this.track("tagmanager-adunit-rejected",{adUnitName:e,reason:t})},Analytics.prototype.trackAdUnitView=function(e){return c(this,void 0,void 0,function(){return u(this,function(t){return this.track("tagmanager-adunit-viewed",{adUnitName:e,blacklistedWord:this.config(function(e){return e.blacklistedWord}).orElse(h.Some("-")).get()}),[2]})})},Analytics.prototype.trackAdUnitViewCustomCategory=function(e,t){this.track("tagmanager-adunit-viewed-custom-category",{adUnitName:e,customCategory:t})},Analytics.ADSERVER_READY="adserver-ready",Analytics.ADSERVER_NOT_READY="adserver-not-ready",a([p.Subscribe("config","received"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],Analytics.prototype,"onConfigRecived",null),a([p.Subscribe("template","selected"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],Analytics.prototype,"onTemplateSelected",null),a([p.Publish("tagmanager","adunit-found"),s("design:type",Function),s("design:paramtypes",[String,g.AdUnit]),s("design:returntype",void 0)],Analytics.prototype,"trackAdUnitFound",null),Analytics}(p.GohanComponent);t.Analytics=v,t.AnalyticsService={ADSERVER_READY:v.ADSERVER_READY,ADSERVER_NOT_READY:v.ADSERVER_NOT_READY,get:function(e){return l||(l=new v(e)),l}};var m=function(){function Clock(e){var t=this;this.startTime=Date.now(),this.time=0,this.interval=setInterval(function(){return t.time+=e},e)}return Clock.prototype.stop=function(){clearInterval(this.interval)},Clock.prototype.getTime=function(){return this.startTime+this.time},Clock.prototype.getDeltaTime=function(){return this.time},Clock}();t.Clock=m;var b=function(){function TimelineDeltaRef(){this.clock=new m(50),this.lastTime=this.clock.getTime(),this.lastReferenceTime=this.lastTime}return TimelineDeltaRef.prototype.getDelta=function(){return this.lastReferenceTime=this.clock.getTime(),this.lastReferenceTime-this.lastTime},TimelineDeltaRef.prototype.updateRef=function(){this.lastTime=this.lastReferenceTime||this.clock.getTime()},TimelineDeltaRef}();t.TimelineDeltaRef=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(235),i=function(){function UABrowser(e){this.name=e.name||"",this.version=e.version||"",this.major="string"==typeof this.version?this.version.replace(/[^\d\.]/g,"").split(".")[0]:""}return UABrowser.prototype.toString=function(){return this.name+"|"+this.version},UABrowser}();t.UABrowser=i;var o=function(){function UAOs(e){this.name=e.name||"",this.version=e.version||""}return UAOs.prototype.toString=function(){return this.name+"|"+this.version},UAOs}();t.UAOs=o;var a=function(){function UADevice(e){this.model=e.model||"",this.type=e.type||(UADevice.typeRegExp.test(s.getOS().name)?r.default.DESKTOP:""),this.vendor=e.vendor||""}return UADevice.prototype.toString=function(){return this.model+"|"+this.type+"|"+this.vendor},UADevice.typeRegExp=/^windows|mac\s+os|linux|bsd|dragonfly|chromium\s+os|haiku|ubuntu|slackware|gentoo|solaris|debian|fedora|arch|beos|mint|gnu|os\/2$/i,UADevice}();t.UADevice=a;var s=function(){function BrowserContext(){}return BrowserContext.clean=function(){BrowserContext.userAgent=null,BrowserContext.device=null,BrowserContext.os=null,BrowserContext.browser=null},BrowserContext.isDesktop=function(){return!BrowserContext.isMobile()&&!BrowserContext.isTablet()},BrowserContext.isIpad=function(){return"iPad"===BrowserContext.getDevice().model||/iPad/i.test(BrowserContext.getUA())},BrowserContext.isTablet=function(){return"tablet"===BrowserContext.getDevice().type||BrowserContext.isIpad()||BrowserContext.isAndroid()&&!/(m|M)obile/.test(BrowserContext.getUA())},BrowserContext.isMobile=function(){return"mobile"===BrowserContext.getDevice().type||BrowserContext.isIos()&&!BrowserContext.isIpad()||BrowserContext.isAndroid()&&/(m|M)obile/.test(BrowserContext.getUA())},BrowserContext.isChromeIos=function(){return/CriOS/i.test(BrowserContext.getUA())||BrowserContext.isIos()&&BrowserContext.isChrome()},BrowserContext.isAndroid=function(){return"Android"===BrowserContext.getOS().name||/Android/i.test(BrowserContext.getUA())},BrowserContext.isIos=function(){return"iOS"===BrowserContext.getOS().name||BrowserContext.isIpad()||BrowserContext.isIphone()},BrowserContext.isIphone=function(){return"iPhone"===BrowserContext.getDevice().model||/iPhone/i.test(BrowserContext.getUA())},BrowserContext.isAndroidMobile=function(){return BrowserContext.isAndroid()&&BrowserContext.isMobile()},BrowserContext.isIE=function(){return"IE"===BrowserContext.getBrowser().name||/MSIE|Trident/.test(BrowserContext.getUA())},BrowserContext.isChrome=function(){return"Chrome"===BrowserContext.getBrowser().name},BrowserContext.isFirefox=function(){return"Firefox"===BrowserContext.getBrowser().name||/Firefox/i.test(BrowserContext.getUA())},BrowserContext.isSafari=function(){return"Safari"===BrowserContext.getBrowser().name||"Mobile Safari"===BrowserContext.getBrowser().name},BrowserContext.isEdge=function(){return"Edge"===BrowserContext.getBrowser().name||/Edge/i.test(BrowserContext.getUA())},BrowserContext.isEdgeTouchScreen=function(){return BrowserContext.isEdge()&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0},BrowserContext.isFacebookWebview=function(){return"Facebook"===BrowserContext.getBrowser().name||/FBAN|FBIOS|FBAV|FBBV|FBDV|FBMD|FBSN|FBSV|FBSS|FBCR|FBID|FBLC|FBOP/i.test(BrowserContext.getUA())},BrowserContext.isAndroidNative=function(){return"Android Browser"===BrowserContext.getBrowser().name},BrowserContext.getIEVersion=function(){return BrowserContext.isIE()?BrowserContext.getBrowser().version:""},BrowserContext.getAndroidVersion=function(){return BrowserContext.isAndroid()?BrowserContext.getOS().version:""},BrowserContext.getIosVersion=function(){return BrowserContext.isIos()?BrowserContext.getOS().version:""},BrowserContext.getChromeVersion=function(){return BrowserContext.isChrome()?BrowserContext.getBrowser().version:""},BrowserContext.isUIWebview=function(){return(BrowserContext.isIphone()||BrowserContext.isIpad())&&!/Safari/i.test(BrowserContext.getUA())&&!window.navigator.standalone},BrowserContext.hasAutoplay=function(){var e=BrowserContext.isSafari()&&BrowserContext.isIos()&&parseInt(BrowserContext.getBrowser().major,10)>=10,t=BrowserContext.isAndroid()&&parseInt(BrowserContext.getBrowser().major,10)>=53,n=BrowserContext.isChromeIos()&&parseInt(BrowserContext.getBrowser().major,10)>=53,r="Webkit"===BrowserContext.getBrowser().name&&BrowserContext.isIos();return e||n||r||t||BrowserContext.isDesktop()||BrowserContext.isFacebookWebview()},BrowserContext.hasVideoSupport=function(e){return!!e.createElement("video").canPlayType},BrowserContext.getLanguage=function(){var e=window;return e.navigator.language||e.navigator.browserLanguage||e.navigator.userLanguage||"en"},BrowserContext.getUA=function(){return BrowserContext.userAgent||""},BrowserContext.getDevice=function(){return this.device||(this.device=new a(r.default.mapper.rgx.apply(this,r.default.regexes.device))),this.device},BrowserContext.getOS=function(){return this.os||(this.os=new o(r.default.mapper.rgx.apply(this,r.default.regexes.os))),this.os},BrowserContext.getBrowser=function(){return this.browser||(this.browser=new i(r.default.mapper.rgx.apply(this,r.default.regexes.browser))),this.browser},BrowserContext.userAgent=navigator.userAgent,BrowserContext}();t.BrowserContext=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(253);t.PublishContextBehaviour=r.PublishContextBehaviour;var i=n(254);t.LoadingBehaviour=i.LoadingBehaviour;var o=n(255);t.ErrorReportBehaviour=o.ErrorReportBehaviour;var a=n(256);t.MouseBehaviour=a.MouseBehaviour;var s=n(183);t.DisplayVisibilityBehaviour=s.DisplayVisibilityBehaviour,t.VideoVisibilityBehaviour=s.VideoVisibilityBehaviour,t.VastVisibilityBehaviour=s.VastVisibilityBehaviour;var c=n(257);t.AdsByBehaviour=c.AdsByBehaviour;var u=n(264);t.XtoCloseBehaviour=u.XtoCloseBehaviour;var l=n(271);t.FullSizeBehaviour=l.FullSizeBehaviour},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(185),i=function(){function DimensionsRenderer(e){this.position="TL",this.size=new r.DimensionRendererCoord,this.margin=new r.DimensionRendererCoord,this.HORIZONTAL_MIN=320,this.VERTICAL_MIN=250,this.willScale=e.willScale,this.$el=e.$el,this.canvas=e.canvas||new r.Coord,this.nodeStyle=e.ElementStyle||new r.DefaultElementStyle}return DimensionsRenderer.prototype.setCanvas=function(e){this.canvas=e},DimensionsRenderer.prototype.getCanvasAndScale=function(){var e={x:this.canvas.x,y:this.canvas.y},t=1;return this.willScale&&(e.x<this.HORIZONTAL_MIN&&(t=this.canvas.x/this.HORIZONTAL_MIN,e.y=this.canvas.y/t,e.x=this.HORIZONTAL_MIN),e.y<this.VERTICAL_MIN&&(t=this.canvas.y/this.VERTICAL_MIN,e.x=this.canvas.x/t,e.y=this.VERTICAL_MIN)),{scale:t,canvas:e}},DimensionsRenderer.prototype.render=function(){if(this.$el){var e=this.getCanvasAndScale(),t=e.scale,n=e.canvas,r=this.calcCoord(n,this.size),i=this.calcPosition(n,r),o=this.$el;this.clear();var a={scale:t,height:r.y,width:r.x,top:i.top,left:i.left};o.style.cssText=this.nodeStyle.getStyle(a);var s=this.$el.querySelector("iframe");s&&(s.style.cssText="\n        width: "+r.x+"px !important;\n        height: "+r.y+"px !important;\n        ")}},DimensionsRenderer.prototype.clear=function(){this.$el&&(this.$el.style.left="",this.$el.style.top="")},DimensionsRenderer.prototype.calcCoord=function(e,t){void 0===t&&(t={x:0,y:0});var n=t.x,r=t.y,i=t.x,o=t.y,a={x:i,y:o};return isNaN(i)&&n.indexOf("%")>-1&&(a.x=e.x*this.getPercentile(n)),isNaN(o)&&r.indexOf("%")>-1&&(a.y=e.y*this.getPercentile(r)),a},DimensionsRenderer.prototype.calcPosition=function(e,t){var n=this.position.split("")[0],r=this.position.split("")[1],i=t.x,o=t.y,a=this.calcCoord(e,this.margin),s={top:0,left:0};return this.margin||(this.margin={x:0,y:0}),"B"===n&&(s.top=e.y-o-a.y),"M"===n&&(s.top=e.y/2-o/2),"R"===r&&(s.left=e.x-i-a.x),"M"===r&&(s.left=e.x/2-i/2),s},DimensionsRenderer.prototype.getPercentile=function(e){return parseInt(e.replace("%",""),10)/100},DimensionsRenderer}();t.DimensionsRenderer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){var t,n,r;void 0===e&&(e={}),e.timeout&&(r=setTimeout(function(){n(new Error("Deferred did timeout"))},e.timeout)),this.promise=new Promise(function(e,r){t=e,n=r}),this.resolve=function(e){clearTimeout(r),t(e)},this.reject=function(e){clearTimeout(r),n(e)}}}();t.Deferred=r},,function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(35),n(36),n(98);var r=n(153),i=n(107);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function VPAIDWrapper(){_defineProperty(this,"vpaidAd",void 0),_defineProperty(this,"eventHandler",new r.a)}var e=VPAIDWrapper.prototype;return e.getVPAID=function(){return this.vpaidAd},e.getAdRemainingTime=function(){return this.vpaidAd?this.vpaidAd.getAdRemainingTime():-2},e.getAdDuration=function(){return this.vpaidAd?this.vpaidAd.getAdDuration():0},e.getAdVolume=function(){return this.vpaidAd?this.vpaidAd.getAdVolume():0},e.setAdVolume=function(e){return this.vpaidAd&&this.vpaidAd.setAdVolume(e),e},e.expandAd=function(){return!1},e.collapseAd=function(){return!1},e.getAdLinear=function(){return!0},e.getAdWidth=function(){return this.vpaidAd?this.vpaidAd.getAdWidth():0},e.getAdHeight=function(){return this.vpaidAd?this.vpaidAd.getAdHeight():0},e.getAdExpanded=function(){return!1},e.getAdSkippableState=function(){return!0},e.getAdCompanions=function(){return""},e.getAdIcons=function(){return!1},e.handshakeVersion=function(e){return"2.0"},e.initAd=function(e,t,n,r,i,o){this.vpaidAd&&this.vpaidAd.initAd(e,t,n,r,i,o)},e.startAd=function(){this.vpaidAd&&this.vpaidAd.startAd()},e.stopAd=function(){this.vpaidAd&&this.vpaidAd.stopAd()},e.skipAd=function(){this.vpaidAd&&this.vpaidAd.skipAd()},e.pauseAd=function(){this.vpaidAd&&this.vpaidAd.pauseAd()},e.resumeAd=function(){this.vpaidAd&&this.vpaidAd.resumeAd()},e.resizeAd=function(e,t,n){this.vpaidAd&&this.vpaidAd.resizeAd(e,t,n)},e.subscribe=function(e,t,n){this.eventHandler.subscribe(e,t,n)},e.unsubscribe=function(e,t){this.eventHandler.unsubscribe(e,t)},e.triggerEvent=function(e,t){void 0===t&&(t={}),this.eventHandler.handleEvent(new i.a(e,t))},e.setVPAID=function(e){var t=this;Object.keys(i.a).map(function(n){var r=i.a[n];e.subscribe(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.triggerEvent(r,n)},r)}),this.vpaidAd=e},VPAIDWrapper}()},function(e,t,n){"use strict";n.d(t,"a",function(){return decodeAdParameters});n(283);var r=window.atob,i=function(e){var t=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$").exec(e);return!!(t&&t.length>0)};function decodeAdParameters(e){if("object"==typeof e&&e.AdParameters&&"string"==typeof e.AdParameters&&(e=e.AdParameters),e&&"string"==typeof e){i(e)?e=r(e):0===e.indexOf("%7B")&&(e=decodeURIComponent(e));try{e=JSON.parse(e)}catch(t){throw"Unable to JSON.parse adParameter string: "+e}}if(!e||"object"!=typeof e)throw"adParameter is not an object: "+e;return e}},function(e,t,n){"use strict";n.r(t);t.default={NORMAL:"normal",FULLSCREEN:"fullscreen"}},function(e,t,n){"use strict";n.r(t),n.d(t,"VPAIDAdsManager",function(){return a});n(36),n(98),n(35);var r=n(153),i=n(107),o=n(111);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function VPAIDAdsManager(e){var t,n=this;_defineProperty(this,"eventHandler",new r.a),_defineProperty(this,"duration",0),_defineProperty(this,"width",0),_defineProperty(this,"height",0),_defineProperty(this,"adsManager",void 0),_defineProperty(this,"autostart",!1),_defineProperty(this,"isLoaded",!1),this.adsManager=e,Object.keys(o.default).forEach(function(t){var r=o.default[t];e.addEventListener(r,function(e){if(r!==o.default.AD_ERROR)try{var t=e.getAd();t&&(n.duration=t.getDuration(),n.width=t.getWidth(),n.height=t.getHeight())}catch(e){}n.handleIMAEvent(r,e)})});var a=this.getAdRemainingTime();this.adsManager.addEventListener(o.default.IMPRESSION,function(){t=window.setInterval(function(){n.getAdRemainingTime()!==a&&(a=n.getAdRemainingTime(),n.eventHandler.handleEvent(new i.a(i.a.AdRemainingTimeChange)))},250)}),this.adsManager.addEventListener(o.default.ALL_ADS_COMPLETED,function(){t&&clearInterval(t)})}var e=VPAIDAdsManager.prototype;return e.getVPAID=function(){return this},e.getAdRemainingTime=function(){return this.adsManager.getRemainingTime()},e.getAdDuration=function(){return this.duration},e.getAdVolume=function(){return this.adsManager.getVolume()},e.setAdVolume=function(e){return this.adsManager.setVolume(e),e},e.expandAd=function(){return!1},e.collapseAd=function(){return!1},e.getAdLinear=function(){return!0},e.getAdWidth=function(){return this.width},e.getAdHeight=function(){return this.height},e.getAdExpanded=function(){return!1},e.getAdSkippableState=function(){return!0},e.getAdCompanions=function(){return""},e.getAdIcons=function(){return!1},e.handshakeVersion=function(e){return"2.0"},e.initAd=function(e,t,n,r,i,o){this.adsManager.init(e,t,n,o.videoSlot)},e.startAd=function(){this.isLoaded?this.adsManager.start():this.autostart=!0},e.stopAd=function(){this.adsManager.stop()},e.skipAd=function(){this.adsManager.skip()},e.pauseAd=function(){this.adsManager.pause()},e.resumeAd=function(){this.adsManager.resume()},e.resizeAd=function(e,t,n){this.width=e,this.height=t,this.adsManager.resize(e,t,n),this.eventHandler.handleEvent(new i.a(i.a.AdSizeChange))},e.subscribe=function(e,t,n){this.eventHandler.subscribe(e,t,n)},e.unsubscribe=function(e,t){this.eventHandler.unsubscribe(e,t)},e.handleIMAEvent=function(e,t){var n=this;e===o.default.LOADED&&(this.isLoaded=!0),this.getVpaidEventsName(e).map(function(e){var r={};switch(e){case i.a.AdClickThru:r.url=null,r.id=null,r.playerHandles=!1;break;case i.a.AdError:r.message=t.getError().getMessage()}n.eventHandler.handleEvent(new i.a(e,r))}),e===o.default.LOADED&&this.autostart&&this.adsManager.start()},e.getVpaidEventsName=function(e){var t;return((t={})[o.default.ALL_ADS_COMPLETED]=[i.a.AdStopped],t[o.default.CLICK]=[i.a.AdClickThru],t[o.default.COMPLETE]=[i.a.AdVideoComplete],t[o.default.DURATION_CHANGE]=[i.a.AdDurationChange],t[o.default.FIRST_QUARTILE]=[i.a.AdVideoFirstQuartile],t[o.default.IMPRESSION]=[i.a.AdImpression],t[o.default.INTERACTION]=[i.a.AdInteraction],t[o.default.LINEAR_CHANGED]=[i.a.AdLinearChange],t[o.default.LOADED]=[i.a.AdLoaded],t[o.default.LOG]=[i.a.AdLog],t[o.default.MIDPOINT]=[i.a.AdVideoMidpoint],t[o.default.PAUSED]=[i.a.AdPaused],t[o.default.RESUMED]=[i.a.AdPlaying],t[o.default.SKIPPABLE_STATE_CHANGED]=[i.a.AdSkippableStateChange],t[o.default.SKIPPED]=[i.a.AdSkipped],t[o.default.STARTED]=[i.a.AdStarted,i.a.AdVideoStart],t[o.default.THIRD_QUARTILE]=[i.a.AdVideoThirdQuartile],t[o.default.USER_CLOSE]=[i.a.AdUserClose],t[o.default.VOLUME_CHANGED]=[i.a.AdVolumeChange],t[o.default.AD_ERROR]=[i.a.AdError],t)[e]||[]},VPAIDAdsManager}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return e-e%t};t.createFloorNormalizer=function(e){return function(t){return r(t,e)}};t.createCeilNormalizer=function(e){return function(t){return function(e,t){return r(e,t)+t}(t,e)}};t.createRoundNormalizer=function(e){return function(t){return function(e,t){var n=r(e,t);return e-n<t/2?n:n+t}(t,e)}};var i=function(e,t,n){return n>=t.length-1?t[t.length-1]:e>=t[n]&&e<t[n+1]?t[n]:i(e,t,n+1)};t.createArrayNormalizer=function(e){return function(t){return function(e,t){var n=t.length-1;return e<=t[0]?t[0]:e>=t[n]?t[n]:i(e,t,0)}(t,e)}},t.createNormalizer=function(e,n,r){var i=[e];do{i.push(i[i.length-1]+r)}while(i[i.length-1]<n);return t.createArrayNormalizer(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(89),i=n(198),o=n(102);t.publicMethods=["select","adunits","query","getDevice"],t.methodsDoc={query:"alias document.querySelectorAll",adunits:"size limited list",getDevice:"handheld|desktop",select:"adunits alias"};var a=function(){function IntegrationTool(){this.sizeLimits={},this.contentRoot=null}return IntegrationTool.prototype.getMethods=function(){var e=this;return t.publicMethods.reduce(function(t,n){return e[n]&&(t[n]=e[n].bind(e)),t},{})},IntegrationTool.prototype.select=function(e,t){return this.adunits(e,t)},IntegrationTool.prototype.adunits=function(e,t){var n=this.contentRoot||document,o=this.sizeLimits;return t&&(o={handheld:{min:{w:t,h:0}},desktop:{min:{w:t,h:0}}}),r.StArray.from(n.querySelectorAll(e)).filter(function(e){return i.hasProperSize(e,o)})},IntegrationTool.prototype.query=function(e){return document.querySelectorAll(e)},IntegrationTool.prototype.getDevice=function(){return o.detector.getDevice()},IntegrationTool}();t.IntegrationTool=a},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(306)),__export(n(307)),__export(n(308))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(115),s=function(e){function TaggingServiceApi(){var t=null!==e&&e.apply(this,arguments)||this;return t.successMsg={channel:"network",topic:"success"},t.errorMsg={channel:"network",topic:"error"},t}return i(TaggingServiceApi,e),TaggingServiceApi.prototype.setUp=function(){this.baseUrl=this.context.config.taggingApiUrl},TaggingServiceApi.prototype.getCampaigns=function(e){var t=this;return a.fetch("GET",this.baseUrl+"/campaigns",{publisherId:e},{withCredentials:!0}).catch(function(){return t.context.publish(o({},t.errorMsg,{data:{human:"cannot get campaigns"}}))})},TaggingServiceApi.prototype.disableUrl=function(e){var t=this;return a.fetch("PUT",this.baseUrl+"/urls/disabled",{url:e},{withCredentials:!0}).then(function(){return t.context.publish(o({},t.successMsg,{data:{human:"url disabled"}}))}).catch(function(){return t.context.publish(o({},t.errorMsg,{data:{human:"cannot disable url"}}))})},TaggingServiceApi.prototype.enableUrl=function(e){var t=this;return a.fetch("PUT",this.baseUrl+"/urls/remove-disabled",{url:e},{withCredentials:!0}).then(function(){return t.context.publish(o({},t.successMsg,{data:{human:"url enabled"}}))}).catch(function(){return t.context.publish(o({},t.errorMsg,{data:{human:"cannot enable url"}}))})},TaggingServiceApi.prototype.whitelistUrl=function(e){var t=this;return a.fetch("PUT",this.baseUrl+"/urls/whitelisted",{url:e},{withCredentials:!0}).then(function(){return t.context.publish(o({},t.successMsg,{data:{human:"url whitelisted"}}))}).catch(function(){return t.context.publish(o({},t.errorMsg,{data:{human:"cannot whitelist url"}}))})},TaggingServiceApi.prototype.unwhitelistUrl=function(e){var t=this;return a.fetch("PUT",this.baseUrl+"/urls/remove-whitelisted",{url:e},{withCredentials:!0}).then(function(){return t.context.publish(o({},t.successMsg,{data:{human:"url unwhitelisted"}}))}).catch(function(){return t.context.publish(o({},t.errorMsg,{data:{human:"cannot unwhitelist url"}}))})},TaggingServiceApi.prototype.includedCampaignsAdd=function(e,t,n){return this._manageLists("PUT",e,t,n,"included")},TaggingServiceApi.prototype.includedCampaignsRemove=function(e,t,n){return this._manageLists("PUT",e,t,n,"remove-included")},TaggingServiceApi.prototype.excludedCampaignsAdd=function(e,t,n){return this._manageLists("PUT",e,t,n,"excluded")},TaggingServiceApi.prototype.excludedCampaignsRemove=function(e,t,n){return this._manageLists("PUT",e,t,n,"remove-excluded")},TaggingServiceApi.prototype._manageLists=function(e,t,n,r,i){return a.fetch(e,this.baseUrl+"/campaigns/"+i,{campaign:t,image:n,url:r},{withCredentials:!0})},TaggingServiceApi}(n(87).GohanComponent);t.TaggingServiceApi=s},function(e,t,n){"use strict";n(37);var r=n(97),i=n(152),o=(n(117),n(116),n(35),n(36),n(98),n(129),n(130)),a=n(107),s=n(111),c=n(193);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,l=function(){function Ad(e,t,n){_defineProperty(this,"vastAd",void 0),_defineProperty(this,"vpaidAd",void 0),_defineProperty(this,"mediafile",void 0),this.vastAd=e,this.vpaidAd=t,this.mediafile=n}var e=Ad.prototype;return e.getAdId=function(){return this.vastAd.adId||""},e.getAdSystem=function(){return this.vastAd.adSystem||""},e.getAdvertiserName=function(){return""},e.getApiFramework=function(){return this.mediafile&&this.mediafile.apiFramework||""},e.getCompanionAds=function(){return[]},e.getContentType=function(){return this.mediafile&&this.mediafile.type||""},e.getCreativeAdId=function(){return this.vastAd.creativeId||""},e.getCreativeId=function(){return this.vastAd.creativeId||""},e.getDescription=function(){return""},e.getDuration=function(){return this.vpaidAd.getAdDuration()},e.getHeight=function(){return this.vpaidAd.getAdHeight()},e.getMediaUrl=function(){return this.mediafile&&this.mediafile.url||""},e.getSkipTimeOffset=function(){return 0},e.getTitle=function(){return this.vastAd.adTitle||""},e.getVastMediaHeight=function(){return this.mediafile&&this.mediafile.height||0},e.getVastMediaWidth=function(){return this.mediafile&&this.mediafile.width||0},e.getWidth=function(){return this.vpaidAd.getAdWidth()},e.getWrapperAdIds=function(){return this.vastAd.wrappers.map(function(e){return e.adId||""})},e.getWrapperAdSystems=function(){return this.vastAd.wrappers.map(function(e){return e.adSystem||""})},e.getWrapperCreativeIds=function(){return this.vastAd.wrappers.map(function(e){return e.creativeId||""})},e.isLinear=function(){return!0},Ad}(),p=n(153),d=n(131);!function(e){e[e.REMOVED=-6]="REMOVED",e[e.REMOVING=-5]="REMOVING",e[e.ERROR=-4]="ERROR",e[e.STOPPED=-3]="STOPPED",e[e.STOPPING=-2]="STOPPING",e[e.SKIPPED=-1]="SKIPPED",e[e.SKIPPING=0]="SKIPPING",e[e.READY=1]="READY",e[e.LOADING=2]="LOADING",e[e.LOADED=3]="LOADED",e[e.STARTING=5]="STARTING",e[e.STARTED=6]="STARTED",e[e.PAUSING=7]="PAUSING",e[e.PAUSED=8]="PAUSED",e[e.RESUMING=9]="RESUMING",e[e.PLAYING=10]="PLAYING",e[e.COMPLETE=11]="COMPLETE"}(u||(u={}));var f=n(132);function VPAIDVideo_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h,g,y,v=function(){function VPAIDVideo(){VPAIDVideo_defineProperty(this,"video",document.createElement("video")),VPAIDVideo_defineProperty(this,"width",0),VPAIDVideo_defineProperty(this,"height",9),VPAIDVideo_defineProperty(this,"status",u.READY),VPAIDVideo_defineProperty(this,"viewMode",f.default.NORMAL),VPAIDVideo_defineProperty(this,"environmentVars",void 0),VPAIDVideo_defineProperty(this,"eventHandler",new p.a),VPAIDVideo_defineProperty(this,"container",document.createElement("div")),VPAIDVideo_defineProperty(this,"trackingRaised",{AdVideoFirstQuartile:!1,AdVideoMidpoint:!1,AdVideoThirdQuartile:!1}),VPAIDVideo_defineProperty(this,"parameters",{}),VPAIDVideo_defineProperty(this,"expanded",!1),VPAIDVideo_defineProperty(this,"config",{url:"",clickUrl:""}),VPAIDVideo_defineProperty(this,"eventMap",{durationchange:"AdDurationChange",resize:"AdSizeChange",volumechange:"AdVolumeChange",ended:"AdVideoComplete",play:"AdPlaying",playing:"AdPlaying",pause:"AdPaused",timeupdate:"AdRemainingTimeChange",error:"AdError"}),VPAIDVideo_defineProperty(this,"videoHasStarted",!1)}var e=VPAIDVideo.prototype;return e.getVPAID=function(){return this},e.getAdRemainingTime=function(){return this.video?this.video.duration-this.video.currentTime:0},e.getAdDuration=function(){return this.video?this.video.duration:0},e.getAdVolume=function(){return this.video?this.video.muted?0:this.video.volume:0},e.setAdVolume=function(e){return this.video?(this.video.muted=0===e,this.video.volume=e,this.video.muted?0:this.video.volume):0},e.expandAd=function(){return!1},e.collapseAd=function(){return!1},e.getAdLinear=function(){return!0},e.getAdWidth=function(){return this.width},e.getAdHeight=function(){return this.height},e.getAdExpanded=function(){return!1},e.getAdSkippableState=function(){return!0},e.getAdCompanions=function(){return""},e.getAdIcons=function(){return!1},e.handshakeVersion=function(e){return"2.0"},e.subscribe=function(e,t,n){this.eventHandler.subscribe(e,t,n)},e.unsubscribe=function(e,t){this.eventHandler.unsubscribe(e,t)},e.initAd=function(e,t,n,r,i,o){var s=this;this.status=u.LOADING,this.width=e,this.height=t,this.viewMode=n;try{i=Object(d.a)(i)}catch(e){return void this.dispatchVpaidEvent(a.a.AdError,"invalid creative data : "+i)}for(var c in this.parameters=this.config,i)this.parameters[c]=i[c];this.parameters.url?(this.environmentVars=o,this.environmentVars.videoSlot||(this.environmentVars.videoSlot=document.createElement("video")),this.environmentVars.videoSlot.setAttribute&&(this.environmentVars.videoSlot.setAttribute("webkit-playsinline","true"),this.environmentVars.videoSlot.setAttribute("playsinline","true"),this.environmentVars.videoSlot.setAttribute("muted","true")),this.environmentVars.slot?(this.video=this.environmentVars.videoSlot,this.video.style.backgroundColor="black",this.createContainer(this.environmentVars.slot),this.video.addEventListener("error",function(e){s.handleVideoError(e)}),this.video.preload="metadata",this.video.src=this.parameters.url,this.video.parentNode||(this.dispatchVpaidEvent(a.a.AdLog,"Video slot got no parent node, appending to container"),this.container.appendChild(this.video)),this.video.style.cursor="pointer",this.video.onclick=function(e){window.open(s.parameters.clickUrl),e.preventDefault(),s.dispatchVpaidEvent(a.a.AdClickThru,{url:null,id:null,playerHandles:!1})},this.setSize(this.width,this.height),setTimeout(function(){return s.dispatchVpaidEvent(a.a.AdLoaded)})):this.dispatchVpaidEvent(a.a.AdError,"no slot provided in environmentVars")):this.dispatchVpaidEvent(a.a.AdError,"url is missing in adParameters : "+JSON.stringify(i))},e.startAd=function(){this.initListeners(),this.video.play(),this.dispatchVpaidEvent(a.a.AdStarted),this.dispatchVpaidEvent(a.a.AdImpression)},e.skipAd=function(){this.status<=u.SKIPPING?this.dispatchVpaidEvent(a.a.AdLog,"Ad is already stopped or is skipping"):(this.status=u.SKIPPING,this.video.pause(),this.video.style.display="none",this.dispatchVpaidEvent(a.a.AdSkipped))},e.stopAd=function(){this.status<=u.STOPPING?this.dispatchVpaidEvent(a.a.AdLog,"Ad is already stopped"):(this.status=u.STOPPING,this.removeVideo(),this.dispatchVpaidEvent(a.a.AdStopped),this.eventHandler.clearListeners())},e.resizeAd=function(e,t,n){this.setSize(e,t),this.dispatchVpaidEvent(a.a.AdSizeChange)},e.pauseAd=function(){try{this.video.pause()}catch(e){this.handleException(e,"pauseAd")}},e.resumeAd=function(){try{this.video.play()}catch(e){this.handleException(e,"resumeAd")}},e.createContainer=function(e){this.container||(this.container=document.createElement("div"),this.container.style.position="relative",e.appendChild(this.container))},e.onAdVideoCompleteDispatched=function(){var e=this;this.parameters.noAutoStop?(this.video.addEventListener("seeked",function(){e.video.pause()},!1),this.video.currentTime=1):this.stopAd()},e.dispatchVpaidEvent=function(e,t){this.handleVPAIDEvent(new a.a(e,t))},e.handleVPAIDEvent=function(e){if(!(this.status===u.SKIPPING&&e.type!==a.a.AdSkipped||this.status===u.STOPPING&&e.type!==a.a.AdStopped||this.status<=u.STOPPED||this.status===u.STOPPING&&e.type!==a.a.AdStopped)){switch(e.type){case a.a.AdLoaded:this.status=u.LOADED;break;case a.a.AdStarted:this.status=u.STARTED;break;case a.a.AdVideoStart:case a.a.AdPlaying:this.status=u.PLAYING;break;case a.a.AdPaused:this.status=u.PAUSED;break;case a.a.AdVideoComplete:this.status=u.COMPLETE;break;case a.a.AdSkipped:this.status=u.SKIPPED;break;case a.a.AdStopped:this.status=u.STOPPED;break;case a.a.AdDurationChange:case a.a.AdRemainingTimeChange:var t=this.getAdDuration(),n=t-this.getAdRemainingTime();t>0&&n>=.25*t&&!this.trackingRaised.AdVideoFirstQuartile?this.dispatchVpaidEvent(a.a.AdVideoFirstQuartile):t>0&&n>=.5*t&&!this.trackingRaised.AdVideoMidpoint?this.dispatchVpaidEvent(a.a.AdVideoMidpoint):t>0&&n>=.75*t&&!this.trackingRaised.AdVideoThirdQuartile&&this.dispatchVpaidEvent(a.a.AdVideoThirdQuartile);break;case a.a.AdVideoFirstQuartile:case a.a.AdVideoMidpoint:case a.a.AdVideoThirdQuartile:if(this.trackingRaised[e.type])return;this.trackingRaised[e.type]=!0;break;case a.a.AdVideoComplete:this.status=u.COMPLETE}this.eventHandler.handleEvent(e),this.status===u.SKIPPED&&this.stopAd(),e.type===a.a.AdVideoComplete&&this.onAdVideoCompleteDispatched()}},e.handleException=function(e,t){var n='method "'+t+'" threw an exception: '+e.toString();this.dispatchVpaidEvent(a.a.AdError,n)},e.removeVideo=function(){try{this.video&&this.video.parentNode&&this.video.parentNode.removeChild(this.video)}catch(e){this.dispatchVpaidEvent(a.a.AdLog,"cannot remove video from DOM")}},e.sendAdVideoStartEvent=function(){this.videoHasStarted||(this.videoHasStarted=!0,this.dispatchVpaidEvent(a.a.AdVideoStart))},e.setSize=function(e,t){this.width=e,this.height=t,this.video&&(this.video.width=this.width,this.video.height=this.height),this.container.style.width=e+"px",this.container.style.height=t+"px"},e.initListeners=function(){var e=this;for(var t in this.eventMap)this.video.addEventListener(t,function(t){e.handleVideoEvent(t)},!1)},e.handleVideoError=function(e){if("error"===e.type){var t=this.video?this.video.error:null;if(t)switch(t.code){case 1:break;case 2:this.dispatchVpaidEvent(a.a.AdError,"video error : A network error caused the ressource to stop being fetched");break;case 3:this.dispatchVpaidEvent(a.a.AdError,"video error : A decoding error caused the ressource to stop being fetched");break;case 4:this.dispatchVpaidEvent(a.a.AdError,"video error : The associated ressource has been detected to be not suitable")}else this.dispatchVpaidEvent(a.a.AdError,"video error : unkown error")}},e.handleVideoEvent=function(e){try{var t=this.eventMap[e.type];switch(e.type){case"pause":if(this.video.currentTime===this.video.duration||this.status<=u.SKIPPING||this.status===u.COMPLETE)return;break;case"play":case"playing":if(this.status===u.STARTED)return this.sendAdVideoStartEvent();if(this.status!==u.PAUSED)return;break;case"timeupdate":this.videoHasStarted||this.sendAdVideoStartEvent()}this.dispatchVpaidEvent(t)}catch(t){var n='Creative threw an exception when handling "'+e.type+'" HTML5 video event: '+t.toString();this.dispatchVpaidEvent(a.a.AdLog,n),this.dispatchVpaidEvent(a.a.AdError,n)}},VPAIDVideo}(),m=n(194);function AdManager_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={VPAIDJS:"vpaidjs",MP4:"mp4",WEBM:"webm",MPEG:"mpeg"},_=((h={})[b.VPAIDJS]=/javascript/gi,h[b.MP4]=/video\/mp4/gi,h[b.WEBM]=/video\/webm/gi,h[b.MPEG]=/video\/mp(e?)g/g,h),w=((g={})[a.a.AdError]="error",g[a.a.AdClickThru]="click",g[a.a.AdPaused]="pause",g[a.a.AdPlaying]="resume",g[a.a.AdSkipped]="skip",g[a.a.AdStarted]="creativeView",g[a.a.AdVideoStart]="start",g[a.a.AdVideoFirstQuartile]="firstQuartile",g[a.a.AdVideoMidpoint]="midpoint",g[a.a.AdVideoThirdQuartile]="thirdQuartile",g[a.a.AdVideoComplete]="complete",g[a.a.AdImpression]="impression",g[a.a.AdUserClose]="close",g[a.a.AdRemainingTimeChange]="progress",g),A=((y={})[s.default.ALL_ADS_COMPLETED]=a.a.AdStopped,y[s.default.COMPLETE]=a.a.AdVideoComplete,y[s.default.DURATION_CHANGE]=a.a.AdDurationChange,y[s.default.FIRST_QUARTILE]=a.a.AdVideoFirstQuartile,y[s.default.IMPRESSION]=a.a.AdImpression,y[s.default.INTERACTION]=a.a.AdInteraction,y[s.default.LINEAR_CHANGED]=a.a.AdLinearChange,y[s.default.LOADED]=a.a.AdLoaded,y[s.default.LOG]=a.a.AdLog,y[s.default.MIDPOINT]=a.a.AdVideoMidpoint,y[s.default.PAUSED]=a.a.AdPaused,y[s.default.RESUMED]=a.a.AdPlaying,y[s.default.SKIPPABLE_STATE_CHANGED]=a.a.AdSkippableStateChange,y[s.default.SKIPPED]=a.a.AdSkipped,y[s.default.STARTED]=a.a.AdStarted,y[s.default.THIRD_QUARTILE]=a.a.AdVideoThirdQuartile,y[s.default.USER_CLOSE]=a.a.AdUserClose,y[s.default.VOLUME_CHANGED]=a.a.AdVolumeChange,y[s.default.AD_ERROR]=a.a.AdError,y[s.default.CLICK]=a.a.AdClickThru,y),S=Object.keys(A).map(function(e){return{adEventName:e,vpaidEventName:A[e]}}).reduce(function(e,t){return e[t.vpaidEventName]=t.adEventName,e},{}),O=["skip","creativeView","start","impression","firstQuartile","midpoint","thirdQuartile","complete","error","progress"],E=function(){function AdManager(e,t){var n=this;AdManager_defineProperty(this,"mediafile",void 0),AdManager_defineProperty(this,"vpaidAd",new o.a),AdManager_defineProperty(this,"listeners",[]),AdManager_defineProperty(this,"tracking",[]),AdManager_defineProperty(this,"vpaidContainer",void 0),AdManager_defineProperty(this,"videoContent",void 0),AdManager_defineProperty(this,"vastAd",void 0),AdManager_defineProperty(this,"container",void 0),AdManager_defineProperty(this,"vpaidEventQueue",[]),AdManager_defineProperty(this,"isProcessingVpaidEvent",!1),AdManager_defineProperty(this,"isMuted",!0),AdManager_defineProperty(this,"isStopped",!1),this.vastAd=e,this.container=t,Object.keys(a.a).forEach(function(e){n.vpaidAd.subscribe(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];n.handleVpaidEvent(new a.a(e,r))},e)}),this.tracking=Array.from(this.vastAd.tracking),this.vpaidContainer=t.ownerDocument.createElement("div"),this.container.appendChild(this.vpaidContainer),this.videoContent=this.container.ownerDocument.createElement("video"),this.videoContent.muted=!0,this.videoContent.setAttribute("muted","true"),this.videoContent.setAttribute("playsinline","true"),this.videoContent.setAttribute("WebkitPlaysinline","true"),this.videoContent.setAttribute("preload","metadata")}var e=AdManager.prototype;return e.init=function(e,t,n,r){var i,o,a,s=this;if(this.mediafile=(i=this.vastAd.mediafiles,o={width:e||window.screen.width,height:t||window.screen.height},a=document.createElement("video"),i.filter(function(e){return!![b.MP4,b.WEBM,b.MPEG].filter(function(t){return _[t].test(e.type)&&a.canPlayType(e.type)}).length}).sort(function(e,t){return e.width>t.width?1:e.width<t.width?-1:0}).reduce(function(e,t){return!e||o.width>e.width&&o.width<=t.width?t:e},null)||i.filter(function(e){return _[b.VPAIDJS].test(e.type)})[0]),this.mediafile){this.resizeVpaidContainer(e,t);var c=function(r,i,o,a){a.appendChild(s.videoContent),s.vpaidAd.setVPAID(r),s.vpaidAd.initAd(e,t,n,s.mediafile&&s.mediafile.bitrate||512,i,{slot:o,videoSlot:s.videoContent,videoSlotCanAutoPlay:!0})};this.mediafile.type.indexOf("javascript")>-1?function(e,t,n){return void 0===n&&(n={}),new Promise(function(r,i){var o=document.createElement("div");o.style.position="relative",o.style.width="100%",o.style.height="100%",t.appendChild(o);var a=Date.now()+Math.round(1e3*Math.random()),s=Object(m.b)();s.id="vpaid-"+a,o.appendChild(s);var c=t.ownerDocument.defaultView,u=s.contentWindow,l="vpaidjsload_"+a,p=function(e,t){c[l]=function(){},i({code:e,message:t})};c[l]=function(e){if(c[l]=function(){},e)try{var t=u.document.getElementById("vpaid-container"),n=u.document.getElementById("video-container"),i=u.getVPAIDAd();r({vpaidAd:i,vpaidContainer:t,videoContainer:n})}catch(e){return void p(901,"getVPAIDAd() throw an exception")}else p(901,"unable to load VPAID, callback failled")};var d='<!DOCTYPE html><html><body style="margin:0px;padding:0px;overflow:hidden"><script async>var target = window.parent;var script = document.createElement("script");script.onload = function() { target["'+l+'"](true);};script.onerror = function() { target["'+l+'"](false);};script.src="'+e+'";script.async=true;document.body.appendChild(script);<\/script><div id="video-container" style="position:absolute;top:0px;left:0px;z-index:1;"></div><div id="vpaid-container" style="position:absolute;top:0px;left:0px;z-index:2"></div></body></html>';u.document.write(d),u.document.close();var f=n.timeout||5e3;setTimeout(function(){p(901,"VPAID ad did not load in "+f+"ms")},f)})}(this.mediafile.url,this.vpaidContainer).then(function(e){var t=e.vpaidAd,n=e.videoContainer,r=e.vpaidContainer;c(t,{AdParameters:s.vastAd.adParameters},r,n)}).catch(function(e){s.trackPixel("error",{errorCode:400})}):c(new v,{url:this.mediafile.url,clickUrl:this.vastAd.clickThrough},this.vpaidContainer,this.vpaidContainer)}else this.trackPixel("error",{errorCode:1007})},e.destroy=function(){try{this.container.removeChild(this.vpaidContainer)}catch(e){}},e.getAdSkippableState=function(){return this.vpaidAd.getAdSkippableState()},e.getRemainingTime=function(){return this.vpaidAd.getAdRemainingTime()},e.getVolume=function(){return this.vpaidAd.getAdVolume()},e.pause=function(){this.vpaidAd.pauseAd()},e.resize=function(e,t,n){this.resizeVpaidContainer(e,t),this.vpaidAd.resizeAd(e,t,n)},e.resume=function(){this.vpaidAd.resumeAd()},e.setVolume=function(e){0===e?this.videoContent.setAttribute("muted","true"):this.videoContent.removeAttribute("muted"),this.videoContent.volume=e,this.vpaidAd.setAdVolume(e)},e.skip=function(){this.vpaidAd.skipAd()},e.start=function(){this.vpaidAd.startAd()},e.stop=function(){this.isStopped||this.vpaidAd.stopAd()},e.addEventListener=function(e,t,n){this.listeners.push({type:e,callback:t,tracked:!1})},e.removeEventListener=function(e,t){this.listeners=this.listeners.filter(function(n){return n.type!==e&&n.callback!==t})},e.getVPAID=function(){return this.vpaidAd},e.resizeVpaidContainer=function(e,t){this.vpaidContainer.style.width=e+"px",this.vpaidContainer.style.height=t+"px",this.videoContent.style.width=e+"px",this.videoContent.style.height=t+"px"},e.handleVpaidEvent=function(e){this.vpaidEventQueue.push(e),this.processVpaidEventQueue()},e.processVpaidEventQueue=function(){if(!this.isProcessingVpaidEvent&&this.vpaidEventQueue.length>0){var e=this.vpaidEventQueue.shift();e&&this.processVpaidEvent(e)}},e.processVpaidEvent=function(e){var t=this;if(!this.isProcessingVpaidEvent){this.isProcessingVpaidEvent=!0;var n=e.type,r=e.data,i=w[n];switch(n){case a.a.AdClickThru:r[0]&&r[2]&&window.open(r.url),this.trackPixel(i);break;case a.a.AdError:this.trackPixel(i,{errorCode:901});break;case a.a.AdVolumeChange:(this.isMuted&&this.getVolume()||!this.isMuted&&!this.getVolume())&&this.trackPixel(this.getVolume()?"unmute":"mute");default:this.trackPixel(i)}var o=S[n];if(o&&this.dispatchAdsManagerEvent(o),n===a.a.AdVolumeChange)this.isMuted||0!==this.vpaidAd.getAdVolume()||this.dispatchAdsManagerEvent(s.default.VOLUME_MUTED),this.isMuted=!!this.getVolume();else if(n===a.a.AdStopped){this.isStopped=!0;try{this.vpaidContainer.parentNode.removeChild(this.vpaidContainer)}catch(e){}}else n===a.a.AdError&&setTimeout(function(){return t.stop()});this.isProcessingVpaidEvent=!1,this.processVpaidEventQueue()}},e.dispatchAdsManagerEvent=function(e){var t=this;this.listeners.forEach(function(n){if(n.type===e)try{n.callback(t.genAdEvent(e))}catch(e){}})},e.getCurrentTime=function(){return this.vpaidAd.getAdDuration()-this.vpaidAd.getAdRemainingTime()},e.trackPixel=function(e,t){var n=this;void 0===t&&(t={}),this.tracking.forEach(function(r){r.type!==e||r.tracked&&-1!==O.indexOf(e)||("progress"!==e||"progress"===e&&r.offset<=n.getCurrentTime())&&(document.createElement("img").src=function(e,t,n,r){var i=Math.random().toString(36).substr(-8),o={"[CONTENTPLAYHEAD]":String(t),"[CACHEBUSTING]":i,"[ERRORCODE]":String(n),"[ASSETURI]":r||""};return Object.keys(o).reduce(function(e,t){return e.replace(t,o[t])},e)}(r.pixel,n.getCurrentTime(),t.errorCode,n.mediafile&&n.mediafile.url))})},e.genAdEvent=function(e,t){var n=this;return void 0===t&&(t={}),e===s.default.AD_ERROR?{type:e,getError:function(){return new c.a({code:901,message:t.message||""})}}:{type:e,getAd:function(){return new l(n.vastAd,n.vpaidAd,n.mediafile)}}},AdManager}();function AdManagerProxy_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){function AdManagerProxy(e){AdManagerProxy_defineProperty(this,"loaded",!1),AdManagerProxy_defineProperty(this,"autostart",!1),AdManagerProxy_defineProperty(this,"adsManager",void 0),AdManagerProxy_defineProperty(this,"listeners",[]),AdManagerProxy_defineProperty(this,"vastOptions",void 0),e&&(this.vastOptions=e)}var e=AdManagerProxy.prototype;return e.init=function(e,t,n,r){var i=this;this.dispatchAdsManagerEvent({type:s.default.LOADED,getAd:function(){return{getAdId:function(){return""},getAdSystem:function(){return""},getAdvertiserName:function(){return""},getApiFramework:function(){return""},getCompanionAds:function(){return[]},getContentType:function(){return""},getCreativeAdId:function(){return""},getCreativeId:function(){return""},getDescription:function(){return""},getDuration:function(){return-2},getHeight:function(){return t},getMediaUrl:function(){return""},getSkipTimeOffset:function(){return 0},getTitle:function(){return""},getVastMediaHeight:function(){return t},getVastMediaWidth:function(){return e},getWidth:function(){return e},getWrapperAdIds:function(){return[]},getWrapperAdSystems:function(){return[]},getWrapperCreativeIds:function(){return[]},isLinear:function(){return!0}}}}),this.vastOptions&&loadAd_loadAd(this.vastOptions.vast,this.vastOptions.container,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){AdManagerProxy_defineProperty(e,t,n[t])})}return e}({},this.vastOptions.settings||{},{useFastLoad:!1})).then(function(r){i.adsManager=r,i.registerAdsManagerEvents(r),i.adsManager.addEventListener(s.default.LOADED,function(){i.loaded=!0,i.autostart&&i.start()}),i.adsManager.init(e,t,n)}).catch(function(e){i.dispatchAdsManagerEvent(e)})},e.start=function(){this.loaded?this.adsManager.start():this.autostart=!0},e.destroy=function(){this.adsManager&&this.adsManager.destroy()},e.getAdSkippableState=function(){return!!this.adsManager&&this.adsManager.getAdSkippableState()},e.getRemainingTime=function(){return this.adsManager?this.adsManager.getRemainingTime():-2},e.getVolume=function(){return this.adsManager?this.adsManager.getVolume():0},e.pause=function(){this.adsManager&&this.adsManager.pause()},e.resize=function(e,t,n){this.adsManager&&this.adsManager.resize(e,t,n)},e.resume=function(){this.adsManager&&this.adsManager.resume()},e.setVolume=function(e){this.adsManager&&this.adsManager.setVolume(e)},e.skip=function(){this.adsManager&&this.adsManager.skip()},e.stop=function(){this.adsManager&&this.adsManager.stop()},e.addEventListener=function(e,t,n){this.listeners.push({type:e,callback:t})},e.removeEventListener=function(e,t){this.listeners=this.listeners.filter(function(n){return n.type!==e&&n.callback!==t})},e.registerAdsManagerEvents=function(e){var t=this;Object.keys(s.default).forEach(function(n){var r=s.default[n];r!==s.default.LOADED&&e.addEventListener(r,function(e){t.dispatchAdsManagerEvent(e)})})},e.dispatchAdsManagerEvent=function(e){this.listeners.forEach(function(t){t.type===e.type&&t.callback(e)})},AdManagerProxy}();function loadAd_loadAd(e,t,n){if(void 0===n&&(n={}),n.useFastLoad)return Promise.resolve(new P({vast:e,container:t,settings:n}));if(n&&n.useSeedtagPlayer)return function(e,t){return"string"==typeof e?Object(r.loadVast)(e).then(function(e){return new E(e,t)}):Promise.resolve(new E(e,t))}(e,t);var o="object"==typeof e?Object(r.toVastXml)(e):e;return Object(i.a)(o,t,n)}n.d(t,"a",function(){return loadAd_loadAd})},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(171),i=n(172);t.DEFAULT_FEATURES={xToClose:{enabled:!1},noDecoy:{enabled:!1},threeSecInteraction:{enabled:!1},hideAdsBy:{enabled:!1},sizeLimits:{enabled:!1,value:{handheld:{min:{w:250,h:150}},desktop:{min:{w:350,h:250}}}},lazyRequest:{enabled:!1},lazyInsert:{enabled:!0},oneVideoPerUrl:{enabled:!1},lowPriority:{enabled:!1},trackOnView:{enabled:!1}};var o=function(){function Config(){this.isDev=!1,this.token="",this.staticUrl="//config.seedtag.com",this.apiUrl="https://tms.api.seedtag.com",this.taggingApiUrl="https://tagging.api.seedtag.com",this.realTimeLogsApiUrl="https://realtimelogs.api.seedtag.com",this.sspServiceApiUrl="https://ssp.api.seedtag.com",this.servingConfigUrl="https://s.seedtag.com/t",this.servingSspUrl="https://s.seedtag.com/s",this.servingEventsUrl="https://s.seedtag.com/e",this.publisherFeatures=new i.PublisherFeatures(t.DEFAULT_FEATURES),this.onload=[],this.gdpr={hasCMP:!1,gdprApplies:null,consentData:"",consentTime:0},this.features={dryRun:{enabled:!1},fakeCreatives:{enabled:!1},debug:{enabled:this.isDev},test:{enabled:!1}}}return Config.prototype.triggerOnLoad=function(){for(;this.onload.length;){this.onload.shift()(r.publicAccess.getRequireFunction())}},Config}();t.Config=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(88),a=n(89),s=n(231),c=n(176),u=n(114),l=n(88),p=n(109),d=n(91),f=n(94),h=function(){function Context(e){var t=this;this.loggers={},this._filterList={},this._resources={},this.eventStream=new p.Stream,this.messageBus=new s.MessageBus,this.subscriptions=a.StArray.from([]),this.waitForEvent=function(e,n,r){return new Promise(function(i,o){var a=t.subscribe({channel:e,topic:n,callback:function(e){a.unsubscribe(),i(e)}});r&&setTimeout(function(){return o(new Error("timeout"))},r)})},this.config=e,this.isDev=e.isDev,this.debug=e.features.debug.enabled,this.testing=e.features.test.enabled,this.loggers={track:new c.Logger("Track",this),publish:new c.Logger("Publish",this)}}return Context.prototype.destroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})},Context.prototype.getEventStream=function(){return this.eventStream},Context.prototype.request=function(e,t,n){return r(this,void 0,void 0,function(){var r,o,a,s,c=this;return i(this,function(i){switch(i.label){case 0:return r={message:e,data:t},o=""+e,setTimeout(function(){return c.publish({channel:"actors-bus",topic:o+".request",data:r})}),a=this.waitForEvent("actors-bus",o+".response",n),s=this.waitForEvent("actors-bus",o+".response.error",n),[4,l.Util.race({success:a,error:s})];case 1:return"success"!==i.sent()?[3,2]:[2,a];case 2:return[4,s];case 3:throw i.sent()}})})},Context.prototype.subscribe=function(e){this.log("subscribe",e);var t=this.messageBus.subscribe(e);return this.subscriptions.push(t),t},Context.prototype.publish=function(e){window._seedtag.onEvent&&window._seedtag.onEvent(e),this.log("publish",e.channel,e.topic,e.data),this.eventStream.next(e),this.messageBus.publish(e)},Context.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(d.Container.get(f.SeedtagStorageVars).debugger.get().getOrElse(!1)){if(this.loggers[e])try{this.loggers[e].log(JSON.stringify(t,null,"\t"))}catch(e){}if(this.debug)try{console.debug.apply(console,[e].concat(t))}catch(e){}}},Context.prototype.addFilter=function(e,t){this.log("filter:add",e),this._filterList.hasOwnProperty(e)||(this._filterList[e]=[]),this._filterList[e].push(t)},Context.prototype.filter=function(e,t){this.log("filter:use",e,t);var n=o.ImmutabilityHelper.immute(t);return a.StArray.from(this._filterList[e]).forEach(function(e){return n=e(n)}),n},Context.prototype.set=function(e,t){this.log("set",e,t),this._resources[e]=t},Context.prototype.get=function(e){return this.log("get",e),this._resources[e]},Context}();t.Context=h,t.wrapInCatch=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return e.apply(this,t)}catch(e){u.ErrorHandler.trackError(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88);t.getScreenPosition=function(){var e=r.Util.viewPortHeight();return{top:0,center:e/2,bottom:e,size:e}};var i=function(e){var n=t.getScreenPosition();return e>0&&e<n.bottom};t.getPointRelativeScreen=function(e,t){return void 0===t&&(t=r.Util.viewPortHeight()),e/t};var o=function(){function ScreenElement(e){this.el=e}return ScreenElement.prototype.getPosition=function(){var e=this.el.getBoundingClientRect(),t=e.top,n=e.height;return{top:t,bottom:t+n,size:n,center:t+n/2}},ScreenElement.prototype.isFullInViewport=function(){return this.isTopInViewport()&&this.isBottomInViewport()},ScreenElement.prototype.isAnyInViewport=function(){return this.isTopInViewport()||this.isBottomInViewport()},ScreenElement.prototype.isTopInViewport=function(){return i(this.getPosition().top)},ScreenElement.prototype.isTopInViewportOffset=function(e){return i(this.getPosition().top+e)},ScreenElement.prototype.isBottomInViewport=function(){return i(this.getPosition().bottom)},ScreenElement.prototype.isCenterInViewport=function(){return i(this.getPosition().center)},ScreenElement.prototype.getRelativePosition=function(){var e=this.getPosition(),n=t.getScreenPosition().bottom;return{center:t.getPointRelativeScreen(e.center,n),top:t.getPointRelativeScreen(e.top,n),bottom:t.getPointRelativeScreen(e.bottom,n),size:t.getPointRelativeScreen(e.size,n)}},ScreenElement}();t.ScreenElement=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(114),a=function(){function EventProcess(e,t){this._blocked=!1,this._terminated=!1,this._fsm=e.call(t),this._status=this._fsm.next().value}return EventProcess.receive=function(e){return["RECEIVING",e]},EventProcess.race=function(e){return["RACING",e]},EventProcess.wait=function(e){return["WAITING",e]},EventProcess.resolve=function(e){return["RESOLVING",e]},EventProcess.prototype.run=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,s,c,u=this;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,6,,7]),this._blocked||this._terminated)return[2];for(;"SUSPENDED"===this._status[0];){if(c=this._fsm.next(),this.isTerminated(c.done))return[2];this._status=c.value}if("WAITING"===this._status[0])return this._blocked=!0,setTimeout(function(){try{var e=u._fsm.next();if(u.isTerminated(e.done))return;u._status=e.value,u._blocked=!1}catch(e){o.ErrorHandler.trackError(e)}},this._status[1]),[2];if("RACING"===this._status[0]&&(n=this._status,t=n[1][e.message])){if(c=this._fsm.next(t(e.data)),this.isTerminated(c.done))return[2];this._status=c.value}if("RECEIVING"===this._status[0]&&(n=this._status)[1]===e.message){if(c=this._fsm.next(e),this.isTerminated(c.done))return[2];this._status=c.value}if("RESOLVING"!==this._status[0])return[3,5];this._blocked=!0,n=this._status,i.label=1;case 1:return i.trys.push([1,3,,4]),a=(r=this._fsm).next,[4,n[1]];case 2:return c=a.apply(r,[i.sent()]),this.isTerminated(c.done)?[2]:(this._status=c.value,[3,4]);case 3:return s=i.sent(),c=this._fsm.throw(s),this.isTerminated(c.done)?[2]:(this._status=c.value,[3,4]);case 4:this._blocked=!1,i.label=5;case 5:return[3,7];case 6:return i.sent(),[3,7];case 7:return[2]}})})},EventProcess.prototype.isTerminated=function(e){return!!e&&(this._terminated=!0,e)},EventProcess}();t.EventProcess=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),a=n(89),s=function(e){function AdunitComponent(t){var n=e.call(this,t)||this;return n.state={},n.$el=document.createElement("div"),n.$container=document.createElement("div"),n._componentName="",n._events={context:a.StArray.from([]),dom:a.StArray.from([])},n.$el.className="st-adunit-component",n.$container.className="st-container",n.$el.appendChild(n.$container),n}return i(AdunitComponent,e),AdunitComponent.prototype.setup=function(){""!==this._componentName&&this.$el.classList.add("st-adunit-component_"+this._componentName)},AdunitComponent.prototype.append=function(e){this.$container.appendChild(e)},AdunitComponent.prototype.render=function(){console.warn("render is an abstract method please implement yours")},AdunitComponent.prototype.setAdunit=function(e){this.context=e.context,this._adunit=e,this.setup()},AdunitComponent.prototype.subscribe=function(e){var t=this.context.subscribe(e);return this._events.context.push(t),t},AdunitComponent.prototype.on=function(e,t,n){this._events.dom.push({$el:e,events:t,handler:n}),a.StArray.from(t).forEach(function(t){return e.addEventListener(t,n)})},AdunitComponent.prototype.onInsert=function(){},AdunitComponent.prototype.onDestroy=function(){this._events.context.forEach(function(e){return e.unsubscribe()}),this._events.dom.forEach(function(e){a.StArray.from(e.events).forEach(function(t){return e.$el.removeEventListener(t,e.handler)})})},AdunitComponent}(o.GohanComponent);t.AdunitComponent=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(92),a=n(128);function createViewProcess(e,t){var n,r=new a.Deferred,i=!1,o=!1;return{onEnd:r.promise,run:function(){n=!o&&!i&&setTimeout(function(){i=!0,r.resolve({percentageVisibleThreshold:t,seconds:e})},1e3*e)||n,o=!0},stop:function(){n&&clearTimeout(n),o=!1}}}t.createViewProcess=createViewProcess;var s=function(e){function TrackViewabilityBehaviour(){var t=e.call(this)||this;return t.hasImpression=!1,t.viewConditions=[{percentageVisibleThreshold:.5,seconds:1},{percentageVisibleThreshold:.5,seconds:3},{percentageVisibleThreshold:.5,seconds:5},{percentageVisibleThreshold:1,seconds:1},{percentageVisibleThreshold:1,seconds:3},{percentageVisibleThreshold:1,seconds:5}],t.viewProcessArray=t.viewConditions.map(function(e){var n=createViewProcess(e.seconds,e.percentageVisibleThreshold);return n.onEnd.then(function(e){t.instance.onViewabilityEvent(e.seconds,e.percentageVisibleThreshold)}).catch(console.log),{viewProcess:n,isVisible:!1,threshold:e.percentageVisibleThreshold}}),t}return i(TrackViewabilityBehaviour,e),TrackViewabilityBehaviour.prototype.onTrackImpression=function(){this.hasImpression=!0,this.viewProcess()},TrackViewabilityBehaviour.prototype.onAreaVisibleChange=function(e){this.viewProcessArray=this.viewProcessArray.map(function(t){return e>=t.threshold?t.isVisible=!0:t.isVisible=!1,t}),this.viewProcess()},TrackViewabilityBehaviour.prototype.viewProcess=function(){var e=this;this.viewProcessArray.forEach(function(t){t.isVisible&&e.hasImpression?t.viewProcess.run():t.isVisible||t.viewProcess.stop()})},TrackViewabilityBehaviour}(o.Behaviour);t.TrackViewabilityBehaviour=s},,,function(e,t,n){"use strict";n.r(t),n.d(t,"VAST_WRAPPER_POSTMESSAGE_PREFIX",function(){return u}),n.d(t,"VPAIDVASTWrapper",function(){return l});var r=n(138),i=n(131),o=n(130),a=n(107),s=n(133),c=n(154);function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}window.getVPAIDAd=function(){return new l};var u="seedtag-vast-wrapper:",l=function(e){var t,n;function VPAIDVASTWrapper(){for(var t,n,r,i,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n=_assertThisInitialized(_assertThisInitialized(t)),i={},(r="parameters")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,t}return n=e,(t=VPAIDVASTWrapper).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,VPAIDVASTWrapper.prototype.initAd=function(e,t,n,o,l,p){var d=this;try{this.parameters=Object(i.a)(l)}catch(e){this.triggerEvent(a.a.AdError,"invalid creative data")}this.parameters.adUrl?Object(r.a)(this.parameters.adUrl,p.slot).then(function(r){d.setVPAID(new s.VPAIDAdsManager(r)),Object(c.a)(p.slot.ownerDocument,u+JSON.stringify(d.parameters)),r.init(e,t,n,p.videoSlot)}).catch(function(e){var t=e.getError();d.triggerEvent(a.a.AdError,"Unable to load vast creative "+d.parameters.adUrl+" : "+t.getErrorCode()+" - "+t.getMessage())}):this.triggerEvent(a.a.AdError,"invalid creative data")},VPAIDVASTWrapper}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(116),n(77),n(117),n(35);var r,i,o,a=function(){function XMLHelper(){}return XMLHelper.getXMLDoc=function(e){var t;if(XMLHelper.supportActiveX){try{t=new ActiveXObject("Msxml2.DOMDocument.6.0")}catch(e){try{t=new ActiveXObject("Msxml2.DOMDocument.3.0")}catch(e){t=new ActiveXObject("Microsoft.XMLDOM")}}t.async=!1,t.loadXML(e)}else{if(!DOMParser)throw new Error("Connot parse XML, ActiveXObject or DOMParser not available");t=(new DOMParser).parseFromString(e,"text/xml")}return t},XMLHelper.getNodeContent=function(e){if(e)try{var t=XMLHelper.getFirstChild(e);return t?XMLHelper.getNodeTextContent(t):""}catch(e){}},XMLHelper.getAttributeValue=function(e,t){try{var n=e.getAttribute(t);if(n)return n;if(e.attributes[t])return String(e.attributes[t].value);Array.from(e.attributes).forEach(function(e){if(e.name===t)return console.log(e.name,e.value,String(e.value)),String(e.value)})}catch(e){}},XMLHelper.isAllWhitespace=function(e){return!/[^\t\n\r ]/.test(e.textContent?e.textContent:e.text)},XMLHelper.isIgnorable=function(e){return 8===e.nodeType||3===e.nodeType&&XMLHelper.isAllWhitespace(e)},XMLHelper.getFirstChild=function(e){for(var t=e.firstChild;t;){if(!XMLHelper.isIgnorable(t))return t;t=t.nextSibling}return null},XMLHelper.getNodeTextContent=function(e){var t=(e.textContent?e.textContent:e.text).replace(/[\t\n\r ]+/g," ");return" "===t.charAt(0)&&(t=t.substring(1,t.length))," "===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t},XMLHelper}();r=a,i="supportActiveX",o=Object&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window||!!window.ActiveXObject,i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o},function(e,t,n){"use strict";n.d(t,"a",function(){return loadAd}),n.d(t,"b",function(){return loadIMAScript});n(117),n(36),n(98),n(35),n(37);var r=n(97);function loadAd(e,t,n){return void 0===n&&(n={}),new Promise(function(i,o){loadIMAScript().then(function(){return function(e,t,n){void 0===n&&(n={});var i=t.ownerDocument.createElement("video");i.muted=!0,i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i.setAttribute("WebkitPlaysinline","true");var o=navigator.userAgent||navigator.vendor,a=/iPad|iPhone|iPod/.test(o)&&!window.MSStream||/android/i.test(o);return new Promise(function(o,s){var c;a&&((c=document.createElement("div")).style.position="absolute",c.style.zIndex="10",c.style.top="0",c.style.left="0",c.style.display="none",c.style.width="100%",c.style.height="100%",c.style.cursor="pointer",t.appendChild(c));var u=new google.ima.AdDisplayContainer(t,i,c);u.initialize();var l=new google.ima.AdsLoader(u);if(n.onAdsLoaderReady)try{n.onAdsLoaderReady(l)}catch(e){}l.getSettings().setVpaidMode(n.vpaidMode||google.ima.ImaSdkSettings.VpaidMode.INSECURE),l.getSettings().setDisableCustomPlaybackForIOS10Plus(!0);var p=new google.ima.AdsRenderingSettings;p.uiElements=[],p.enablePreloading=!0,n.adsRenderingSettings&&Object.keys(n.adsRenderingSettings).forEach(function(e){p[e]=n.adsRenderingSettings[e]});l.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){var n=e.getAdsManager(i,p);if(n.isCustomClickTrackingUsed()){var r=n.addEventListener.bind(n);n.addEventListener=function(e,t,n){"click"==e?c.addEventListener("click",function(){t({})}):r(e,t,n)}}n.setVolume(0),n.addEventListener(google.ima.AdEvent.Type.IMPRESSION,function(e){!i.parentNode&&i.src&&(t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.style.width="100%",i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.backgroundColor="black",n.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(e){i&&i.parentNode&&i.parentNode.removeChild&&i.parentNode.removeChild(i)})),a&&Array.from(t.getElementsByTagName("iframe")).forEach(function(e){-1!==e.src.indexOf("//imasdk.googleapis.com/js/core/bridge")&&(e.style.display="none")})});var s=function(e){c&&-1===String(e.getAd().getApiFramework()).toLocaleLowerCase().indexOf("vpaid")&&(c.style.display=e.type===google.ima.AdEvent.Type.PAUSED?"none":"block")};n.addEventListener(google.ima.AdEvent.Type.STARTED,s),n.addEventListener(google.ima.AdEvent.Type.PAUSED,s),n.addEventListener(google.ima.AdEvent.Type.RESUMED,s),o(n)},!1),l.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,s,!1);var d=new google.ima.AdsRequest,f=t.getBoundingClientRect(),h=f.width,g=f.height;d.linearAdSlotWidth=h,d.linearAdSlotHeight=g,n.timeout&&(d.vastLoadTimeout=n.timeout),Object(r.isVastXml)(e)?d.adsResponse=e:d.adTagUrl=e,l.requestAds(d)})}(e,t,n).then(i).catch(o)})})}var i=null;function loadIMAScript(){return i||(i=window.google&&google.ima&&google.ima.AdsManager?Promise.resolve():new Promise(function(e,t){var n=document.createElement("script");n.addEventListener("load",function(){return e()}),n.addEventListener("error",function(e){t(e)}),n.src="https://imasdk.googleapis.com/js/sdkloader/ima3.js";var r=document.getElementsByTagName("script")[0];r&&r.parentNode?r.parentNode.insertBefore(n,r):document.body.appendChild(n)}))}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(107);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){function EventHandler(){_defineProperty(this,"listeners",{}),_defineProperty(this,"listenersScope",{}),_defineProperty(this,"eventQueue",[]),_defineProperty(this,"isProcessing",!1)}var e=EventHandler.prototype;return e.subscribe=function(e,t,n){this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e),this.listenersScope[t]=this.listenersScope[t]||[],this.listenersScope[t].push(n||null)},e.unsubscribe=function(e,t){if(this.listeners[t]){var n=this.listeners[t].indexOf(e);n>=0&&(this.listeners[t][n]=function(){})}},e.clearListeners=function(){this.listeners={},this.listenersScope={}},e.handleEvent=function(e){this.eventQueue.push(e),this.processQueue()},e.processQueue=function(){if(!this.isProcessing&&this.eventQueue.length>0){var e=this.eventQueue.shift();e&&this.processEvent(e)}},e.processEvent=function(e){if(!this.isProcessing){this.isProcessing=!0;for(var t=this.listeners[e.type]||[],n=0,i=t.length;n<i;n++)try{var o=[];if(e.data)switch(e.type){case r.a.AdClickThru:o=[e.data.url,e.data.id,!!e.data.playerHandles];break;case r.a.AdLog:case r.a.AdError:o="string"==typeof e.data?[e.data]:"object"==typeof e.data&&e.data.message?[e.data.message]:[String(e.data)]}t[n].apply(this.listenersScope[e.type][n],o)}catch(t){this.handleEvent({type:r.a.AdLog,data:"Callback #"+n+" on event "+e.type+" throws an exception: "+t})}this.isProcessing=!1,this.processQueue()}},EventHandler}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=e.defaultView;try{for(var r=n;r&&r.postMessage(t,"*"),!r||r!==r.parent;)r&&(r=r.parent)}catch(e){console.error(e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"trackingMapping",function(){return a}),n.d(t,"VastEventTracker",function(){return s});n(116),n(36),n(98),n(35),n(117);var r,i=n(107),o=n(156);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=((r={})[i.a.AdImpression]=o.a.impression,r[i.a.AdVideoStart]=o.a.start,r[i.a.AdVideoFirstQuartile]=o.a.firstQuartile,r[i.a.AdVideoMidpoint]=o.a.midpoint,r[i.a.AdVideoThirdQuartile]=o.a.thirdQuartile,r[i.a.AdVideoComplete]=o.a.complete,r[i.a.AdClickThru]=o.a.click,r[i.a.AdRemainingTimeChange]=o.a.progress,r[i.a.AdError]=o.a.error,r[i.a.AdLoaded]=o.a.loaded,r),s=function(){function VastEventTracker(e,t,n){var r=this;_defineProperty(this,"tracked",[]),_defineProperty(this,"pixels",[]),_defineProperty(this,"trackedOffset",[]),_defineProperty(this,"vpaidAd",void 0),_defineProperty(this,"container",void 0),this.vpaidAd=e,this.container=n,this.pixels=Array.from(t),Object.keys(a).forEach(function(t){e.subscribe(function(){return r.trackEvent(a[t])},t)})}var e=VastEventTracker.prototype;return e.getTrackedPixels=function(){return this.tracked},e.trackEvent=function(e,t){var n=this,r="number"==typeof t?t:this.getCurrentTime();e===o.a.complete&&this.trackEvent(o.a.progress,Math.ceil(r)+1);var i=Math.ceil(r)-1,a=this.trackedOffset.indexOf(i)>-1;e===o.a.progress&&!a&&i>0&&(this.trackEvent(o.a.progress,i),this.trackedOffset.push(i)),e===o.a.progress&&this.trackedOffset.indexOf(r)>-1||this.pixels.filter(function(t){return t.type===e&&!(e===o.a.progress&&r!==t.offset)}).forEach(function(e){return n.triggerPixel(e)})},e.triggerPixel=function(e){if(-1===this.tracked.indexOf(e)){this.tracked.push(e);var t=this.pixels.indexOf(e);if(t>-1&&this.pixels.splice(t,1),e.type===o.a.error&&(e.url=e.url.replace("[ERRORCODE]","901")),".js"===e.url.substr(-3)){var n=document.createElement("script");n.src=e.url;try{this.container.appendChild(n)}catch(e){}}else{var r=document.createElement("img");r.style.display="none",r.src=e.url;try{this.container.appendChild(r)}catch(e){}}}},e.getCurrentTime=function(){var e=this.vpaidAd.getAdDuration()-this.vpaidAd.getAdRemainingTime();return e<0||isNaN(e)?0:Math.ceil(e)},VastEventTracker}()},function(e,t,n){"use strict";t.a={impression:"impression",start:"start",click:"click",firstQuartile:"firstQuartile",midpoint:"midpoint",thirdQuartile:"thirdQuartile",complete:"complete",progress:"progress",error:"error",loaded:"loaded"}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(88);__export(n(286)),__export(n(287)),t.mixDimensions=function(e,t){return r.assign(e,t)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function BaseDimensionGetter(e){this.entityName=e}return BaseDimensionGetter.prototype.prefixedGetBase=function(e,t){return o(this.entityName,"_",this.getBase(e,t))},BaseDimensionGetter.prototype.prefixedGetForEvent=function(e,t){return o(this.entityName,"_",this.getForEvent(e,t))},BaseDimensionGetter.prototype.getBase=function(e,t){return{}},BaseDimensionGetter.prototype.getForEvent=function(e,t){return{}},BaseDimensionGetter.prototype.getRelated=function(e,t){return{}},BaseDimensionGetter}();t.BaseDimensionGetter=i;var o=function(e,t,n){return Object.keys(n).map(function(e){return{key:e,value:n[e]}}).reduce(function(n,r){return n[e+t+r.key]=r.value,n},{})},a=function(){function EventGenerator(e,t){this.entity=e,this.dimensions=t}return EventGenerator.prototype.makeEvent=function(e,t,n,i){return void 0===n&&(n={}),void 0===i&&(i="Client"),{type:i+"."+this.entity+"."+e,props:r({},this.dimensions.prefixedGetBase(t,e),this.dimensions.prefixedGetForEvent(t,e),this.dimensions.getRelated(t,e))}},EventGenerator}();t.EventGenerator=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(99);t.fixModel=function(e){return r({},e,{integration:e.integration||{}})};var o=function(){function TemplateModel(e){var n=this;this.adUnits=[];var r=t.fixModel(e)||{};this.id=r.id,this.category=r.category,this.type=r.type,this.name=r.name,this.condition=r.condition,this.integration=r.integration,r.adUnits&&r.adUnits.map(function(e){n.adUnits.push(new i.AdUnitModel(e))})}return TemplateModel.prototype.getAdUnits=function(){return this.adUnits},TemplateModel}();t.TemplateModel=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(200);t.AdUnitFactory=r.AdUnitFactory;var i=n(110);t.AdUnit=i.AdUnit},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){}}();t.TagManagerConfig=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(105),a=n(93),s=function(){function SequenceIterator(e){this.requests=[],this.requests=e}return SequenceIterator.prototype.run=function(e){return r(this,void 0,void 0,function(){var t,n,r,s,c,u;return i(this,function(i){switch(i.label){case 0:t=this.requests.slice(),n=[],r=null,i.label=1;case 1:if(!t.length||r)return[3,6];if(!(s=t.shift()))return[3,6];i.label=2;case 2:return i.trys.push([2,4,,5]),c=this.responseHook,[4,s.run()];case 3:return u=c.apply(this,[i.sent()]),e&&e.onResponse(u),n.push(u),u.isAd()&&(r=u),[3,5];case 4:return i.sent(),u=o.makeNoAd(s,a.NetworkReason.error),n.push(u),[3,5];case 5:return[3,1];case 6:return[2,{winner:this.winnerHook(r),responses:n}]}})})},SequenceIterator.prototype.responseHook=function(e){return e},SequenceIterator.prototype.winnerHook=function(e){return e},SequenceIterator}();t.SequenceIterator=s},function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var r,i,o=function(){function BaseConnector(e){_defineProperty(this,"inMessages",[]),_defineProperty(this,"outMessages",[]),_defineProperty(this,"listeners",[]),_defineProperty(this,"connected",!1),_defineProperty(this,"sender",void 0),this.sender=e,this.sender.setDelegate(this.onReceive.bind(this))}var e=BaseConnector.prototype;return e.connect=function(e){var t=this;return this.sender.connect(e).then(function(){t.onConnect()})},e.listen=function(e){this.listeners.push(e)},e.send=function(e){this.connected?this.sender.send(e):this.outMessages.push(e)},e.onConnect=function(){this.connected=!0,this.flushMessages()},e.onReceive=function(e){this.inMessages.push(e),this.flushMessages()},e.flushMessages=function(){if(this.connected){var e=this.inMessages.pop();e&&(this.listeners.map(function(t){return t(e)}),this.flushMessages()),(e=this.outMessages.pop())&&(this.send(e),this.flushMessages())}},BaseConnector}();n(35),n(36),n(98),n(116);!function(e){e.host="ht",e.guest="gt"}(r||(r={})),function(e){e.connectionRequest="conReq",e.connectionResponse="conResp"}(i||(i={}));function SPromise_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){var t=this;SPromise_defineProperty(this,"then",void 0),SPromise_defineProperty(this,"catch",void 0);var n="pending",r=null,i={ok:[],err:[]},o=function(e){"not"===n&&(n="yes",r=i.ok.reduce(function(e,t){var n=t(e);return void 0===n?e:n},e))},a=function(e){n="err",r=e||new Error("promise Error"),i.err.map(function(e){e(r)})};this.then=function(s){if(i.ok.push(s),"yes"===n&&o(r),"pending"===n){n="not";var c=e(o,a);void 0!==c&&(c.then?c.then(o).catch(a):o(c))}return t},this.catch=function(e){return i.err.push(e),"err"===n&&a(r),t}},s=function(e,t,n){e.addEventListener("message",function(e){if(0===new String(e.data).indexOf("mPass://")){var r=function(e){return JSON.parse(e.replace("mPass://",""))}(e.data);r.to===t&&n(r,e.source)}})},c=function(e,t){t.postMessage(function(e){return"mPass://"+JSON.stringify(e)}(e),"*")};function HostConnector_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function HostConnector(e){HostConnector_defineProperty(this,"iframe",void 0),HostConnector_defineProperty(this,"target",null),HostConnector_defineProperty(this,"delegate",function(e){}),this.iframe=e}var e=HostConnector.prototype;return e.setDelegate=function(e){this.delegate=e},e.connect=function(){var e=this;return new a(function(t){s(e.iframe.contentWindow,r.host,function(n,r){e.target||(e.target=r,e.onConnect(),t()),e.delegate(n)})})},e.send=function(e){if(this.target){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){HostConnector_defineProperty(e,t,n[t])})}return e}({},e,{to:r.guest});c(t,this.target),this.target!==this.iframe.contentWindow&&c(t,this.iframe.contentWindow)}},e.onConnect=function(){this.send({type:i.connectionResponse,payload:{}})},HostConnector}();function GuestConnector_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,p,d=function(){function GuestConnector(e){GuestConnector_defineProperty(this,"currentWindow",void 0),GuestConnector_defineProperty(this,"connectionInterval",void 0),GuestConnector_defineProperty(this,"delegate",function(e){}),this.currentWindow=e}var e=GuestConnector.prototype;return e.setDelegate=function(e){this.delegate=e},e.connect=function(e){var t=this;return new a(function(n,o){t.requestConnection();var a=setTimeout(function(){t.stopRequestConnection(),o()},e||300);s(window,r.guest,function(e){e.type===i.connectionResponse&&(clearTimeout(a),n(),t.onConnect()),t.delegate(e)})})},e.send=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){GuestConnector_defineProperty(e,t,n[t])})}return e}({},e,{to:r.host}),n=this.currentWindow;c(t,n);do{(n=n.parent)&&c(t,n)}while(n!==n.parent)},e.onConnect=function(){this.stopRequestConnection()},e.stopRequestConnection=function(){clearInterval(this.connectionInterval)},e.requestConnection=function(){var e=this,t=function(){e.send({type:i.connectionRequest,payload:{}})};this.connectionInterval=setInterval(function(){t()},100),t()},GuestConnector}();function Base_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.Pend="pending",e.Try="try",e.Done="done",e.Err="err"}(l||(l={})),function(e){e.Resize="adResize",e.Close="close",e.AdState="adState"}(p||(p={}));var f=function(){function CreativeBase(e){Base_defineProperty(this,"connector",void 0),Base_defineProperty(this,"props",void 0),Base_defineProperty(this,"state",{visible:!1,hover:!1,connection:l.Pend}),this.connector=e.connector,this.props=e}var e=CreativeBase.prototype;return e.connect=function(e){var t=this;return this.state.connection=l.Try,this.stateChangeHander(),this.connector.listen(function(e){t.messageHandler(e)}),this.connector.connect(e).then(function(){t.state.connection=l.Done,t.stateChangeHander()}).catch(function(){t.state.connection=l.Err,t.stateChangeHander()})},e.listen=function(e){this.connector.listen(function(t){e(t)})},e.messageHandler=function(e){},e.stateChangeHander=function(){},CreativeBase}();function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=function(e){function CreativeHost(){return e.apply(this,arguments)||this}_inheritsLoose(CreativeHost,e);var t=CreativeHost.prototype;return t.messageHandler=function(e){e.type===p.Resize&&this.props.onResize(e.payload.size),e.type===p.Close&&this.props.onClose()},t.visible=function(e){this.state.visible!==e&&(this.state.visible=e,this.sendState())},t.hovered=function(e){this.state.hover!==e&&(this.state.hover=e,this.sendState())},t.sendState=function(){this.connector.send({type:p.AdState,payload:this.state})},CreativeHost}(f),g=function(e){function CreativeGuest(){return e.apply(this,arguments)||this}_inheritsLoose(CreativeGuest,e);var t=CreativeGuest.prototype;return t.connect=function(){return e.prototype.connect.call(this,300)},t.close=function(){this.connector.send({type:p.Close,payload:{}})},t.resize=function(e){e.width&&e.height&&this.connector.send({type:p.Resize,payload:{size:e}})},t.stateChangeHander=function(){this.props.onStateChange(this.state)},t.messageHandler=function(e){e.type===p.AdState&&(this.state=e.payload,this.state.connection=l.Done,this.stateChangeHander())},CreativeGuest}(f),y={host:function(e){return new o(new u(e))},guest:function(e){return new o(new d(e))},creativeHost:function(e){return new h(e)},creativeGuest:function(e){return new g({connector:e.connector,onStateChange:e.onChange})}};n.d(t,"BaseConnector",function(){return o}),n.d(t,"HostConnector",function(){return u}),n.d(t,"GuestConnector",function(){return d}),n.d(t,"CreativeGuest",function(){return g}),n.d(t,"CreativeHost",function(){return h}),n.d(t,"AdState",function(){}),n.d(t,"ConnectionStatus",function(){return l}),n.d(t,"AdMessages",function(){return p}),n.d(t,"Message",function(){}),n.d(t,"IConnector",function(){}),n.d(t,"Factory",function(){return y})},function(e,t,n){"use strict";n.r(t);n(37);var r=n(138),i="<!doctype html>\n<html>\n  <head>\n    <style>\n      body {\n        padding: 0;\n        margin:0;\n      }\n      #mute-button {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 18px;\n        height: 18px;\n        z-index:99999; /** Be sure to keep this high, to be over vpaid click elements **/\n        cursor: pointer;\n        padding: 17px;\n        display:none;\n      }\n\n      #main-container.with-controls #mute-button {\n        display:block;\n      }\n\n      #mute-button svg {\n        fill:#fff;\n        width: 18px;\n        height: 18px;\n      }\n\n      #mute-button svg.muted {\n        display:none;\n      }\n\n      #mute-button svg.not-muted {\n        display:block;\n      }\n\n      #mute-button.muted svg.muted {\n        display:block;\n      }\n\n      #mute-button.muted svg.not-muted {\n        display:none;\n      }\n\n      #close-button {\n        width: 36px;\n        height: 36px;\n        background-color: rgba(0,0,0, .5);\n        font-family: 'Roboto', sans-serif;\n        font-size: 12px;\n        color: #FFF;\n        opacity: .8;\n        cursor: pointer;\n        z-index: 99999; /** Be sure to keep this high, to be over vpaid click elements **/\n        position: absolute;\n        top: 10px;\n        right:10px;\n        display:none;\n      }\n\n      #main-container.with-controls #close-button {\n        display: block;\n      }\n\n      #close-button #loader {\n        width: 28px;\n        height: 28px;\n        left: 0;\n        margin: 4px;\n        position: absolute;\n        cursor: pointer;\n        top: 0;\n      }\n      \n      /** replace button position for mobile and small screen **/\n      @media all and (max-width: 360px) {\n        #mute-button {\n          padding: 10px;\n        }\n\n        #close-button {\n          top: 4px;\n          right: 4px;\n        }\n      }\n\n      #main-container {\n        height: 100%;\n        width: 100%;\n        overflow: hidden;\n        position: absolute;\n        bottom:0px;\n        left: 0px;\n      }\n\n      #main-container.with-controls {\n        background-color: black;\n        transition-property: height;\n        transition-duration: 0.5s; /** close duration **/\n        transition-delay: 0s;\n        height: 0%;\n      }\n\n      #main-container.with-controls.show {\n        transition-duration: 0s;  /**open duration **//** Disabled for test to see if it have an impact on viewability **/\n        height: 100%;\n      }\n\n      /** PREVENT VIDEO TO BE DISPLAYED IN BACKGROUND IN IIV/FIV (they use their own video file) **/\n      #main-container #ad-container video {\n        display: none\n      }\n      #main-container.with-controls #ad-container video {\n        display: block\n      }\n\n    </style>\n  </head>\n  <body>\n    <div id=\"main-container\" class=\"container with-controls\">\n        <div id=\"mute-button\" class=\"muted\">\n          <svg class=\"muted\" xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'>\n            <path d=\"M3 9v6h-1v-6h1zm13-7l-9 5v2.288l7-3.889v13.202l-7-3.889v2.288l9 5v-20zm-11 5h-5v10h5v-10zm17.324 4.993l1.646-1.659-1.324-1.324-1.651 1.67-1.665-1.648-1.316 1.318 1.67 1.657-1.65 1.669 1.318 1.317 1.658-1.672 1.666 1.653 1.324-1.325-1.676-1.656z\" />\n          </svg>\n          <svg class=\"not-muted\" xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'>\n            <path d=\"M3 9v6h-1v-6h1zm13-7l-9 5v2.288l7-3.889v13.202l-7-3.889v2.288l9 5v-20zm-11 5h-5v10h5v-10zm13.008 2.093c.742.743 1.2 1.77 1.198 2.903-.002 1.133-.462 2.158-1.205 2.9l1.219 1.223c1.057-1.053 1.712-2.511 1.715-4.121.002-1.611-.648-3.068-1.702-4.125l-1.225 1.22zm2.142-2.135c1.288 1.292 2.082 3.073 2.079 5.041s-.804 3.75-2.096 5.039l1.25 1.254c1.612-1.608 2.613-3.834 2.616-6.291.005-2.457-.986-4.681-2.595-6.293l-1.254 1.25z\" />\n          </svg>\n        </div>\n        <div id=\"close-button\">\n          <div class='skip_text' style='display: none'>Skip Ad</div>\n          <div id='loader'>\n            <svg viewBox='0 0 100 100' style='display: block; width: 100%;'>\n              <path d='M 50,50 m 0,-47 a 47,47 0 1 1 0,94 a 47,47 0 1 1 0,-94' stroke='#000' stroke-width='6' fill-opacity='0'>\n              </path>\n              <path d='M 50,50 m 0,-47 a 47,47 0 1 1 0,94 a 47,47 0 1 1 0,-94' stroke='#fff' stroke-width='6' fill-opacity='0' style='stroke-dasharray: 295.416, 295.416; stroke-dashoffset: 0;'>\n              </path>\n            </svg>\n            <div class='progressbar-text'\n                  style='position: absolute; left: 50%; top: 50%; padding: 0px; margin: 0px; transform: translate(-50%, -50%); color: rgb(255, 255, 255);'>\n              X\n            </div>\n          </div>\n        </div>\n        <div id=\"ad-container\"></div>\n    </div>\n  </body>\n</html>",o=n(194),a=n(111),s=n(97);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",function(){return c});var c=function(){function VideoCreative(e){var t=this;_defineProperty(this,"iframe",void 0),_defineProperty(this,"container",void 0),this.container=e,this.iframe=Object(o.b)(),e.appendChild(this.iframe),this.iframe.contentWindow.document.write(i),this.iframe.contentWindow.document.close(),this.iframe.contentWindow.addEventListener("message",function(e){"remove_controls"===e.data&&Object(o.c)(t.iframe.contentWindow.document.getElementById("main-container"),"with-controls")})}var e=VideoCreative.prototype;return e.loadAd=function(e,t){void 0===t&&(t={});var n=this.iframe.contentWindow.document,i=n.createElement("div");i.style.display="none",i.dataset.vast="string"==typeof e?e:Object(s.toVastXml)(e),n.getElementById("ad-container").appendChild(i);var c=function(){try{i.innerHTML="",n.getElementById("ad-container").removeChild(i)}catch(e){}};return Object(r.a)(e,i,t).then(function(e){e.addEventListener(a.default.IMPRESSION,function(t){var r=n.getElementById("mute-button"),i=n.getElementById("close-button"),s=n.getElementById("main-container");i.addEventListener("click",function(){return e.stop()}),r.addEventListener("click",function(){return e.setVolume(e.getVolume()?0:1)}),e.addEventListener(a.default.VOLUME_CHANGED,function(){e.getVolume()?Object(o.c)(r,"muted"):Object(o.a)(r,"muted")}),e.addEventListener(a.default.ALL_ADS_COMPLETED,function(){Object(o.c)(s,"show")}),setTimeout(function(){return Object(o.a)(s,"show")})});var t=e.start.bind(e);e.start=function(){i.style.display="block",t()};var r=e.destroy.bind(e);return e.destroy=function(){r(),c()},e},function(e){return c(),Promise.reject(e)})},e.destroy=function(){this.iframe.contentWindow.document.removeChild(this.iframe.contentWindow.document.documentElement),this.container.removeChild(this.iframe)},VideoCreative}()},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function PublicAccess(){this._published={}}return PublicAccess.prototype.publish=function(e,t){this._published[e]=t},PublicAccess.prototype.get=function(e){return this._published[e]||null},PublicAccess.prototype.getRequireFunction=function(){return this.get.bind(this)},PublicAccess}();t.PublicAccess=r,t.publicAccess=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(89),i=function(){return function(e){var t=this;this.brandsafeMediation={enabled:!1},this.xToClose={enabled:!1},this.noDecoy={enabled:!1},this.threeSecInteraction={enabled:!1},this.hideAdsBy={enabled:!1},this.oneVideoPerUrl={enabled:!1},this.sizeLimits={enabled:!1,value:{handheld:{min:{w:250,h:150}},desktop:{min:{w:350,h:250}}}},this.lazyRequest={enabled:!1},this.lazyInsert={enabled:!0},this.lowPriority={enabled:!1},this.trackOnView={enabled:!1},e&&r.StArray.from(Object.keys(e)).forEach(function(n){t[n]&&(t[n]=e[n])})}}();t.PublisherFeatures=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(91),o=function(){function BrowserStorage(){}return BrowserStorage=r([i.Singleton,i.Provided({get:function(){return localStorage}})],BrowserStorage)}();t.BrowserStorage=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),o=n(91),a=function(){function Http(){}return Http=r([o.Singleton,o.Provided({get:function(){return{ajax:t.Ajax}}})],Http)}();t.Http=a,t.Ajax=function(e,t){void 0===t&&(t={withCredentials:!1});var n=e.method||"GET",r=e.headers||{};return new Promise(function(o,a){var s=new XMLHttpRequest;s.onreadystatechange=function(){var t,n,r;4===s.readyState&&(s.status>=200&&s.status<300?(n=s.responseText,r=s.getResponseHeader("Content-Type"),o(/application\/json/.test((r||"").toLowerCase())?JSON.parse(n):n)):(t=s.status,a(new TypeError("Network request failed ("+t+") to "+e.url))))},s.open(n,e.url,!0),s.withCredentials=t.withCredentials||!1,i.StArray.from(Object.keys(e.headers||{})).forEach(function(t){s.setRequestHeader(t,e&&r[t]||"")}),s.send("GET"!==e.method?e.body:void 0)})}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function GohanComponent(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.args={},r.context=t,r.args=n,r.setUp(),r}return i(GohanComponent,e),GohanComponent.prototype.setUp=function(){},GohanComponent}(n(92).BehaviourInjectable);t.GohanComponent=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(89),a=n(109),s=n(91),c=n(94),u=o.StArray.from([]),l=function(){function Logger(e,t){this.messageQueue=o.StArray.from([]),this.name="",this.log=this._print("log"),this.error=this._print("error"),this.info=this._print("info"),this.debug=this._print("debug"),this.warn=this._print("warn"),this.name=e,this.restart(),u.push(this),this.enabled=this.storageVars.debugger,this.enabled.subscribe(function(e){!0===e.getOrElse(!1)&&u.forEach(function(e){return e.flushQueue()})})}return Logger.subscribe=function(e){var t=Logger.logStream.subscribe(e);return Logger.messageQueueHistory.forEach(function(t){return e(t)}),t},Logger.emitLogs=function(e){Logger.logStream.next(e)},Logger.prototype.flushQueue=function(){var e=this;this.messageQueue.forEach(function(t){Logger.messageQueueHistory.push(t),Logger.emitLogs(t);var n=e.formatForConsole(t),r=n[0],i=n.slice(1);console[r||"log"].apply(console,i)}),this.messageQueue=o.StArray.from([])},Logger.prototype.restart=function(){this.startTime=Date.now()},Logger.prototype._print=function(e){var t=this;return function(n){var r=t.name,i=Date.now()-t.startTime;t.messageQueue.push({level:e,name:r,timePassed:i,what:n}),t.enabled.get().getOrElse(!1)&&t.flushQueue()}},Logger.prototype.formatForConsole=function(e){return[e.level,"%c*** "+e.name+" ("+(e.timePassed/1e3).toFixed(2)+"s) =>%c "+e.what,"color: #ff00e0;","color: black;"]},Logger.messageQueueHistory=o.StArray.from([]),Logger.logStream=new a.Stream,r([s.Inject,i("design:type",c.SeedtagStorageVars)],Logger.prototype,"storageVars",void 0),Logger}();t.Logger=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(236);t.ContextBehaviour=r.ContextBehaviour;var i=n(237);t.LazyInsertBehaviour=i.LazyInsertBehaviour;var o=n(242);t.RenderBehaviour=o.RenderBehaviour;var a=n(243);t.ScrollBehaviour=a.ScrollBehaviour;var s=n(245);t.VisibilityBehaviour=s.VisibilityBehaviour;var c=n(246);t.PlacementExclusionBehaviour=c.PlacementExclusionBehaviour;var u=n(247);t.SherlockBehaviour=u.SherlockBehaviour},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.display="display",e.video="video",e.native="native"}(t.AdTypes||(t.AdTypes={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.imp="imp",e.clicks="clicks",e.video="video",e.view="view",e.view1s50="view1s50",e.view1s100="view1s100"}(t.TrackEvents||(t.TrackEvents={})),function(e){e.pixel="pixel",e.iframe="iframe"}(t.TrackingTypes||(t.TrackingTypes={})),t.makeTrackers=function(e){return r({imp:[],clicks:[],video:[],view:[],view1s50:[],view1s100:[]},e)},t.track=function(e){var t=e.tracker,n=document.createElement("iframe"===t.type?"iframe":"img");n.className="st-tracker",n.setAttribute("data-tracker",JSON.stringify(e.data||{})),n.src=e.tracker.value,n.width=0,n.height=0,n.style.opacity="0",(e.$el||document.body).appendChild(n)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(181),c=n(91),u=n(102),l=n(241),p=function(e){return e.isConsideredVisible},d={speedLimits:{desktop:{inViewPort:0,outViewPort:0},handheld:{inViewPort:0,outViewPort:0}},directionRanges:{stopped:{top:0,bottom:115},forward:{top:0,bottom:115},backward:{top:0,bottom:115}},observableSide:"TOP"},f=function(e){function VisibilityService(t){var n=e.call(this,t)||this;return n.elements=[],n.configMap=new Map,n.scrollService.map(function(e){return e.element}).subscribe(function(e){-1===n.elements.indexOf(e)&&(n.elements.push(e),n.onNewElementFound(e))}),n}return i(VisibilityService,e),VisibilityService.prototype.onNewElementFound=function(e){var t=this;this.scrollService.getByElement(e).subscribe(function(n){var r=t.configMap.get(e)||d,i=u.DeviceDetector.isHandheldDevice()?r.speedLimits.handheld:r.speedLimits.Desktop,o=new l.AdLazyPerformance(r.directionRanges,i,r.observableSide);o.onScroll(n);var a=!document.hidden&&o.isElementOnRange()&&!o.isElementMovingFast();t.next({element:e,isConsideredVisible:a})})},VisibilityService.prototype.getByElement=function(e,t){return void 0===t&&(t=d),this.configMap.set(e,t),this.filter(function(e){return function(t){return t.element===e}}(e)).map(p)},o([c.Inject,a("design:type",s.ScrollService)],VisibilityService.prototype,"scrollService",void 0),VisibilityService=o([c.Singleton,a("design:paramtypes",[Object])],VisibilityService)}(n(109).Stream);t.VisibilityService=f},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(109),s=n(91),c=function(e){return e.event},u=function(e){function ScrollService(){return null!==e&&e.apply(this,arguments)||this}return i(ScrollService,e),ScrollService.prototype.getByElement=function(e){return this.filter(function(e){return function(t){return t.element===e}}(e)).map(c)},ScrollService=o([s.Singleton],ScrollService)}(a.Stream);t.ScrollService=u},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});for(var n=performance?function(){return performance.now()}:function(){return Date.now()},r="undefined"==typeof window?e:window,i=["moz","webkit"],o="AnimationFrame",a=r["request"+o],s=r["cancel"+o]||r["cancelRequest"+o],c=0;!a&&c<i.length;c++)a=r[i[c]+"Request"+o],s=r[i[c]+"Cancel"+o]||r[i[c]+"CancelRequest"+o];if(!a||!s){var u=0,l=0,p=[];a=function(e){if(0===p.length){var t=n(),r=Math.max(0,1e3/60-(t-u));u=r+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(r))}return p.push({handle:++l,callback:e,cancelled:!1}),l},s=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}r.requestAnimationFrame=a,r.cancelAnimationFrame=s;var d=function(){function Scheduler(){var e=this;this.time=n(),this.tasks=[],this.cancel=function(t){e.tasks.splice(e.tasks.indexOf(t),1)},this.isCancelled=function(t){return e.tasks.indexOf(t)>-1}}return Scheduler.prototype.schedule=function(e,t,n){void 0===t&&(t=0);var r={task:n,delay:e,interval:t,timeRunning:0};return this.tasks.push(r),this.run(),this.getCancellableForTask(r)},Scheduler.prototype.scheduleOnce=function(e,t){var n={task:function(){t(),r.cancel()},delay:e,interval:0,timeRunning:0};this.tasks.push(n),this.run();var r=this.getCancellableForTask(n);return r},Scheduler.prototype.immediate=function(e){return this.schedule(0,0,e)},Scheduler.prototype.immediateOnce=function(e){return this.scheduleOnce(0,e)},Scheduler.prototype.processTasks=function(e){for(var t=this.tasks.length-1;t>=0;t--){var n=this.tasks[t];n.timeRunning+=e,n.timeRunning>n.delay+n.interval&&(n.task(),n.delay=0,n.timeRunning=0)}this.run()},Scheduler.prototype.run=function(){var e=this;this.time&&(this.time=n()),0!==this.tasks.length?this.animationFrame=window.requestAnimationFrame(function(){e.processTasks(n()-e.time)}):window.cancelAnimationFrame(this.animationFrame)},Scheduler.prototype.getCancellableForTask=function(e){var t=this;return{cancel:function(){t.cancel(e)},get isCancelled(){return t.isCancelled(e)}}},Scheduler.scheduler=new Scheduler,Scheduler}();t.Scheduler=d}).call(this,n(123))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(92),c=n(212),u=n(180),l=n(91),p=function(e){function VisibilityBehaviour(){var t=null!==e&&e.apply(this,arguments)||this;return t.isVisible=!1,t}return i(VisibilityBehaviour,e),VisibilityBehaviour.prototype.postOnAdReady=function(){this.visibilityObserver=new c.VisibilityObserver(this.getObservableElement(),[.5,1]),this.bindEvents()},VisibilityBehaviour.prototype.onVisibleChange=function(e){var t=this.instance;e?(t.onEnterViewport(),t.notify("creative_visible")):(t.onExitViewport(),t.notify("creative_not_visible")),t.render()},VisibilityBehaviour.prototype.setIsVisible=function(e){e!==this.isVisible&&(this.isVisible=e,this.onVisibleChange(this.isVisible))},VisibilityBehaviour.prototype.bindEvents=function(){var e=this;this.visibilityObserver.observe(function(t,n){e.setIsVisible(t),e.instance.onAreaVisibleChange(n)})},VisibilityBehaviour}(s.Behaviour);t.VisibilityBehaviour=p;var d=function(e){function VideoVisibilityBehaviour(){return null!==e&&e.apply(this,arguments)||this}return i(VideoVisibilityBehaviour,e),VideoVisibilityBehaviour.prototype.getObservableElement=function(){return this.instance._adunit.tagElement},VideoVisibilityBehaviour}(p);t.VideoVisibilityBehaviour=d;var f=function(e){function VastLazyVisibilityBehaviour(){return null!==e&&e.apply(this,arguments)||this}return i(VastLazyVisibilityBehaviour,e),VastLazyVisibilityBehaviour.prototype.bindEvents=function(){},VastLazyVisibilityBehaviour.prototype.getObservableElement=function(){return this.instance.$adWrapper},VastLazyVisibilityBehaviour.prototype.insertAd=function(){var e=this;this.visibilityService.getByElement(this.instance._adunit.tagElement,{speedLimits:{desktop:{inViewPort:0,outViewPort:0},handheld:{inViewPort:0,outViewPort:0}},directionRanges:{stopped:{top:0,bottom:100},forward:{top:0,bottom:100},backward:{top:0,bottom:100}},observableSide:"CENTER"}).distinctUntilChanged().subscribe(function(t){e.onVisibleChange(t)})},o([l.Inject,a("design:type",u.VisibilityService)],VastLazyVisibilityBehaviour.prototype,"visibilityService",void 0),VastLazyVisibilityBehaviour}(p);t.VastLazyVisibilityBehaviour=f;var h=function(){return function(){}}();t.VastVisibilityBehaviour=h;var g=function(e){function DisplayVisibilityBehaviour(){return null!==e&&e.apply(this,arguments)||this}return i(DisplayVisibilityBehaviour,e),DisplayVisibilityBehaviour.prototype.getObservableElement=function(){return this.instance.$el.querySelector("iframe")||this.instance.$adWrapper},DisplayVisibilityBehaviour}(p);t.DisplayVisibilityBehaviour=g},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88),i=function(){return function(e){this.x=0,this.y=0,r.assign(this,e)}}();t.DimensionRendererCoord=i;var o=function(){return function(e){this.x=0,this.y=0,r.assign(this,e)}}();t.Coord=o;var a=function(){function DefaultElementStyle(){this.defaultStyle=function(e){return"\n    transform: scale("+e.scale+");\n    transform-origin: 0 0;\n    top: "+e.top*e.scale+"px;\n    left: "+e.left*e.scale+"px;\n    width: "+e.width+"px;\n    height: "+e.height+"px;\n    position: absolute;\n  "}}return DefaultElementStyle.prototype.getStyle=function(e){return this.defaultStyle(e)},DefaultElementStyle}();t.DefaultElementStyle=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(92),a=n(265),s=n(127);n(269);var c=function(e){function XtoCloseBehaviour(t){var n=e.call(this)||this;return n.ready=!1,n.show=!1,n.config=t,n}return i(XtoCloseBehaviour,e),XtoCloseBehaviour.prototype.onAdReady=function(){var e=this;this.xtoCLose=new a.Xtoclose,this.xtoCLose.onClick(this.handleXToClose.bind(this)),this.instance.append(this.xtoCLose.getElement()),this.renderer=new s.DimensionsRenderer({willScale:!1,$el:this.xtoCLose.$el}),this.ready=!0,setInterval(function(){try{var t=e.instance.displayRender.getIframe().contentDocument.querySelector(".creative.show");e.show=!!t,e.render()}catch(e){}},200)},XtoCloseBehaviour.prototype.handleXToClose=function(e){var t=this.instance.$el;e.preventDefault(),e.stopPropagation(),t.classList.add("st-closed"),setTimeout(function(){return t.classList.add("st-hide")},300)},XtoCloseBehaviour.prototype.render=function(){if(this.ready){var e=this.config;this.renderer.canvas=this.instance._adunit.getImageSize(),this.renderer.position=e.position,this.renderer.margin=e.margin,this.renderer.size={x:18,y:18},this.renderer.render(),this.show?this.xtoCLose.show():this.xtoCLose.hide(),this.xtoCLose.render()}},XtoCloseBehaviour}(o.Behaviour);t.XtoCloseBehaviour=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(186),u=n(188),l=n(92),p=n(126),d=n(451),f=n(99),h=n(147),g=n(103),y=n(192),v=n(280),m=function(e){function DisplayAdView(t,n,r){var i=e.call(this,t,r)||this;return i.props={trackOnView:!1,adsBy:!0},i.props=o({},i.props,n),i.removeBehaviours(),i.addBehaviours(i.getBehaviours()),i}return i(DisplayAdView,e),DisplayAdView.prototype.insertAd=function(){this.displayRender=this.buildAdRender(),this.displayRender.mount(this.getAdContainer()),this.$iframe=this.displayRender.getIframe(),this.$adWrapper=this.$iframe,this.trackImpression()},DisplayAdView.prototype.adInserted=function(){this.props.trackOnView||this.onAdReady()},DisplayAdView.prototype.onCreativeConnect=function(){this.props.trackOnView&&this.onAdReady()},DisplayAdView.prototype.onAdReady=function(){this.state.adReady||(this.state.adReady=!0,this.render())},DisplayAdView.prototype.render=function(){this.state.closed||this.displayRender&&(this.$iframe.style.position="absolute",this.displayRender.render(this.getCanvasSize()))},DisplayAdView.prototype.getCanvasSize=function(){var e=this._adunit.getImageSize();return{width:e.x,height:e.y}},DisplayAdView.prototype.getBehaviours=function(){this.model;return[new p.DisplayVisibilityBehaviour,new p.MouseBehaviour,new h.TrackViewabilityBehaviour,new y.MinipassBehaviour].concat(this.model.adUnit.type===f.AdUnitType.inScreen?[new v.FixedInScreenSizeBehaviour]:[],this.hasAdsBy()?[new p.AdsByBehaviour]:[],this.props.xToClose?[new c.XtoCloseBehaviour(this.props.xToClose)]:[],[new p.PublishContextBehaviour])},DisplayAdView.prototype.onCreativeResizeRequest=function(e){this.displayRender.setAdSize(e)},DisplayAdView.prototype.buildAdRender=function(){var e=this,t=this.model;return new d.DisplayRender({minipass:!1,ad:new d.DisplayAd(t.content,{width:t.size.x,height:t.size.y}),xToClose:g.isStandard(t.format),canvas:this.getCanvasSize(),isVpaid:!1,onClose:function(){e.onAdClose()}})},DisplayAdView.prototype.hasAdsBy=function(){return this.props.adsBy&&g.isSeedtag(this.model.format)&&this.model.adUnit.type!==f.AdUnitType.inScreen},a([l.Behave,s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],DisplayAdView.prototype,"insertAd",null),a([l.Behave,s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],DisplayAdView.prototype,"onAdReady",null),a([l.Behave,s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],DisplayAdView.prototype,"render",null),DisplayAdView}(u.BaseAdView);t.DisplayAdView=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(189);t.BaseAdView=r.BaseAdView},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(272),c=n(89),u=n(88),l=n(87),p=n(146),d=n(92),f=n(102),h=n(273),g=n(104),y=n(126),v=n(103),m=n(93),b=n(274),_=n(127),w=n(147),A=n(183);n(276);var S=function(e){function BaseAdView(t,n,r){var i=e.call(this,n)||this;return i._componentName="ad-view",i.manifest={position:"BM",size:{x:"100%",y:150},features:c.StArray.from([]),responsive:{},xtoclose:{position:"BR",force:!1,size:{x:18,y:18}}},i.canvas={x:0,y:0},i.state={adReady:!1,trackedImp:!1,manifest:{},closed:!1},i.features={xToClose:{enabled:!1},hideAdsBy:{enabled:!1}},i.creativeFeatures={},i.willScale=!0,i.coreBehaviours=[new y.LoadingBehaviour,new y.PublishContextBehaviour,new y.MouseBehaviour,new y.ErrorReportBehaviour,new A.DisplayVisibilityBehaviour,new w.TrackViewabilityBehaviour],i.context=n,i.model=t,i.addBehaviours(i.coreBehaviours),i.publishFeaturesRequest(),i}return i(BaseAdView,e),Object.defineProperty(BaseAdView.prototype,"$rootEl",{get:function(){return this._adunit&&this._adunit.$el.previousElementSibling},enumerable:!0,configurable:!0}),BaseAdView.prototype.isEnabled=function(e){return!!this.features[e]&&this.features[e].enabled},BaseAdView.prototype.publishFeaturesRequest=function(){return""},BaseAdView.prototype.subscribeFeatureResponse=function(e){this.features=e.features},BaseAdView.prototype.onInsert=function(){this.canInsertAd()&&(this.insertAd(),this.adInserted())},BaseAdView.prototype.adInserted=function(){},BaseAdView.prototype.canInsertAd=function(){return!0},BaseAdView.prototype.getAdContainer=function(){return this.$container},BaseAdView.prototype.onCreativeMessage=function(e){},BaseAdView.prototype.insertAd=function(){this.buildIframe(),this.$adWrapper=document.createElement("div"),this.$adWrapper.className="st-ad-wrapper",this.$adWrapper.appendChild(this.$iframe),this.getAdContainer().appendChild(this.$adWrapper),this.positionHandler=this.getDimensionRenderer();var e=this.model.adapter===m.AdAdapterName.appNexus,t=this._adunit.tagElement,n=b.default.buildIframe({model:this.model,content:this.model.content,isRtb:e,params:{adapter:this.model.adapter,network:this.model.network,debug:this.context.debug,isAdmin:this.context.get("isAdmin"),isMobile:f.detector.isHandheldDevice(),features:this.features,adSize:this.model.size,sizing:{width:t.offsetWidth,height:t.offsetHeight}}});this.traveler.setContent(n)},BaseAdView.prototype.getRenderData=function(e){return{size:e.size,position:e.position,xtoclose:e.xtoclose,features:e.features||c.StArray.from([])}},BaseAdView.prototype.render=function(){this.state.adReady&&this.manifest&&this.renderAd(),this.$el.classList.toggle("st-no-ad",!this.state.adReady||!this.manifest)},BaseAdView.prototype.renderAd=function(){this.canvas=this._adunit.getImageSize(),this.positionHandler.setCanvas(this.canvas);var e=this.positionHandler.getCanvasAndScale().canvas,t=new h.ManifestResponsiveCalculator;t.canvas=e,t.manifest=this.manifest;var n=this.getRenderData(u.ImmutabilityHelper.immute(t.get()));this.state.manifest=n,this.positionHandler.size=n.size,this.positionHandler.position=n.position,this.positionHandler.render()},BaseAdView.prototype.notify=function(e){this.traveler&&this.traveler.send(e)},BaseAdView.prototype.buildIframe=function(){this.traveler=s.passport.traveler({name:this._adunit.getModel().name}),this.traveler.pass(),this.traveler.listen(this.onReceiveMessage.bind(this)),this.$iframe=this.traveler.getIframe()},BaseAdView.prototype.loadCreative=function(){this.traveler.send("load")},BaseAdView.prototype.tryLoadCreative=function(){this.canLoadCreative()&&this.loadCreative()},BaseAdView.prototype.onCreativeConnect=function(){},BaseAdView.prototype.onReceiveMessage=function(e,t){},BaseAdView.prototype.canLoadCreative=function(){return!0},BaseAdView.prototype.onCreativeInit=function(){this.onAdReady(),this.creativeFeatures=this.manifest.features.reduce(function(e,t){switch(t[0]){case"on-enter-viewport-show":e.showOnEnterViewport=!0}return e},{})},BaseAdView.prototype.onAdReady=function(){this.state.adReady||(this.trackImpression(),this.traveler.send("ready"),this.state.adReady=!0,this.render())},BaseAdView.prototype.onNoAd=function(){var e=v.sizeToFormat(this.model.size);[v.Format.f600x110].indexOf(e)>=0||this._adunit.removeComponent(this)},BaseAdView.prototype.onAdMouseEnter=function(){},BaseAdView.prototype.onEnterViewport=function(){this.model.track(g.TrackEvents.view)},BaseAdView.prototype.onExitViewport=function(){},BaseAdView.prototype.onImageEnter=function(){this.render()},BaseAdView.prototype.onImageLeave=function(){this.render()},BaseAdView.prototype.onTrackImpression=function(){},BaseAdView.prototype.onAreaVisibleChange=function(e){return e},BaseAdView.prototype.onViewabilityEvent=function(e,t){1===e&&.5===t?this.model.track(g.TrackEvents.view1s50):1===e&&1===t&&this.model.track(g.TrackEvents.view1s100)},BaseAdView.prototype.onAdClose=function(){this.onDestroy(),this.state.closed=!0,this.$iframe.style.display="none !important",this.$iframe.setAttribute("style","display: none !important"),this.$el.style.display="none !important",this.$el.setAttribute("style","display: none !important")},BaseAdView.prototype.onCreativeResizeRequest=function(e){},BaseAdView.prototype.trackImpression=function(){this.state.trackedImp||(this.state.trackedImp=!0,this.model.track(g.TrackEvents.imp),this.notify("track_impression"),this.onTrackImpression())},BaseAdView.prototype.getDimensionRenderer=function(){return new _.DimensionsRenderer({willScale:this.willScale,$el:this.$adWrapper})},o([l.Publish("features","request"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"publishFeaturesRequest",null),o([l.Subscribe("features","response"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],BaseAdView.prototype,"subscribeFeatureResponse",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onInsert",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"adInserted",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"canInsertAd",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"getAdContainer",null),o([l.Subscribe("creative","message"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],BaseAdView.prototype,"onCreativeMessage",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"insertAd",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",Object)],BaseAdView.prototype,"getRenderData",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"render",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onCreativeConnect",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[Object,Object]),a("design:returntype",void 0)],BaseAdView.prototype,"onReceiveMessage",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"canLoadCreative",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onCreativeInit",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onAdReady",null),o([d.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onNoAd",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onAdMouseEnter",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onEnterViewport",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onExitViewport",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onImageEnter",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onImageLeave",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onTrackImpression",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[Number]),a("design:returntype",void 0)],BaseAdView.prototype,"onAreaVisibleChange",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[Number,Number]),a("design:returntype",void 0)],BaseAdView.prototype,"onViewabilityEvent",null),o([d.BehaveEvent,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],BaseAdView.prototype,"onAdClose",null),BaseAdView}(p.AdunitComponent);t.BaseAdView=S},,,function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(92),a=n(163),s=function(e){function MinipassBehaviour(){return null!==e&&e.apply(this,arguments)||this}return i(MinipassBehaviour,e),MinipassBehaviour.prototype.postInsertAd=function(){var e=this;this.connector=a.Factory.creativeHost({connector:a.Factory.host(this.instance.$iframe),onClose:function(){e.instance.onAdClose()},onResize:function(t){e.instance.onCreativeResizeRequest(t)}}),this.connector.connect().then(function(){e.instance.onCreativeConnect()})},MinipassBehaviour.prototype.onEnterViewport=function(){this.connector.visible(!0)},MinipassBehaviour.prototype.onExitViewport=function(){this.connector.visible(!1)},MinipassBehaviour.prototype.onImageLeave=function(){this.connector.hovered(!1)},MinipassBehaviour.prototype.onImageEnter=function(){this.connector.hovered(!0)},MinipassBehaviour}(o.Behaviour);t.MinipassBehaviour=s},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function AdError(e){var t,n,r;r=void 0,(n="vastAdError")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.vastAdError=e}var e=AdError.prototype;return e.getErrorCode=function(){return this.vastAdError.code},e.getMessage=function(){return this.vastAdError.message},e.getType=function(){return"adLoadError"},e.getVastErrorCode=function(){return this.vastAdError.code},AdError}()},function(e,t,n){"use strict";n.d(t,"b",function(){return createIframe}),n.d(t,"a",function(){return addClass}),n.d(t,"c",function(){return removeClass});n(148),n(36),n(98),n(35);function createIframe(e){void 0===e&&(e={});var t=document.createElement("iframe");return t.style.margin="0px",t.style.padding="0px",t.style.width="100%",t.style.height="100%",t.style.border="0px",t.style.overflow="hidden",t.setAttribute("scrolling","no"),t.frameBorder="0",Object.keys(e).forEach(function(n){t.style[n]=e[n]}),t}function addClass(e,t){hasClass(e,t)||(e.className+=" "+t,e.className=e.className.trim())}function removeClass(e,t){if(hasClass(e,t)){var n=e.className.split(" ");n.splice(n.indexOf(t),1),e.className=n.join(" ").trim()}}function hasClass(e,t){return-1!==e.className.split(" ").indexOf(t)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(158),c=n(196),u="Adunit";!function(e){e.AdRequest="adRequest"}(a||(a={}));var l=function(e){function AdUnitDimensions(){return null!==e&&e.apply(this,arguments)||this}return i(AdUnitDimensions,e),AdUnitDimensions.prototype.getBase=function(e){return{name:e.name||"",type:e.type,viewSegment:e.getViewabilitySegment()}},AdUnitDimensions.prototype.getRelated=function(e){return o({},c.publisherDimensions.prefixedGetBase(e))},AdUnitDimensions}(s.BaseDimensionGetter);t.AdUnitDimensions=l,t.adUnitDimensions=new l(u);var p=function(e){function AdUnitEvents(){return e.call(this,u,t.adUnitDimensions)||this}return i(AdUnitEvents,e),AdUnitEvents.prototype.adRequest=function(e){return this.makeEvent(a.AdRequest,e)},AdUnitEvents}(s.EventGenerator);t.AdUnitEvents=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function PublisherDimensions(){return null!==e&&e.apply(this,arguments)||this}return i(PublisherDimensions,e),PublisherDimensions.prototype.getBase=function(e){return e.getPublisherModel()},PublisherDimensions}(n(158).BaseDimensionGetter);t.PublisherDimensions=o,t.publisherDimensions=new o("Publisher")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(300))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(102);t.hasProperSize=function(e,t){var n=!0,i=t[r.detector.isHandheldDevice()?"handheld":"desktop"]||{},o=i.min,a=i.max,s=e.offsetWidth,c=e.offsetHeight;return o&&(n=s>=o.w&&c>=o.h),a&&(n=n&&s<=a.w&&c<=a.h),n}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(88),a=function(e){function EvaluatingError(t){var n=e.call(this,t)||this;return n.name="EvaluatingError",n}return i(EvaluatingError,e),EvaluatingError}(Error);t.EvaluatingError=a;var s=function(){function EvaluableJs(e,t){this.code=e.expression||e,this.args=t}return EvaluableJs.prototype.evaluate=function(e){return void 0===e&&(e=this.args),this._performEvaluate(new Function("environment","greg","lib",this.code),e)},EvaluableJs.prototype._performEvaluate=function(e,t){var n={};this.args.environment&&(n=o.assign(n,this.args.environment)),n=o.assign(n,t);var r=null;try{r=e(n,n.lib,n.lib)}catch(e){throw e.message="Evaluable evaluation error: "+e.message,e}return r},EvaluableJs}();t.EvaluableJs=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(99),i=n(309),o=n(201),a=n(311),s={};s[r.AdUnitType.inImage]=i.InImageAdUnit,s[r.AdUnitType.inScreen]=o.InScreenAdUnit,s[r.AdUnitType.oldGallery]=a.AdUnitGallery,t.AdUnitFactory={_adUnits:[],getAdUnits:function(){return t.AdUnitFactory._adUnits},get:function(e){var n=e.model,r=new(s[n.type]||i.InImageAdUnit)(e.context,{tagElement:e.el,model:n,canMakeAdRequest:!0});return t.AdUnitFactory._adUnits.push(r),r}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(110),a=n(310),s=n(177),c=function(e){function InScreenAdUnit(){return null!==e&&e.apply(this,arguments)||this}return i(InScreenAdUnit,e),InScreenAdUnit.prototype.setUp=function(){e.prototype.setUp.call(this);var t=this.behaviours.filter(function(e){return!(e instanceof s.LazyInsertBehaviour)});t.push(new a.InScreenInsertBehaviour),this.removeBehaviours(),this.addBehaviours(t.reverse()),this.bindEvents()},InScreenAdUnit.prototype.render=function(){var e=this.getPosition(),t=this.getAdditionalRenderingData(),n=this.getImageSize();this.$el.style.bottom=t.addToTop+"px",this.$el.style.left=e.left+t.addToLeft+"px",this.$el.style.position="fixed",this.$el.style.zIndex=this.getZindex()+"",this.$container.style.marginTop=-n.y+"px",this.$container.style.width=n.x+t.addToWidth+"px",this.children.map(function(e){return e.render()})},InScreenAdUnit.prototype.mount=function(){this.$el.style.position="fixed !important",document.body.appendChild(this.$el)},InScreenAdUnit.prototype.getZindex=function(){return 99999},InScreenAdUnit.prototype.getPosition=function(){return{top:0,left:0}},InScreenAdUnit.prototype.getImageSize=function(){return{x:window.innerWidth,y:window.innerHeight}},InScreenAdUnit.prototype.bindEvents=function(){var e=this;window.addEventListener("resize",function(t){e.render()})},InScreenAdUnit.prototype.getClassName=function(){return"st-in-screen"},InScreenAdUnit}(o.AdUnit);t.InScreenAdUnit=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function PublisherFeatureService(){return null!==e&&e.apply(this,arguments)||this}return i(PublisherFeatureService,e),PublisherFeatureService}(n(87).GohanComponent);t.PublisherFeatureService=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(318),u=n(88),l=n(102),p=n(115),d=n(112),f=n(134),h=n(94),g=n(91),y=f.createArrayNormalizer([1,3,6,10]);function decodeCustomBase64(e){for(var t=[],n=e.length,r=0;r<n;r++)t[r]=r%2==0?e[r+1]:e[r-1];return JSON.parse(atob(t.join("")))}t.RequestConfig=function(e,n,i,o){return a(this,void 0,void 0,function(){var a,c,u,d;return s(this,function(s){switch(s.label){case 0:return a={token:e,device:l.detector.getDevice(),cmp:i.hasCMP,ga:i.gdprApplies,cd:i.consentData,ct:y(i.consentTime/1e3),fullUrl:window.location.href,hash:o,cache:Date.now()},o&&(a.hash=o),[4,p.fetch("GET",n,a,{withCredentials:!0,xhr:!0})];case 1:if((c=s.sent()).contentBlocked)throw c.contentBlocked;try{u=c.__xhr,delete c.__xhr,d={country:t.safeGetHeader(u,"X-CNT").map(atob).getOrElse(""),SSPMustSync:t.safeGetHeader(u,"X-CSS").map(Boolean).getOrElse(!1)},c=r({},c,{cookies:d})}catch(e){}return this.response=c,[2,c]}})})},t.safeGetHeader=function(e,t){return d.Try.of(function(){return e.getResponseHeader(t)})},t.isActive=function(e){return!e.blacklisted||!!e.user||"URL"===(e.blacklistedReason||{}).name},t.isValidDomain=function(e,t,n){return!(!e.isDev&&!e.testing)||n.map(function(e){return!e.test(t)}).reduce(function(e,t){return e&&t},!0)},t.passConfigOverride=function(e,t){var n=t,r=e.get().getOrElse(!1);if(!1===r)return n;try{var i=new Function("config",r.mapper)(t.configGenuine);return t.configGenuine=i,t}catch(e){return console.error(e),n}},t.decodeCustomBase64=decodeCustomBase64,t.decodeConfig=function(e){var t=u.ImmutabilityHelper.copy(e);return t.url=decodeCustomBase64(e.url),t.uai=d.Try.of(function(){return decodeCustomBase64(e.uai)}).getOrElse(null),e.publisher&&(t.publisher=decodeCustomBase64(e.publisher)),t},t.calcMD5=function(e){return c(e)};var v=function(){function ConfigStorage(){this.configStorage=this.storageVars.config}return ConfigStorage.prototype.getLocalStorage=function(){return this.decodedLocalStorage()},ConfigStorage.prototype.setLocalStorage=function(e){if(e.publisher){var t=e.publisher;this.configStorage.set({publisher:t})}},ConfigStorage.prototype.decodedLocalStorage=function(){var e=this.configStorage.get().getOrElse(!1);if(!e)return!1;try{return{publisher:e.publisher}}catch(e){return!1}},i([g.Inject,o("design:type",h.SeedtagStorageVars)],ConfigStorage.prototype,"storageVars",void 0),ConfigStorage}();t.ConfigStorage=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(106),u=n(102),l=function(e){function FormatsTargetingService(){var t=null!==e&&e.apply(this,arguments)||this;return t.adSpaces=[],t.allowVideoFormats=!0,t.onlyOneVideo=!1,t.videoInserted=!1,t}return i(FormatsTargetingService,e),FormatsTargetingService.prototype.onTargetingRequest=function(e){var t=e.model.products.map(function(e){return e.toLocaleLowerCase()});return o({sizes:this.getAllowedFormats(e),products:e.model.products},t.reduce(function(e,t){return e["product_"+t.toLocaleLowerCase()]="true",e},{}))},FormatsTargetingService.prototype.onTemplateSelected=function(e){var t=e.template;this.allowVideoFormats=null!=t&&"article"===t.category},FormatsTargetingService.prototype.subFeatures=function(e){var t=e.features;this.onlyOneVideo=t.oneVideoPerUrl.enabled},FormatsTargetingService.prototype.onVideoInserted=function(){this.videoInserted=!0},FormatsTargetingService.prototype.getAllowedFormats=function(e){var n=this;return(e.model.adSpaces||[]).filter(function(e){return!t.isFormatPresentInList(p,e)||!!n.allowVideoFormats&&((!n.onlyOneVideo||!n.videoInserted)&&u.DeviceDetector.autoplaySupport())})},a([c.Subscribe("template","selected"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],FormatsTargetingService.prototype,"onTemplateSelected",null),a([c.Subscribe("features","response"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],FormatsTargetingService.prototype,"subFeatures",null),a([c.Subscribe("video","ad"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],FormatsTargetingService.prototype,"onVideoInserted",null),FormatsTargetingService}(n(108).TargetingComponent);t.FormatsTargetingService=l;var p=[[1,1],[11,2],[600,110]];function areFormatsEqual(e,t){return JSON.stringify(e)===JSON.stringify(t)}t.areFormatsEqual=areFormatsEqual,t.isFormatPresentInList=function(e,t){return 0!==e.filter(function(e){return areFormatsEqual(e,t)}).length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(365))},,,,,function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=function(e){function Expandable(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={expanded:!1},t}return i(Expandable,e),Expandable.prototype.render=function(){var e=this,t={paddingLeft:0,paddingRight:0};return o.createElement("div",{className:"st-bleeper-app st-collapsible "+(this.state.expanded?"":"st-closed"),style:{margin:"10px 0",width:"100%"}},o.createElement("div",{className:"st-header",onClick:function(){return e.setState({expanded:!e.state.expanded})}},o.createElement("span",{className:"st-app-title"},this.props.title)),o.createElement("div",{className:"st-content",style:t},this.state.expanded?this.props.children:""))},Expandable}(o.Component);t.Expandable=a},function(e,t,n){var r=n(449);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n,r=0;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=Date.now(),c=s-r,u=c>t?0:t-c;clearTimeout(n),n=setTimeout(function(){r=s,e.apply(void 0,o)},u)}};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){function PercentageViewCalculator(e){var t=this;_defineProperty(this,"$el",void 0),_defineProperty(this,"calcPercentageView",function(){var e=t.$el.getBoundingClientRect(),n=e.height*e.width;return t.calcInsideAbscissaAxis()*t.calcInsideOrdinateAxis()/n}),this.$el=e}var e=PercentageViewCalculator.prototype;return e.calcVisibleInAxis=function(e,t){var n=e.min<t.min?0:e.min,r=(e.max>t.max?t.max:e.max)-n;return r<0?0:r},e.calcInsideOrdinateAxis=function(){var e=this.$el.getBoundingClientRect(),t={min:e.top,max:e.bottom},n={min:0,max:this.getWidowSize().height};return this.calcVisibleInAxis(t,n)},e.calcInsideAbscissaAxis=function(){var e=this.$el.getBoundingClientRect(),t={min:e.left,max:e.right},n={min:0,max:this.getWidowSize().width};return this.calcVisibleInAxis(t,n)},e.getWidowSize=function(){var e=this.$el.ownerDocument&&this.$el.ownerDocument.defaultView;return e?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}},PercentageViewCalculator}();function PercentageVisibleObserver_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function PercentageVisibleObserver(e){PercentageVisibleObserver_defineProperty(this,"interval",void 0),PercentageVisibleObserver_defineProperty(this,"eventNames",["scroll","focus","blur","visibilitychange"]),PercentageVisibleObserver_defineProperty(this,"handler",void 0),PercentageVisibleObserver_defineProperty(this,"viewCalculator",void 0),PercentageVisibleObserver_defineProperty(this,"$el",void 0),PercentageVisibleObserver_defineProperty(this,"lastPosition",{left:0,top:0}),this.viewCalculator=new i(e),this.$el=e}var e=PercentageVisibleObserver.prototype;return e.observe=function(e){var t=this,n=this.handler=r(function(){var n=t.$el.getBoundingClientRect(),r=n.left,i=n.top;t.lastPosition={left:r,top:i},e(t.percentageIsVisibleCalculator())},100);try{e(this.percentageIsVisibleCalculator()),this.eventNames.map(function(e){return window.top.addEventListener(e,t.handler)}),setInterval(function(){var e=t.$el.getBoundingClientRect();e.left===t.lastPosition.left&&e.top===t.lastPosition.top||n()},300)}catch(e){this.interval=setInterval(n,300)}},e.destroy=function(){var e=this;if(this.handler){try{this.eventNames.map(function(t){return window.top.removeEventListener(t,e.handler)})}catch(e){}clearInterval(this.interval)}},e.percentageIsVisibleCalculator=function(){return!1===document.hidden?this.viewCalculator.calcPercentageView():0},PercentageVisibleObserver}();function VisibilityObserver_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function VisibilityObserver(e,t){void 0===t&&(t=[.5]),VisibilityObserver_defineProperty(this,"baseObserver",void 0),VisibilityObserver_defineProperty(this,"isVisible",null),VisibilityObserver_defineProperty(this,"currentThreshold",0),VisibilityObserver_defineProperty(this,"visibilityThresholds",void 0),this.baseObserver=new o(e),this.visibilityThresholds=t}var e=VisibilityObserver.prototype;return e.getVisiblesThresholds=function(e){return this.visibilityThresholds.filter(function(t){return e>=t}).sort(function(e,t){return t-e})},e.observe=function(e){var t=this;return this.baseObserver.observe(function(n){var r=!0;try{r=!1===window.top.document.hidden}catch(e){r=!0}var i=t.getVisiblesThresholds(n),o=n>.5&&r,a=o?i[0]:0;t.currentThreshold!==a&&(t.isVisible=o,t.currentThreshold=a,e(t.isVisible,a))}),null},e.destroy=function(){this.baseObserver.destroy()},VisibilityObserver}();function HoverObserver_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function HoverObserver(e){HoverObserver_defineProperty(this,"value",!1),HoverObserver_defineProperty(this,"handler",void 0),HoverObserver_defineProperty(this,"$el",void 0),this.$el=e}var e=HoverObserver.prototype;return e.observe=function(e){var t=this,n=function(e){return e.parentElement.querySelector(":hover")===e},i=this.handler=r(function(){try{var r=n(t.$el);r!==t.value&&(t.value=r,e(t.value))}catch(e){}},100);this.$el.addEventListener("mouseenter",i),this.$el.addEventListener("mouseleave",i),this.$el.addEventListener("mousemove",i),e(n(this.$el))},e.destroy=function(){if(this.handler){var e=this.handler;this.$el.removeEventListener("mouseenter",e),this.$el.removeEventListener("mouseleave",e),this.$el.removeEventListener("mousemove",e)}},HoverObserver}();function ResizeObserver_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){function ResizeObserver(e){ResizeObserver_defineProperty(this,"interval",0),ResizeObserver_defineProperty(this,"lastMeasures",void 0),ResizeObserver_defineProperty(this,"$el",void 0),this.$el=e,this.lastMeasures={width:e.clientWidth,height:e.clientHeight}}var e=ResizeObserver.prototype;return e.observe=function(e){var t=this;this.interval=setInterval(function(){var n={width:t.$el.clientWidth,height:t.$el.clientHeight};n.width===t.lastMeasures.width&&n.height===t.lastMeasures.height||(t.lastMeasures=n,e(n))},500)},e.destroy=function(){clearInterval(this.interval)},ResizeObserver}(),u=(n(35),function(){return!!window.IntersectionObserver}),l=function(e,t){void 0===t&&(t=.5);var n={root:null,rootMargin:"0px",threshold:t};return{observe:function(t){var r;new IntersectionObserver(function(e,n){e.forEach(function(e){r=e.isIntersecting}),t(r)},n).observe(e),window.document.addEventListener("visibilitychange",function(){var e=!1===window.document.hidden;t(e&&r)})}}};n.d(t,"VisibilityObserver",function(){return a}),n.d(t,"PercentageVisibleObserver",function(){return o}),n.d(t,"HoverObserver",function(){return s}),n.d(t,"ResizeObserver",function(){return c}),n.d(t,"createIntersectionObserver",function(){return l}),n.d(t,"isIntersectionObserverCompatible",function(){return u}),n.d(t,"THROTTLE_TIME",function(){return 100}),n.d(t,"PropertyObserver",function(){})},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(224),i=n(225),o=n(228),a=function(){function Loader(e,t){this._seedtag=t,this.queue=e,this.enableFeaturesByHash(),this.devLoader=new i.DevLoader(t),this.debugClientEnabler();var n=new r.QueueManager;this.queueManager=n,n.process(e),this.config=n.getConfig(),window._seedtag.is_debug=this.config.features.debug.enabled}return Loader.prototype.run=function(){this.devLoader.hasLoad()?this.devLoader.load({queue:this.queueManager.get(),config:this.config}):this.runEngine()},Loader.prototype.isReady=function(e){var t=this;"loading"!==document.readyState?e():setTimeout(function(){return t.isReady(e)},100)},Loader.prototype.runEngine=function(){var e=this.config;if(e&&e.features.dryRun.enabled)n.e(3).then(function(t){var r=n(450).DryEngine.getInstance(e);r.getReadyPromise().then(function(){return r.run()})}.bind(null,n)).catch(n.oe);else{if(this.config&&!this.config.token)return console.warn("seedtag client: not _setId found in _seedtagq");var t=o.Engine.getInstance(e);t.getReadyPromise().then(function(){return t.run()})}},Loader.prototype.enableFeaturesByHash=function(){var e=document.location.href.split("#")[1];e&&-1!==e.indexOf("seedtagFakeCreatives")&&this.queue.push(["_enable","fakeCreatives"])},Loader.prototype.debugClientEnabler=function(){var e=this;this._seedtag.dev=function(){return e.devLoader.toggle()}},Loader}();t.Loader=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(142),i=function(){function QueueManager(){this.config=new r.Config,this._queue=[],this._processKeys={};var e=this.config;this._processKeys._setId=function(t){e.token=t},this._processKeys._apiUrl=function(t){e.apiUrl=t},this._processKeys._servingConfigUrl=function(t){e.servingConfigUrl=t},this._processKeys._taggingApiUrl=function(t){e.taggingApiUrl=t},this._processKeys._enable=function(t){e.features[t]&&(e.features[t].enabled=!0)},this._processKeys._enablePublisherFeature=function(t){e.publisherFeatures[t]={enabled:!0}},this._processKeys._onLoad=function(t){e.onload.push(t)},this._processKeys._onload=function(t){e.onload.push(t)},this._processKeys._qaMode=function(t){e.qaArgs={enabled:!0,queueParams:t}}}return QueueManager.prototype.get=function(){return this._queue},QueueManager.prototype.getConfig=function(){return this.config},QueueManager.prototype.process=function(e){for(0;e.length;){var t=e.shift(),n=t[0],r=t[1];this._queue.push(t),this._processKeys[n]&&this._processKeys[n](r)}},QueueManager}();t.QueueManager=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(94),a=n(91),s=!1;try{var c="storageCheckItem";window.localStorage.setItem(c,c),window.localStorage.getItem(c),window.localStorage.removeItem(c),s=!0}catch(e){}var u=function(){function DevLoader(e){this.devStorage=this.storageVars.devMode,this._seedtag=e}return DevLoader.prototype.toggle=function(){this.isEnabled()?this.disable():this.enable()},DevLoader.prototype.enable=function(){this.storageVars.enableWrite(),this.devStorage.set(!0),console.info("awesome will happen! =O");var e=window;e.location=e.location},DevLoader.prototype.disable=function(){this.devStorage.delete(),console.info("awesome will not happen anymore! =(")},DevLoader.prototype.isEnabled=function(){return s&&!0===this.devStorage.get().getOrElse(!1)},DevLoader.prototype.hasLoad=function(){return s&&!this._seedtag.dev_loaded&&localStorage&&!0===this.devStorage.get().getOrElse(!1)},DevLoader.prototype.load=function(e){var t=e.queue,n=e.config,r="//client.seedtag.local:8886/loader.js";t.push(["_servingConfigUrl",n.servingConfigUrl]),t.push(["_apiUrl",n.apiUrl]),t.push(["_clientPath","//client.seedtag.local:8886"]),t.push(["_enable","debug"]),console.info("seedtag dev client: "+r,JSON.stringify(t)),window._seedtagq=t,this._seedtag.dev_client=!0,this._seedtag.dev_loaded=!1,this.appendScript(r)},DevLoader.prototype.appendScript=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode&&n.parentNode.appendChild(t)},r([a.Inject,i("design:type",o.SeedtagStorageVars)],DevLoader.prototype,"storageVars",void 0),DevLoader}();t.DevLoader=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(112),o=n(109);!function(e){e.READ="@IO/read",e.WRITE="@IO/write",e.DELETE="@IO/delete",e.CLEAR="@IO/clear"}(r=t.StorageEffect||(t.StorageEffect={}));var a=function(){function ReadWriteEffects(e){this.storage=e}return ReadWriteEffects.prototype.read=function(e){return{type:r.READ,storage:this.storage,key:e}},ReadWriteEffects.prototype.write=function(e,t){return{type:r.WRITE,storage:this.storage,key:e,value:t}},ReadWriteEffects.prototype.delete=function(e){return{type:r.DELETE,storage:this.storage,key:e}},ReadWriteEffects.prototype.clear=function(){return{type:r.CLEAR,storage:this.storage}},ReadWriteEffects}();t.ReadWriteEffects=a;var s=function(e){var t=new a(e),n=o.Stream.create();return function(e){return{get:function(){return interpreter(t.read(e))},set:function(r){var i=interpreter(t.write(e,r));return n.next(i),i},delete:function(){return interpreter(t.delete(e))},clear:function(){t.clear()},subscribe:function(e){var t=this;return setTimeout(function(){return n.next(t.get())}),n.subscribe(e)}}}};function interpreter(e){switch(e.type){case r.READ:return i.Try.of(function(){return JSON.parse(e.storage.getItem(e.key))}).filter(function(e){return!!e});case r.WRITE:return i.Try.of(function(){return e.storage.setItem(e.key,JSON.stringify(e.value)),e.value}).filter(function(e){return!!e});case r.DELETE:return i.Try.of(function(){return JSON.parse(e.storage.removeItem(e.key))});case r.CLEAR:return e.storage.clear();default:return i.Try.failure(new Error(e.type+" is not a valid Storage Effect (key: "+e.key+", value: "+JSON.stringify(e.value)+"})"))}}t.Storage={getPersistedVariable:function(e){return s(localStorage)(e)},getSessionVariable:function(e){return s(sessionStorage)(e)},getStorageFromAdapter:function(e){return{getVariable:function(t){return s(e)(t)}}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(112),s=n(91),c=n(173),u=function(){function OneKeyStorageAdapter(e){this.writeEnable=!1,this.STORAGE_KEY=e}return OneKeyStorageAdapter.prototype.getItem=function(e){return this.get().map(function(t){return t[e]}).getOrElse(null)},OneKeyStorageAdapter.prototype.setItem=function(e,t){var n,i=this;if(this.writeEnable)return this.get().orElse(a.Try.of(function(){var e;return(e={})[i.STORAGE_KEY]={},e})).map(function(n){var i;return r({},n,((i={})[e]=t,i))}).forEach(function(e){i._internalStorageImpl.setItem(i.STORAGE_KEY,JSON.stringify(e))});this.disabledWriteBuffer=r({},this.disabledWriteBuffer,((n={})[e]=t,n))},OneKeyStorageAdapter.prototype.removeItem=function(e){var t=this;return this.get().forEach(function(n){delete n[e],t._internalStorageImpl.setItem(t.STORAGE_KEY,JSON.stringify(n))})},OneKeyStorageAdapter.prototype.clear=function(){this._internalStorageImpl.removeItem(this.STORAGE_KEY)},OneKeyStorageAdapter.prototype.enableWrite=function(){this.writeEnable=!0,this.applyBuffer()},OneKeyStorageAdapter.prototype.canWrite=function(){return this.writeEnable},OneKeyStorageAdapter.prototype.get=function(){var e=this;return a.Try.of(function(){return JSON.parse(e._internalStorageImpl.getItem(e.STORAGE_KEY))})},OneKeyStorageAdapter.prototype.applyBuffer=function(){var e=this;this.get().orElse(a.Try.of(function(){return{}})).map(function(t){return r({},t,e.disabledWriteBuffer)}).forEach(function(t){e._internalStorageImpl.setItem(e.STORAGE_KEY,JSON.stringify(t))});this.disabledWriteBuffer={}},i([s.Inject,o("design:type",c.BrowserStorage)],OneKeyStorageAdapter.prototype,"_internalStorageImpl",void 0),OneKeyStorageAdapter}();t.OneKeyStorageAdapter=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(91),a=n(89),s=n(87),c=n(232),u=n(197),l=n(301),p=n(302),d=n(312),f=n(202),h=n(313),g=n(314),y=n(315),v=n(203),m=n(319),b=n(320),_=n(321),w=n(344),A=n(430),S=n(39),O=n(441),E=n(442),P=n(444),x=n(445);n(211);var C=function(){function Engine(){var e=this;if(!this.context)throw Error("Instantiate using DryEngine.getInstance()");this.pieces=[],this.runAdServer();var t=new E.GDPRDetector(window);this.promise=new Promise(function(n){return t.getConsentData().then(function(t){e.context.config.gdpr={consentData:t.consentData,gdprApplies:t.gdprApplies,hasCMP:t.hasCMP,consentTime:t.consentTime},e.setup(),n()})})}return Engine.getInstance=function(e){if(!this._instance){var t=new s.Context(e);o.Container.bind(s.Config).provider({get:function(){return e}}).scope(o.Scope.Singleton),o.Container.bind(s.Context).provider({get:function(){return t}}).scope(o.Scope.Singleton),this._instance=new Engine}return this._instance},Engine.prototype.getReadyPromise=function(){return this.promise},Engine.prototype.run=function(){var e=this;this.context.config.triggerOnLoad(),this.context.publish({channel:"engine",topic:"run",data:{bootTime:S.stBootTime}}),this.context.subscribe({channel:"engine",topic:"reset.request",callback:function(){e.reset()}})},Engine.prototype.reset=function(){this.context.publish({channel:"engine",topic:"kill",data:{bootTime:S.stBootTime}}),this.context.publish({channel:"engine",topic:"run",data:{bootTime:S.stBootTime}})},Engine.prototype.setup=function(){this.addComponents([c.ReportService,u.EvaluableService]),this.pieces.push(new y.ConfigService(this.context,{configStorage:new v.ConfigStorage,configRequest:v.RequestConfig,isValidDomain:v.isValidDomain})),this.addComponents([P.TailTarget,O.GDPRStoragePolicity,m.PassbackService,h.QuantcastService,g.ComscoreService,w.Admin,d.Sherlock,x.TraceService,f.PublisherFeatureService,l.TemplateLocator,p.AdUnitLocator]),"__seedtag__watson__"===navigator.userAgent&&this.addComponents([b.InspectService])},Engine.prototype.addComponent=function(e){var t=new e(this.context);o.Container.bind(e).provider({get:function(){return t}}).scope(o.Scope.Singleton),this.pieces.push(t)},Engine.prototype.addComponents=function(e){a.StArray.from(e).forEach(this.addComponent.bind(this))},Engine.prototype.runAdServer=function(){this.addComponents([A.TargetingService,_.AdServer])},r([o.Inject,i("design:type",s.Context)],Engine.prototype,"context",void 0),Engine}();t.Engine=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(174),i=function(){};t.ErrorHandler={trackError:function(e,t){if(void 0===t&&(t=!1),window._seedtag.is_debug&&i("seedtag: error",e),e instanceof Error||(e=new Error(JSON.stringify(e))),i(e.message),t||(window._seedtag.is_debug,0)){var n={message:e.message,stack:e.stack,url:window.location.href,site:window.location.hostname};r.Ajax({url:"https://errors.api.seedtag.com/error",method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(n)})}},error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88);function numberBetween(e,t){return e>=t.start&&e<=t.end}var i=function(){function MousePosition(){var e=this;this.position={x:0,y:0},window.addEventListener("mousemove",r.throttle(function(t){e.position.x=t.clientX,e.position.y=t.clientY},200))}return MousePosition.prototype.elementIsHover=function(e){return function(e,t){var n=function(e){return e.getBoundingClientRect()}(t),r=numberBetween(e.x,{start:n.left,end:n.right}),i=numberBetween(e.y,{start:n.top,end:n.bottom});return r&&i}(this.position,e)},MousePosition}();t.MousePosition=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(109),i=n(89),o=n(88),a=function(){function MessageBus(){this.stream=new r.Stream,this.createRegExp=o.memoize(createRegExp)}return MessageBus.prototype.subscribe=function(e){var t=this;return{unsubscribe:this.stream.filter(function(t){return e.channel===t.channel}).filter(function(n){return t.createRegExp(e.topic).test(n.topic)}).subscribe(function(t){return e.callback(t.data,t)})}},MessageBus.prototype.publish=function(e){e.timeStamp=new Date,this.stream.next(e)},MessageBus}();function createRegExp(e){return e=i.StArray.from(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").split("#")).map(function(e){return"("+e+")"}).join("(.*)"),new RegExp("^"+e+"$")}t.MessageBus=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),a=n(89),s=n(233),c=n(285),u=n(288),l=n(289),p=n(290),d=n(291),f=n(292),h=n(293),g=n(294),y=n(295),v=function(e){function ReportService(){var t=null!==e&&e.apply(this,arguments)||this;return t.components=a.StArray.from([]),t}return i(ReportService,e),ReportService.prototype.setUp=function(){var e=this;this.components=a.StArray.from([s.Coverage,c.AdEvents,u.Bidding,d.Video,p.Content,l.Inventory,f.Features,h.Passback,g.InventoryLocation,y.AdUnitReporter,y.AdReporter,y.AppNexusViewabilityWrapperReporter]).map(function(t){return new t(e.context)})},ReportService}(o.GohanComponent);t.ReportService=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Coverage(){var t=null!==e&&e.apply(this,arguments)||this;return t._yetTracked={},t._adunitsFound=0,t}return i(Coverage,e),Coverage.prototype.onInit=function(){this._bindMessages()},Coverage.prototype._trackPageView=function(){this.analytics.trackPageview()},Coverage.prototype._trackTemplateSelected=function(e){e.template?this._canTrack("template_found","")&&this.analytics.trackTemplateFound(e.template.name):this._canTrack("template_notfound","")&&this.analytics.trackTemplateNotFound()},Coverage.prototype._trackAdunitRejected=function(e){var t=e.adunitModel.name;this._canTrack("adunit_rejected",t)&&this.analytics.trackAdunitRejected(t,e.reason)},Coverage.prototype._trackAdUnitFound=function(e){var t=e.adunit.getModel().name;this._canTrack("adunit_found",t)&&(this.analytics.trackAdUnitFound(t,e.adunit),this._adunitsFound+=1)},Coverage.prototype._trackAdUnitView=function(e){var t=e.adunit.getModel().name;this._canTrack("adunit_view",t)&&this.analytics.trackAdUnitView(t)},Coverage.prototype._bindMessages=function(){var e=this;this.context.subscribe({channel:"engine",topic:"run",callback:function(){e._trackPageView()}}),this.context.subscribe({channel:"template",topic:"selected",callback:function(t){e._trackTemplateSelected(t)}}),this.context.subscribe({channel:"adunit",topic:"found",callback:function(t){e._trackAdUnitFound(t)}}),this.context.subscribe({channel:"adunit",topic:"view",callback:function(t){e._trackAdUnitView(t)}}),this.context.subscribe({channel:"adunit",topic:"reject",callback:function(t){e._trackAdunitRejected(t)}})},Coverage.prototype._canTrack=function(e,t){var n=e+"-"+t,r=!1;return this._yetTracked[n]||(this._yetTracked[n]=r=!0),r},Coverage}(n(101).ReporterComponent);t.Coverage=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(88),o=n(89),a=n(115),s=function(){function AnalyticsApi(e){var t=this;this.debug=!1,this.events=o.StArray.from([]),this.debouncedCall=i.debounce(function(){return t.sendCall()},2e3,{maxWait:5e3}),this.baseUrl=e.servingEventsUrl}return AnalyticsApi.prototype.trackEvent=function(e,t){var n=r({name:e},t);return this.debug&&console.log("seedtag_gohan: event "+e,n),this.events.push(n),this.debouncedCall(),Promise.resolve()},AnalyticsApi.prototype.sendCall=function(){var e={};if(this.events.length>1){var t=this.commonDiffProperties(this.events).common,n=this.events.map(function(e){return o.StArray.from(Object.keys(t)).forEach(function(t){return i.unset(e,t)}),e});e={events:i.ImmutabilityHelper.immute(n)},o.StArray.from(Object.keys(t)).forEach(function(n){return e[n]=t[n]})}else e={events:i.ImmutabilityHelper.immute(this.events)};this.events=o.StArray.from([]);var r=e,a=this.baseUrl+"/e";this.ajax("POST",a,r).then(function(){}).catch(function(e){console.warn(e)})},AnalyticsApi.prototype.ajax=function(e,t,n){return a.fetch(e,t,n,{base64:!0})},AnalyticsApi.prototype.setUpCallbacks=function(e,t,n){e.done(function(e,n,r){t(r)}),e.fail(function(e,t,r){console.warn(r),n(e)})},AnalyticsApi.prototype.commonDiffProperties=function(e){var t=e.reduce(function(e,t){var n=e;return o.StArray.from(Object.keys(t)).forEach(function(e){return n[e]=t[e]}),n},{}),n=e.reduce(function(e,n){return o.StArray.from(Object.keys(t)).forEach(function(r){t[r]!==n[r]&&(delete t[r],e.push(r))}),e},[]);return{common:t,different:n}},AnalyticsApi}();t.AnalyticsApi=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(125),i=function(){function Ua(){}return Ua.MODEL="model",Ua.NAME="name",Ua.TYPE="type",Ua.VENDOR="vendor",Ua.VERSION="version",Ua.CONSOLE="console",Ua.MOBILE="mobile",Ua.TABLET="tablet",Ua.SMARTTV="smarttv",Ua.WEARABLE="wearable",Ua.DESKTOP="desktop",Ua.util={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},Ua.mapper={rgx:function(){for(var e,t,n,i,o,a,s,c=0,u=arguments;c<u.length&&!a;){var l=u[c],p=u[c+1];if(void 0===e)for(i in e={},p)"object"==typeof(o=p[i])?e[o[0]]=void 0:e[o]=void 0;for(t=n=0;t<l.length&&!a;)if(a=l[t++].exec(r.BrowserContext.getUA()))for(i=0;i<p.length;i++)s=a[++n],"object"==typeof(o=p[i])&&o.length>0?2==o.length?"function"==typeof o[1]?e[o[0]]=o[1].call(this,s):e[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?e[o[0]]=s?s.replace(o[1],o[2]):void 0:e[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(e[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):e[o]=s||void 0;c+=2}return e},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Ua.util.has(t[n][r],e))return"?"===n?void 0:n}else if(Ua.util.has(t[n],e))return"?"===n?void 0:n;return e}},Ua.maps={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},Ua.regexes={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[Ua.NAME,Ua.VERSION],[/(opios)[\/\s]+([\w\.]+)/i],[[Ua.NAME,"Opera Mini"],Ua.VERSION],[/\s(opr)\/([\w\.]+)/i],[[Ua.NAME,"Opera"],Ua.VERSION],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[Ua.NAME,Ua.VERSION],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[Ua.NAME,"IE"],Ua.VERSION],[/(edge)\/((\d+)?[\w\.]+)/i],[Ua.NAME,Ua.VERSION],[/(yabrowser)\/([\w\.]+)/i],[[Ua.NAME,"Yandex"],Ua.VERSION],[/(comodo_dragon)\/([\w\.]+)/i],[[Ua.NAME,/_/g," "],Ua.VERSION],[/(micromessenger)\/([\w\.]+)/i],[[Ua.NAME,"WeChat"],Ua.VERSION],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[Ua.VERSION,[Ua.NAME,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[Ua.NAME,/(.+)/,"$1 WebView"],Ua.VERSION],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[Ua.VERSION,[Ua.NAME,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[Ua.NAME,Ua.VERSION],[/(dolfin)\/([\w\.]+)/i],[[Ua.NAME,"Dolphin"],Ua.VERSION],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[Ua.NAME,"Chrome"],Ua.VERSION],[/;fbav\/([\w\.]+);/i],[Ua.VERSION,[Ua.NAME,"Facebook"]],[/fxios\/([\w\.-]+)/i],[Ua.VERSION,[Ua.NAME,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[Ua.VERSION,[Ua.NAME,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[Ua.VERSION,Ua.NAME],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[Ua.NAME,[Ua.VERSION,Ua.mapper.str,Ua.maps.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[Ua.NAME,Ua.VERSION],[/(navigator|netscape)\/([\w\.-]+)/i],[[Ua.NAME,"Netscape"],Ua.VERSION],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[Ua.NAME,Ua.VERSION]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[Ua.MODEL,Ua.VENDOR,[Ua.TYPE,Ua.TABLET]],[/applecoremedia\/[\w\.]+ \((ipad)/],[Ua.MODEL,[Ua.VENDOR,"Apple"],[Ua.TYPE,Ua.TABLET]],[/(apple\s{0,1}tv)/i],[[Ua.MODEL,"Apple TV"],[Ua.VENDOR,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[Ua.VENDOR,Ua.MODEL,[Ua.TYPE,Ua.TABLET]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[Ua.MODEL,[Ua.VENDOR,"Amazon"],[Ua.TYPE,Ua.TABLET]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[Ua.MODEL,Ua.mapper.str,Ua.maps.device.amazon.model],[Ua.VENDOR,"Amazon"],[Ua.TYPE,Ua.MOBILE]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[Ua.MODEL,Ua.VENDOR,[Ua.TYPE,Ua.MOBILE]],[/\((ip[honed|\s\w*]+);/i],[Ua.MODEL,[Ua.VENDOR,"Apple"],[Ua.TYPE,Ua.MOBILE]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[Ua.VENDOR,Ua.MODEL,[Ua.TYPE,Ua.MOBILE]],[/\(bb10;\s(\w+)/i],[Ua.MODEL,[Ua.VENDOR,"BlackBerry"],[Ua.TYPE,Ua.MOBILE]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[Ua.MODEL,[Ua.VENDOR,"Asus"],[Ua.TYPE,Ua.TABLET]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[Ua.VENDOR,"Sony"],[Ua.MODEL,"Xperia Tablet"],[Ua.TYPE,Ua.TABLET]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[Ua.VENDOR,"Sony"],[Ua.MODEL,"Xperia Phone"],[Ua.TYPE,Ua.MOBILE]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[Ua.VENDOR,Ua.MODEL,[Ua.TYPE,Ua.CONSOLE]],[/android.+;\s(shield)\sbuild/i],[Ua.MODEL,[Ua.VENDOR,"Nvidia"],[Ua.TYPE,Ua.CONSOLE]],[/(playstation\s[3portablevi]+)/i],[Ua.MODEL,[Ua.VENDOR,"Sony"],[Ua.TYPE,Ua.CONSOLE]],[/(sprint\s(\w+))/i],[[Ua.VENDOR,Ua.mapper.str,Ua.maps.device.sprint.vendor],[Ua.MODEL,Ua.mapper.str,Ua.maps.device.sprint.model],[Ua.TYPE,Ua.MOBILE]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[Ua.VENDOR,Ua.MODEL,[Ua.TYPE,Ua.TABLET]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[Ua.VENDOR,[Ua.MODEL,/_/g," "],[Ua.TYPE,Ua.MOBILE]],[/(nexus\s9)/i],[Ua.MODEL,[Ua.VENDOR,"HTC"],[Ua.TYPE,Ua.TABLET]],[/(nexus\s6p)/i],[Ua.MODEL,[Ua.VENDOR,"Huawei"],[Ua.TYPE,Ua.MOBILE]],[/(microsoft);\s(lumia[\s\w]+)/i],[Ua.VENDOR,Ua.MODEL,[Ua.TYPE,Ua.MOBILE]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[Ua.MODEL,[Ua.VENDOR,"Microsoft"],[Ua.TYPE,Ua.CONSOLE]],[/(kin\.[onetw]{3})/i],[[Ua.MODEL,/\./g," "],[Ua.VENDOR,"Microsoft"],[Ua.TYPE,Ua.MOBILE]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[Ua.MODEL,[Ua.VENDOR,"Motorola"],[Ua.TYPE,Ua.MOBILE]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[Ua.MODEL,[Ua.VENDOR,"Motorola"],[Ua.TYPE,Ua.TABLET]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[Ua.VENDOR,Ua.util.trim],[Ua.MODEL,Ua.util.trim],[Ua.TYPE,Ua.SMARTTV]],[/hbbtv.+maple;(\d+)/i],[[Ua.MODEL,/^/,"SmartTV"],[Ua.VENDOR,"Samsung"],[Ua.TYPE,Ua.SMARTTV]],[/\(dtv[\);].+(aquos)/i],[Ua.MODEL,[Ua.VENDOR,"Sharp"],[Ua.TYPE,Ua.SMARTTV]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[Ua.VENDOR,"Samsung"],Ua.MODEL,[Ua.TYPE,Ua.TABLET]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[Ua.VENDOR,"Samsung"],Ua.MODEL,[Ua.TYPE,Ua.MOBILE]],[/smart-tv.+(samsung)/i],[Ua.VENDOR,Ua.MODEL,[Ua.TYPE,Ua.SMARTTV]],[/sie-(\w+)*/i],[Ua.MODEL,[Ua.VENDOR,"Siemens"],[Ua.TYPE,Ua.MOBILE]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[Ua.VENDOR,"Nokia"],Ua.MODEL,[Ua.TYPE,Ua.MOBILE]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[Ua.MODEL,[Ua.VENDOR,"Acer"],[Ua.TYPE,Ua.TABLET]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[Ua.VENDOR,"LG"],Ua.MODEL,[Ua.TYPE,Ua.TABLET]],[/(lg) netcast\.tv/i],[Ua.VENDOR,Ua.MODEL,[Ua.TYPE,Ua.SMARTTV]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[Ua.MODEL,[Ua.VENDOR,"LG"],[Ua.TYPE,Ua.MOBILE]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[Ua.MODEL,[Ua.VENDOR,"Lenovo"],[Ua.TYPE,Ua.TABLET]],[/linux;.+((jolla));/i],[Ua.VENDOR,Ua.MODEL,[Ua.TYPE,Ua.MOBILE]],[/((pebble))app\/[\d\.]+\s/i],[Ua.VENDOR,Ua.MODEL,[Ua.TYPE,Ua.WEARABLE]],[/android.+;\s(glass)\s\d/i],[Ua.MODEL,[Ua.VENDOR,"Google"],[Ua.TYPE,Ua.WEARABLE]],[/android.+;\s(pixel c)\s/i],[Ua.MODEL,[Ua.VENDOR,"Google"],[Ua.TYPE,Ua.TABLET]],[/android.+;\s(pixel xl|pixel)\s/i],[Ua.MODEL,[Ua.VENDOR,"Google"],[Ua.TYPE,Ua.MOBILE]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[Ua.MODEL,/_/g," "],[Ua.VENDOR,"Xiaomi"],[Ua.TYPE,Ua.MOBILE]],[/android.+a000(1)\s+build/i],[Ua.MODEL,[Ua.VENDOR,"OnePlus"],[Ua.TYPE,Ua.MOBILE]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[Ua.TYPE,Ua.util.lowerize],Ua.VENDOR,Ua.MODEL]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[Ua.NAME,Ua.VERSION],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[Ua.NAME,[Ua.VERSION,Ua.mapper.str,Ua.maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[Ua.NAME,"Windows"],[Ua.VERSION,Ua.mapper.str,Ua.maps.os.windows.version]],[/\((bb)(10);/i],[[Ua.NAME,"BlackBerry"],Ua.VERSION],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[Ua.NAME,Ua.VERSION],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[Ua.NAME,"Symbian"],Ua.VERSION],[/\((series40);/i],[Ua.NAME],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[Ua.NAME,"Firefox OS"],Ua.VERSION],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[Ua.NAME,Ua.VERSION],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[Ua.NAME,"Chromium OS"],Ua.VERSION],[/(sunos)\s?([\w\.]+\d)*/i],[[Ua.NAME,"Solaris"],Ua.VERSION],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[Ua.NAME,Ua.VERSION],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[Ua.NAME,"iOS"],[Ua.VERSION,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[Ua.NAME,"Mac OS"],[Ua.VERSION,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[Ua.NAME,Ua.VERSION]]},Ua}();t.default=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(92),c=n(106),u=function(e){function ContextBehaviour(){var t=null!==e&&e.apply(this,arguments)||this;return t.relativePosition=0,t.tryInsertTimes=0,t}return i(ContextBehaviour,e),ContextBehaviour.prototype.preOnInsert=function(){this.context=this.instance.context,this.setUp()},ContextBehaviour.prototype.setUp=function(){},ContextBehaviour.prototype.onVisibilityChange=function(e){e.isVisible&&this.pubAdUnitView()},ContextBehaviour.prototype.postRequestAd=function(){this.pubAdRequest()},ContextBehaviour.prototype.subToAdPicked=function(e){e.adunit===this.instance&&this.instance.onAdPicked(e.admodel)},ContextBehaviour.prototype.pubAdRequest=function(){return{adunit:this.instance}},ContextBehaviour.prototype.pubAdUnitView=function(){return{adunit:this.instance}},ContextBehaviour.prototype.postInsertAd=function(){return this.getData(this.tryInsertTimes>1?"lazy-insert":"moment-0")},ContextBehaviour.prototype.onAdNoInserted=function(){return this.getData(this.relativePosition<50?"above-vp":"below-vp")},ContextBehaviour.prototype.onScroll=function(e){this.relativePosition=e.position.center},ContextBehaviour.prototype.canInsertAd=function(e){if(this.tryInsertTimes++,this.instance.ad)return e||1!==this.tryInsertTimes||this.onAdNoInserted(),e},ContextBehaviour.prototype.getData=function(e){void 0===e&&(e="-");var t=this.instance.ad;return{ad:t,adunit:this.instance,apn_data:t.apn_data||{},manifest:t.manifest||{},status:e}},o([c.Subscribe("adserver","ad.picked"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],ContextBehaviour.prototype,"subToAdPicked",null),o([c.Publish("adunit","ad.request"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],ContextBehaviour.prototype,"pubAdRequest",null),o([c.Publish("adunit","view"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],ContextBehaviour.prototype,"pubAdUnitView",null),o([c.Publish("ad","insert"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],ContextBehaviour.prototype,"postInsertAd",null),o([c.Publish("ad","no-insert"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],ContextBehaviour.prototype,"onAdNoInserted",null),ContextBehaviour}(s.Behaviour);t.ContextBehaviour=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(92),c=n(104),u=n(103),l=n(99),p=n(91),d=n(180),f=function(e){function LazyInsertBehaviour(){var t=null!==e&&e.apply(this,arguments)||this;return t.canInsert=!1,t}return i(LazyInsertBehaviour,e),LazyInsertBehaviour.prototype.onInsert=function(){this.visibilityService.getByElement(this.instance.tagElement).subscribe(this.onConsideredVisible.bind(this))},LazyInsertBehaviour.prototype.onConsideredVisible=function(e){var t=this.instance.state;this.instance.state.adInserted||(this.canInsert=e,!t.adInserted&&t.adRequested&&this.instance.tryInsertAd())},LazyInsertBehaviour.prototype.lazyInsertApplies=function(){var e=this.instance.ad;if(!e)return!1;if(!e.model.trackers.imp.length)return!1;var t=e.model,n=t.format;return n!==u.Format.f11x1&&this.instance.model.type!==l.AdUnitType.inScreen&&t.adType===c.AdTypes.display&&u.isSeedtag(n)},LazyInsertBehaviour.prototype.canInsertAd=function(e){return e&&(!this.lazyInsertApplies()||this.canInsert)},o([p.Inject,a("design:type",d.VisibilityService)],LazyInsertBehaviour.prototype,"visibilityService",void 0),LazyInsertBehaviour}(s.Behaviour);t.LazyInsertBehaviour=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.view="v",e.imp="i"}(t.TrackOn||(t.TrackOn={})),t.applyMacros=function(e,t,n){return Object.keys(e).reduce(function(t,r){return t.replace(new RegExp(n+r+n,"g"),e[r])},t)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(240),a=n(179),s=n(178),c=n(103),u=n(93),l=n(88),p=function(e){function AdModel(){var t=null!==e&&e.apply(this,arguments)||this;return t.adapter=u.AdAdapterName.unknown,t.network="",t.size={x:0,y:0},t.content="",t.vastAd=null,t.trackers={imp:[],video:[],clicks:[],view:[],view1s50:[],view1s100:[]},t.adType=s.AdTypes.display,t}return i(AdModel,e),Object.defineProperty(AdModel.prototype,"format",{get:function(){return c.sizeToFormat(this.size)},enumerable:!0,configurable:!0}),AdModel.prototype.hydrate=function(t){e.prototype.hydrate.call(this,l.ImmutabilityHelper.immute(t))},AdModel.prototype.track=function(e,t){var n=this;(this.trackers[e]||[]).map(function(r){a.track({tracker:r,$el:t,data:{adU:n.adUnit?n.adUnit.name:"",ev:e}})}),this.trackers[e]=[]},AdModel}(o.Model);t.AdModel=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(89),i=n(88),o=function(){function Model(){}return Model.prototype.hydrate=function(e){var t=this,n={};r.StArray.from(Object.keys(e)).filter(function(e){return i.has(t,e)}).reduce(function(t,n){return t[n]=e[n],t},n),i.extend(this,n)},Model.prototype.dehydrate=function(){var e=this,t={};return r.StArray.from(Object.keys(this)).filter(function(t){return i.has(e,t)&&"function"!=typeof e[t]}).reduce(function(t,n){return t[n]=e[n],t},t),i.extend({},t)},Model}();t.Model=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88),i={directions:{stopped:{top:0,bottom:100},forward:{top:0,bottom:100},backward:{top:0,bottom:100}},speedLimits:{inViewPort:1,outViewPort:1}},o=function(e,t){return r.Util.between(t.top,e,t.bottom)},a=function(){function AdLazyPerformance(e,t,n){void 0===e&&(e=i.directions),void 0===t&&(t=i.speedLimits),void 0===n&&(n="TOP"),this.isStopped=!0,this.directionRanges=e,this.speedLimits=t,this.observableSide=n,this.lastScrollSpeed=Array.from(Array(120),function(){return 0})}return AdLazyPerformance.prototype.onScroll=function(e){this.calcIsOnRange(e),this.calcIsMovingFast(e.speed),this.calcIsStoped(e.speed)},AdLazyPerformance.prototype.isElementOnRange=function(){return this.isOnRange},AdLazyPerformance.prototype.isNotScrolling=function(){return this.isStopped},AdLazyPerformance.prototype.isElementMovingFast=function(){return this.isMovingFast},AdLazyPerformance.prototype.calcIsOnRange=function(e){this.isOnView=r.Util.between(0,e.position.center,100);var t=this.directionRanges[e.delta];"BOTTOM"===this.observableSide?this.isOnRange=o(e.position.bottom,t):"CENTER"===this.observableSide?this.isOnRange=o(e.position.center,t):"BOTH"===this.observableSide?this.isOnRange=o(e.position.top,t)||o(e.position.bottom,t):this.isOnRange=o(e.position.top,t)},AdLazyPerformance.prototype.calcIsMovingFast=function(e){var t=this.isOnView?this.speedLimits.inViewPort:this.speedLimits.outViewPort;this.isMovingFast=Math.abs(e)>t},AdLazyPerformance.prototype.calcIsStoped=function(e){this.lastScrollSpeed.push(e),this.lastScrollSpeed.shift(),this.isStopped=this.lastScrollSpeed.every(function(e){return 0===e})},AdLazyPerformance}();t.AdLazyPerformance=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function RenderBehaviour(){return null!==e&&e.apply(this,arguments)||this}return i(RenderBehaviour,e),RenderBehaviour.prototype.render=function(){var e=this.instance.getPosition(),t=this.instance.getAdditionalRenderingData();this.instance.$el.style.top=e.top+t.addToTop+"px",this.instance.$el.style.left=e.left+t.addToLeft+"px",this.instance.$el.style.position="absolute",this.instance.$el.style.zIndex=this.instance.getZindex()+"",this.instance.children.map(function(e){return e.render()}),this.instance.$container.style.width=this.instance.getImageSize().x+t.addToWidth+"px"},RenderBehaviour}(n(92).Behaviour);t.RenderBehaviour=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(88),c=n(92),u=n(244),l=n(182),p=n(91),d=n(181),f=function(e){function ScrollBehaviour(){var t=null!==e&&e.apply(this,arguments)||this;return t.isCurrentlyVisible=!1,t}return i(ScrollBehaviour,e),ScrollBehaviour.prototype.onInsert=function(){var e=this;this.onScrollgetter=new u.ScrollEventGetter(this.instance.tagElement),l.Scheduler.scheduler.schedule(0,35,function(){return e.onScrollDebounced()}),window.addEventListener("resize",function(){return e.instance.render()}),s.Util.onSizeChange(this.instance.tagElement,function(){return e.instance.render()}),s.Util.onPositionChange(this.instance.tagElement,function(){return e.instance.render()})},ScrollBehaviour.prototype.postOnInsert=function(){this.onScrollDebounced()},ScrollBehaviour.prototype.onScrollDebounced=function(){var e=this.onScrollgetter.get();this.scrollService.next({element:this.instance.tagElement,event:e}),this.visibilityCheck(e)},ScrollBehaviour.prototype.visibilityCheck=function(e){var t=s.Util.between(20,e.position.center,80);t!==this.isCurrentlyVisible&&this.instance.onVisibilityChange({isVisible:t}),this.isCurrentlyVisible=t},o([p.Inject,a("design:type",d.ScrollService)],ScrollBehaviour.prototype,"scrollService",void 0),ScrollBehaviour}(c.Behaviour);t.ScrollBehaviour=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(144);!function(e){e.stopped="stopped",e.forward="forward",e.backward="backward"}(r=t.ScrollDirection||(t.ScrollDirection={}));var o=function(){function ScrollEventGetter(e){this.lastPosition=0,this.el=new i.ScreenElement(e)}return ScrollEventGetter.prototype.get=function(){var e,t,n,i,o=this.lastTime?this.lastTime:new Date,a=new Date,s=this.el.getRelativePosition(),c=s.center,u=(a.getTime()-o.getTime())/1e3,l=(e=c,t=this.lastPosition,(n=u)?(e-t)/n:0);return this.lastTime=a,this.lastPosition=c,{delta:(i=l,i?i<0?r.forward:r.backward:r.stopped),speed:l,position:{bottom:100*s.bottom,top:100*s.top,center:100*s.center}}},ScrollEventGetter}();t.ScrollEventGetter=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function VisibilityBehaviour(){var t=null!==e&&e.apply(this,arguments)||this;return t.visible=!0,t}return i(VisibilityBehaviour,e),VisibilityBehaviour.prototype.onInsert=function(){var e=this,t=this.instance.context.get("factory.evaluable");if(t&&this.instance.model.visibility){var n=t(this.instance.model.visibility);this.interval=setInterval(function(){var t=n.evaluate({element:e.instance.args.tagElement});t!==e.visible&&(e.visible=t,e.render())}.bind(this),VisibilityBehaviour.visibilityIntervalTime)}else this.instance.removeBehaviour(this)},VisibilityBehaviour.prototype.destroy=function(){clearInterval(this.interval)},VisibilityBehaviour.prototype.render=function(){var e=this.instance.$el;this.visible?(e.classList.remove("st-hidden"),setTimeout(function(){return e.classList.remove("st-fade-out")})):(e.classList.add("st-fade-out"),setTimeout(function(){return e.classList.add("st-hidden")},100))},VisibilityBehaviour.visibilityIntervalTime=500,VisibilityBehaviour}(n(92).Behaviour);t.VisibilityBehaviour=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(89),a=function(e){function PlacementExclusionBehaviour(){var t=null!==e&&e.apply(this,arguments)||this;return t.excludedModels=o.StArray.from([]),t}return i(PlacementExclusionBehaviour,e),PlacementExclusionBehaviour.prototype.canRequestAd=function(e){var t=this;return e&&!this.excludedModels.find(function(e){return e.regExp.test(t.instance.model[e.prop])})},PlacementExclusionBehaviour}(n(92).Behaviour);t.PlacementExclusionBehaviour=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(92),c=n(87),u=function(e){function SherlockBehaviour(){return null!==e&&e.apply(this,arguments)||this}return i(SherlockBehaviour,e),SherlockBehaviour.prototype.preOnInsert=function(){this.context=this.instance.context,this.setUp()},SherlockBehaviour.prototype.setUp=function(){},SherlockBehaviour.prototype.subIdResolved=function(e){e.adunit===this.instance&&(this.instance.configureId(e.id,e.data),this.instance.tryRequestAd())},SherlockBehaviour.prototype.canRequestAd=function(e){return e&&null!==this.instance._imageId},o([c.Subscribe("sherlock","id.resolved"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],SherlockBehaviour.prototype,"subIdResolved",null),SherlockBehaviour}(s.Behaviour);t.SherlockBehaviour=u},function(e,t,n){var r=n(249);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,".seedtag-gohan .hide {\n  display: none!important;\n  opacity: 0!important;\n  visibility: hidden!important;\n}\n.seedtag-gohan .show {\n  display: block!important;\n  opacity: 1!important;\n  visibility: visible!important;\n  max-width: initial!important;\n}\n.seedtag-gohan.seedtag-adunit {\n  margin: 0!important;\n}\n.seedtag-gohan.seedtag-adunit.st-in-screen {\n  position: fixed !important;\n}\n.seedtag-gohan.seedtag-adunit.st-in-image {\n  position: absolute !important;\n}\n.seedtag-gohan.seedtag-adunit > * {\n  display: none!important;\n  opacity: 0!important;\n  visibility: hidden!important;\n}\n.seedtag-gohan.seedtag-adunit .st-container {\n  display: block!important;\n  opacity: 1!important;\n  visibility: visible!important;\n  max-width: initial!important;\n  z-index: 2;\n  position: relative;\n}\n.seedtag-gohan.seedtag-adunit .st-container .st-adunit-component {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.seedtag-gohan.seedtag-adunit .st-container .st-adunit-component > * {\n  display: none!important;\n  opacity: 0!important;\n  visibility: hidden!important;\n}\n.seedtag-gohan.seedtag-adunit .st-container .st-adunit-component .st-container {\n  width: 100%;\n  transition: all 0.2s linear;\n  display: block!important;\n  opacity: 1!important;\n  visibility: visible!important;\n  max-width: initial!important;\n}\n.seedtag-gohan.seedtag-adunit.st-fade-out .st-container > * {\n  transition: opacity 0.2s linear;\n  opacity: 1;\n}\n.seedtag-gohan.seedtag-adunit.st-hidden .st-container > * {\n  opacity: 0.5;\n}\n",""])},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(252))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=n(89),u=n(126),l=n(88),p=n(93),d=n(103),f=n(104),h=n(187),g=n(281),y=n(284),v=function(e){function AdViewFactory(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackOnView=!1,t}return i(AdViewFactory,e),AdViewFactory.prototype.get=function(e,t){this.context.config.publisherFeatures.trackOnView.enabled&&(this.trackOnView=!0),e.adUnit=t.model;var n=l.extend({},e),r=this.hasTrackOnView(e);return this.getAdView({adModel:this.processModel(n,r),trackOnView:r})},AdViewFactory.prototype.getAdView=function(e){return o(this,void 0,void 0,function(){var t,r,i,o;return a(this,function(a){switch(a.label){case 0:return t=e.adModel,r=t.format,t.adType===f.AdTypes.video||d.isVideo(r)?[2,new g.VideoAdView(t,this.context)]:t.adType===f.AdTypes.native?[2,new y.NativeAdView(t,this.context)]:d.isOld(r)?[4,Promise.resolve().then(function(){return n(189)})]:[2,new h.DisplayAdView(t,{trackOnView:e.trackOnView},this.context)];case 1:return i=a.sent().BaseAdView,o=new i(t,this.context),c.StArray.from(this.getBehaviours(t)).forEach(function(e){return o.addBehaviour(e)}),[2,o]}})})},AdViewFactory.prototype.getBehaviours=function(e){return e?this.getCoreBehaviours(e).concat(this.getVisibilityBehaviour(e.adapter)):[]},AdViewFactory.prototype.getCoreBehaviours=function(e){var t=[];return d.isSeedtag(e.format)&&t.push(new u.AdsByBehaviour),t.push(new u.FullSizeBehaviour),t},AdViewFactory.prototype.getVisibilityBehaviour=function(e){return e===p.AdAdapterName.networksVideo?[new u.VideoVisibilityBehaviour]:[new u.DisplayVisibilityBehaviour]},AdViewFactory.prototype.hasTrackOnView=function(e){return this.trackOnView&&e.adType===f.AdTypes.display&&-1!==e.content.indexOf("%%to%%")},AdViewFactory.prototype.processModel=function(e,t){var n=e;return this.hasTrackOnView(e)&&(n=this.applyTrackOnView(e)),n.content=f.applyMacros({to:this.trackOnView?f.TrackOn.view:f.TrackOn.imp},e.content,"%%"),n},AdViewFactory.prototype.applyTrackOnView=function(e){return e.trackers.view=e.trackers.view.concat(e.trackers.imp),e.trackers.imp=[],e},AdViewFactory}(s.GohanComponent);t.AdViewFactory=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(92),u=n(87),l=function(e){function PublishContextBehaviour(){return null!==e&&e.apply(this,arguments)||this}return i(PublishContextBehaviour,e),PublishContextBehaviour.prototype.inject=function(t){e.prototype.inject.call(this,t),this.context=t.context},PublishContextBehaviour.prototype.onReceiveMessage=function(e,t,n){0===t.indexOf("creative_")&&this.onCreativeMessage(t.replace("creative_",""),n)},PublishContextBehaviour.prototype.onCreativeInit=function(e,t){t||this.adNoManifest()},PublishContextBehaviour.prototype.onEnterViewport=function(){return this.getData()},PublishContextBehaviour.prototype.onExitViewport=function(){return this.getData()},PublishContextBehaviour.prototype.onAdReady=function(){return this.getData()},PublishContextBehaviour.prototype.adNoManifest=function(){return this.getData()},PublishContextBehaviour.prototype.onAdEnter=function(){return this.getData()},PublishContextBehaviour.prototype.onImageEnter=function(){return this.getData()},PublishContextBehaviour.prototype.onTrackImpression=function(){return this.getData()},PublishContextBehaviour.prototype.onViewabilityEvent=function(e){return o({},this.getData(),{viewEvent:e})},PublishContextBehaviour.prototype.onNoAd=function(){return this.getData()},PublishContextBehaviour.prototype.onCreativeMessage=function(e,t){var n=this.getData();return n.message=e,n.data=t,n},PublishContextBehaviour.prototype.onCloseAd=function(){return this.getData()},PublishContextBehaviour.prototype.getData=function(){var e=this.instance;return{ad:e,adunit:e._adunit,apn_data:e.apn_data,manifest:e.manifest}},a([u.Publish("ad","enter-viewport"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],PublishContextBehaviour.prototype,"onEnterViewport",null),a([u.Publish("ad","exit-viewport"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],PublishContextBehaviour.prototype,"onExitViewport",null),a([u.Publish("ad","ready"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",Object)],PublishContextBehaviour.prototype,"onAdReady",null),a([u.Publish("ad","no-manifest"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",Object)],PublishContextBehaviour.prototype,"adNoManifest",null),a([u.Publish("ad","hover"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",Object)],PublishContextBehaviour.prototype,"onAdEnter",null),a([u.Publish("ad","image-hover"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",Object)],PublishContextBehaviour.prototype,"onImageEnter",null),a([u.Publish("ad","view"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",Object)],PublishContextBehaviour.prototype,"onTrackImpression",null),a([u.Publish("ad","viewability-event"),s("design:type",Function),s("design:paramtypes",[Number]),s("design:returntype",Object)],PublishContextBehaviour.prototype,"onViewabilityEvent",null),a([u.Publish("ad","noad"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",Object)],PublishContextBehaviour.prototype,"onNoAd",null),a([u.Publish("creative","message"),s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",Object)],PublishContextBehaviour.prototype,"onCreativeMessage",null),a([u.Publish("ad","xtocloseclick"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],PublishContextBehaviour.prototype,"onCloseAd",null),PublishContextBehaviour}(c.Behaviour);t.PublishContextBehaviour=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(92),s=n(145),c=function(e){function LoadingBehaviour(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadProcess=new s.EventProcess(t.loadingFlow,t),t.readyForLoading=!1,t}return i(LoadingBehaviour,e),LoadingBehaviour.prototype.onReceiveMessage=function(e,t,n){this.instance.state.adReady||this.loadProcess.run({message:t,data:n})},LoadingBehaviour.prototype.canLoadCreative=function(){return this.readyForLoading},LoadingBehaviour.prototype.loadingFlow=function(){var e,t;return o(this,function(n){switch(n.label){case 0:return[4,s.EventProcess.receive("bridge_ready")];case 1:return n.sent(),this.instance.traveler.send("setup_frame"),[4,s.EventProcess.receive("frame_ready")];case 2:return e=n.sent().data,this.instance.apn_data=e.apn_data||{},this.readyForLoading=!0,this.instance.tryLoadCreative(),[4,s.EventProcess.receive("creative_loaded")];case 3:return t=n.sent().data,this.instance.manifest=t.manifest,this.instance.apn_data=t.apn_data||{},this.instance.traveler.send("init"),[4,s.EventProcess.receive("creative_init")];case 4:return n.sent(),this.instance.onCreativeInit(),[2]}})},LoadingBehaviour}(a.Behaviour);t.LoadingBehaviour=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(92),c=n(114),u=function(e){function ErrorReportBehaviour(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackError=!0,t.trackVideoError=!1,t.sendVideoVast=!1,t}return i(ErrorReportBehaviour,e),ErrorReportBehaviour.prototype.onReceiveMessage=function(e,t,n){return o(this,void 0,void 0,function(){var e;return a(this,function(r){return e=this.instance.model,"script_error"===t&&this.trackError&&c.ErrorHandler.trackError(n,!0),"creative_video_error"===t&&(this.instance.onNoAd(),this.trackVideoError&&c.ErrorHandler.trackError(new Error("video-error ["+e.network+"]: "+n.errorMessage),!0)),[2]})})},ErrorReportBehaviour}(s.Behaviour);t.ErrorReportBehaviour=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(92),a=n(88),s=function(e){function MouseBehaviour(){return null!==e&&e.apply(this,arguments)||this}return i(MouseBehaviour,e),MouseBehaviour.prototype.onAdReady=function(){this.bindEvents()},MouseBehaviour.prototype.notifyMouse=function(){this.imageHovered?this.instance.notify("image_enter"):this.instance.notify("image_leave")},MouseBehaviour.prototype.bindEvents=function(){var e=this,t=this.instance,n=t._adunit.getTaggedElement();t.on(n,["touchstart","mouseover"],function(){e.handleImageMouseEnter()}),t.on(n,["touchend","mouseleave"],function(){e.handleMouseLeave()}),t.on(n,["click"],function(t){e.imageHovered||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.handleImageMouseEnter())});var r=t.$container;t.on(r,["mouseover"],function(){e.handleImageMouseEnter(),t.notify("creative_enter")}),t.on(r,["mouseleave"],function(){e.handleMouseLeave(),t.notify("creative_leave")}),t.on(t.$adWrapper,["mouseover"],function(){e.handleImageMouseEnter(),t.onAdMouseEnter()}),t.on(t.$adWrapper,["mouseleave"],function(){return e.handleMouseLeave()}),t.on(window,["scroll"],a.throttle(function(){var t=a.Util.isMouseOver(e.instance.$el);!t&&e.imageHovered?e.handleImageMouseEnter():t&&!e.imageHovered&&e.handleMouseLeave()},200))},MouseBehaviour.prototype.handleMouseLeave=function(){clearTimeout(this.leaveTimer),this.leaveTimer=setTimeout(this._onImageLeave.bind(this),50)},MouseBehaviour.prototype._onImageLeave=function(){this.imageHovered&&(this.imageHovered=!1,this.notifyMouse(),this.instance.onImageLeave())},MouseBehaviour.prototype.handleImageMouseEnter=function(){clearTimeout(this.leaveTimer),this.imageHovered||(this.imageHovered=!0,this.notifyMouse(),this.instance.onImageEnter())},MouseBehaviour}(o.Behaviour);t.MouseBehaviour=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(258))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(92),a=n(259),s=n(127),c=n(102),u={sizeX:18,sizeY:58,marginX:-18,marginY:0},l={sizeX:58,sizeY:18,marginX:0,marginY:-18},p=function(e){function AdsByBehaviour(){return null!==e&&e.apply(this,arguments)||this}return i(AdsByBehaviour,e),AdsByBehaviour.prototype.onAdReady=function(){this.canEnableBehaviour()?this.setup():this.instance.removeBehaviour(this)},AdsByBehaviour.prototype.render=function(){this.adsBy&&(this.renderer.canvas=this.instance.canvas,this.renderer.render())},AdsByBehaviour.prototype.onReceiveMessage=function(e,t){this.adsBy&&("creative_init"!==t&&"creative_ad-shown"!==t||(this.adsBy.show(),this.render()),"creative_ad-hidden"===t&&(this.adsBy.hide(),this.render()))},AdsByBehaviour.prototype.onEnterViewport=function(){this.adsBy.show(),this.render()},AdsByBehaviour.prototype.onExitViewport=function(){this.adsBy.hide(),this.render()},AdsByBehaviour.prototype.canEnableBehaviour=function(){return!this.instance.isEnabled("hideAdsBy")},AdsByBehaviour.prototype.setup=function(){var e=c.DeviceDetector.isHandheldDevice()?"landscape":"portrait";this.adsBy=new a.AdsBy({orientation:e}),this.adsBy.hide();var t=this.makeRenderer("landscape"===e?l:u);this.renderer=t,this.instance.append(this.adsBy.getElement())},AdsByBehaviour.prototype.makeRenderer=function(e){var t=new s.DimensionsRenderer({willScale:!0,$el:this.adsBy.getElement()});return t.position="BR",t.size={x:e.sizeX,y:e.sizeY},t.margin={x:e.marginX,y:e.marginY},t},AdsByBehaviour}(o.Behaviour);t.AdsByBehaviour=p},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),n(260);var i=function(){function AdsBy(e){this.state={shown:!1},this.args={orientation:"portrait"},this.$el=document.createElement("span"),this.args=e||this.args,this.$el.className="st-adsby";var t=document.createElement("a");t.className="st-"+e.orientation,t.setAttribute("href","http://www.seedtag.com"),t.setAttribute("target","_blank"),this.$el.appendChild(t),this.render()}return AdsBy.prototype.render=function(){this.$el.classList.toggle("st-hide",!this.state.shown)},AdsBy.prototype.setState=function(e){this.state=e,this.render()},AdsBy.prototype.show=function(){this.setState(r({},this.state,{shown:!0}))},AdsBy.prototype.hide=function(){this.setState(r({},this.state,{shown:!1}))},AdsBy.prototype.enable=function(){this.setState(r({},this.state,{enabled:!0}))},AdsBy.prototype.disable=function(){this.setState(r({},this.state,{enabled:!1}))},AdsBy.prototype.onClick=function(e){this.$el.addEventListener("click",e)},AdsBy.prototype.getElement=function(){return this.$el},AdsBy}();t.AdsBy=i},function(e,t,n){var r=n(261);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(184);(e.exports=n(95)(!1)).push([e.i,".seedtag-gohan.seedtag-adunit .st-adsby {\n  width: 18px;\n  height: 58px;\n  overflow: hidden;\n  opacity: 1;\n  transition: opacity 0.5s;\n}\n.seedtag-gohan.seedtag-adunit .st-adsby .st-portrait {\n  display: block;\n  width: 18px;\n  height: 58px;\n  background-image: url("+r(n(262))+");\n  background-size: 18px 58px;\n  transition: opacity 0.5s, margin-left 0.5s;\n}\n.seedtag-gohan.seedtag-adunit .st-adsby .st-landscape {\n  display: block;\n  width: 58px;\n  height: 18px;\n  background-image: url("+r(n(263))+");\n  background-size: 58px 18px;\n  transition: opacity 0.5s, margin-top 0.5s;\n}\n.seedtag-gohan.seedtag-adunit .st-adsby.st-hide {\n  opacity: 0;\n  height: 0!important;\n  transition: opacity 0.5s, height 0.5s;\n}\n.seedtag-gohan.seedtag-adunit .st-adsby.st-hide .st-portrait {\n  margin-left: -18px;\n  opacity: 0;\n}\n.seedtag-gohan.seedtag-adunit .st-adsby.st-hide .st-landscape {\n  margin-top: -18px;\n  opacity: 0;\n}\n",""])},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAB8CAMAAAAsPwK+AAAA5FBMVEU0NDQrKystLS0wMDAoKCgmJiYAAAD09PR6enr6+vqjo6N1dXXn5+dZWVk4ODg8PDw0NDTW1tZQUFD8/PzY2NjS0tK9vb22trZFRUX4+Pjv7+/KyspCQkLr6+uampqXl5eNjY1fX19JSUnBwcGxsbGpqamFhYU4ODje3t6QkJB9fX1tbW2zs7NNTU00NDT29vbp6enk5OTa2tqIiIhWVlbh4eGsrKySkpKBgYFwcHBnZ2dUVFQ0NDQ0NDQ0NDQ0NDQ0NDQ2Njbi4uLOzs7FxcW7u7ucnJyQkJDMzMy4uLjGxsb///+LBBhXAAAAS3RSTlPo6Ojo6OgA/e/+9O/87Ojp5/rr/vr59/bq/v346vzz8/Ls6vf19PEZ+/Hw7vbqY/38+/rx6/v18vDu7eve3camjkf7+fj28/L49vjBMJTqAAADtklEQVRYw+2Y53IaMRSFF6fAdtheYOkdYop7uuOS5Lz/+0Qya+9aWBKTZPIr5wfMiG+u9t57pGWu8ub160qlcnR09OqVwurDp8/vxm93KoOE3Ff9y7gMcjmij18lEYug7yRgQX4tb80Hye5jccRCX3LwiEjEKfUxASvSiETv8ohS8LO4joU+SbIuusn0etDlkUx5gMm0eQg4TAA1mNeloGLpAQDjbikC8xU18QGkM0sYkYKe4mgGkJyZ+2CJoyDR1aIKDGURiazLG+BWCnbPEmClOS9tXYDr7BSISZGEyTS3LgCvw5ad8aPeV4FkaCp7YvwIuDc1i9vCwo+n7Z7CkdiPgqyt+SjbXjYVWa8vDFDFg0jsnhqA02DjAp4tBBNkNBt7biATgUt8z5dNpKJnXBZ+qX4Tb/34swNNWMeaOlOorMCIhBGzFrwGkYFVg2rAA8HI53WmxuiKE1Egzv0o9aPSzEbk873ek/ixZ4Ak2gbcqdiPt2jpiunCALoiP1quQc7BGWrKDKGo1+9xRpaMFWnNsS/qjElNcYIFMVosBG1MLGWIGs1nIex1H2sfLVv5CXSFZ8YxAJcE3KgdyY0bbTMa6qr3x+daRh4Oyt5c/9CP8ogsKKljlVHKy9qQHtc8mebE65pEs+O+SeXwypMS5zxIR03oR/XxANjxrdjhi0fQbYj8aKtJ7i8NA4nDk/DCnA09uFeiOpKssZN6ITFFffTdiA1fi/6+H02dF/E+KN5r0XSDkOee4PEk1x9e2tB4fszgL+nVqLUAeG2H60d7jXjQ8QFsCCVKxtLoju7QkWcdTT0AkztTBOaH60RbAbjWugcUfB4eAzBGMpDInqUuwsNaGJ23eeDv3mb/78d/cj8qzn26rsbX6flSmPVJgCf1HX6v712UpJ7zwBBUx2n4o1EF1aD+IqiBaKNbdNW6OAWR9hKog0h7iqGBSt8H6waAabG+S8uw9sAOUHa/1cKDOntgg6QRFeAMOzVYMHoe0J4gV8SA8+dPHkDVLu9iusiAWwAnT/FCICPfHQAjBmyXd+kD6NLGA2gz7hmVIzZvdpF0AFvGj/qzZ7R8JLo9pyW6ZCI2gfKfrF4VuXpsHT0g7hWklnP+i535UYAOeJ1RVs973cp7LXVPA1Q614+TnR/tUYvrx1fKAFTVb2Hg75Je8M5MW0VJaoczLCCk0y+44D13/EAXlufpdVxdp1OHM9CQjkgOBOvj0tbyMY484scxM+8Rj5oqBw+vivtRPg4rOPmAjUg0svsFK+S0+SM3g2EAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAoCAMAAAAL325tAAAA21BMVEU2NjY3NzcuLi4sKyswMDAzMzMAAAD4+Pjp6en8/Pz6+vr09PS0tLQ6Ojrh4eHKysp3d3fv7+9VVVX29va4uLiZmZl+fn6Ojo5PT0/j4+PU1NRhYWFLS0tGRkahoaHY2NjNzc3CwsKRkZFnZ2dCQkI2NjY7OzvHx8e+vr5vb29aWlo+Pj7+/v7x8fGpqammpqaEhIR0dHQ2NjbR0dGurq6enp6KioppaWloaGhKSko2Njbe3t6xsbFeXl42NjY2NjY3Nzc4ODjn5+eJiYk8PDzr6+va2tqwsLD////HA6/FAAAASHRSTlPt7e3t7e0A/vz+/v747fz68v3v/vj18/Tv/Pvw7+72+/r59fHu4hr5+PLw7f799/bz8mX69/X08fHu7Pv38MqqkUn89O39+/fvCTV4AAAEXklEQVRYw81WiXLaMBCVUgIY38EH91VuQoDcd9Ikbd//f1El2UG2cCFhppO+8WB5pae3u1pJkG9fiP9S/ODbAXvUb/lWsB+fHHwhvlg8lzvIRe2caG++VeQUzt58kvtCqOKHuUP2qN9bx+zPJ4f/FjeXo2q5XB1dNjI6SapNBKRRHZvRt5V/Y2iIoRk3G3yyG9OzbpbZPmvsYjo6EtAdooLyh7JnbTnxKvy1tn9HkWSggCPRL/kqesfgmC8Wc9E4DlXpGFJsCrRSkzFxypAWolxcEaRpZ5xIu8SGHZUidSc9hmx4fwImlpzwGsUsESa+KZhAI855jdtrcebFSsmxKsmc611M4khl5JsCKXHVOQYDEYomJWYx/jCUsYr3AYwVxu8Z/10bB3Hk/Zbd7i6lGBMPvNr9NeMtPV/we97revKKxnQtnm7v5sbg6beKgFZJOUvTnlMbV6Zb6EeOlKCVcSbEj1wcu0DHjMcx8S4KGrSAkhUKfZ40HcE6kBDAhNCVDQF7RckVgJAmspOIXqBy/MKXXdRls4zFzJzoIu0deE1y5aInI9dX5myBQpPQnwgY34H+tg6EiVqiEZSBQiDsFmDLyDfX/AItSupoc2d83Imq5ZHTMr6zdvir9V75BTicfYcLQhfosrYHQy5hFfCirNYLhXpk94AqobKe1Oor4ki4OBXO38tqb8N7kz7KrXaODiVTlnee9Ss5oAxcxHMvX9eRoZzQVItughpv+zih3IWlrPYHF+VRWFGrnQSost8aAjrBi5yLi/tqQfuALvgZaWeNMdx2+1e7CpcV1hz1xAk369U0aOfme31EkdMH6MxwiREx0ErsmipY3pRiPgeqVNaXcrw2SygJaHAotfCa3ufNpYuFcrwuYbHOfqHUd5lBRmmDdSiR84JLOqOcxhizgXEkZASPE6945FOjxfqZ3ZIn3AMRVWZHrxPUkvUTAqinD6E6gFCOSW8zXrqryNQvaQ0awK2w3XvGI68AE2ZvoSPP9hpbgoob7e0JNITJqPgh00lH3pGHTGRLgtbhmvE26MIntA3XMF6KKIqq1rsXdgnOuto166dhuGhHkxRRaqa2kQHAT0bpy+NVuVgE7nHy3uHAInQ21qDZTZ3vc7M3B2A58mKpNpkv2rgf8VvopneOuFh8KeZnXCz07zcT+3ibzuR346Gp3AmzqfnOG8FR+A4YOvV4vTtgcBT+QH5scUJgm6N1zE21rwcO69z3f1ui2UvzB+QxazLVoWybbDev7xCy99a/UWVH4T+Sp7/dx6rANkfOgBrN4DeSfyAbKv+JnH5k8l2ZaI39WXZfJbT5X2c7rGzwmfQwa/IPpTvG/vwhyT9npHorSR2zL/85T/LDQZbncrLd9v34gyETz/+QE6j42C7Yi3/7I8/F86e36mS71lHF5/m3p3khzmIfZA7anVJp+yR/wOIW4gzD59ste/ojzpDP8G+fh3kpzuRPnx4HO/f1zjXezR88Pp0OY9E/W4ym4xBkfuMAAAAASUVORK5CYII="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(186))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(266);var r=function(){function Xtoclose(){this.enabled=!0,this.shown=!1,this.render()}return Xtoclose.prototype.render=function(){if(!this.$el){this.$el=document.createElement("span"),this.$el.classList.add("st-xtoclose");var e=document.createElement("span");e.className="st-area",this.$el.appendChild(e)}this.$el.classList.toggle("st-hide",!this.shown),this.$el.classList.toggle("st-disabled",!this.enabled)},Xtoclose.prototype.enable=function(){this.enabled=!0},Xtoclose.prototype.disable=function(){this.enabled=!1},Xtoclose.prototype.show=function(){this.shown=!0},Xtoclose.prototype.hide=function(){this.shown=!1},Xtoclose.prototype.onClick=function(e){this.$el.addEventListener("click",e.bind(this))},Xtoclose.prototype.onEnter=function(e){this.$el.addEventListener("mouseenter",e)},Xtoclose.prototype.getElement=function(){return this.$el},Xtoclose}();t.Xtoclose=r},function(e,t,n){var r=n(267);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(184);(e.exports=n(95)(!1)).push([e.i,".seedtag-gohan.seedtag-adunit .st-xtoclose {\n  position: absolute;\n  width: 18px;\n  height: 18px;\n  background-image: url("+r(n(268))+");\n  background-size: 18px 18px;\n  opacity: 0.7;\n  transition: opacity linear 0.5s;\n}\n.seedtag-gohan.seedtag-adunit .st-xtoclose:hover {\n  opacity: 0.9;\n}\n.seedtag-gohan.seedtag-adunit .st-xtoclose.st-hide {\n  opacity: 0;\n}\n.seedtag-gohan.seedtag-adunit .st-xtoclose.st-disabled {\n  display: none;\n}\n.seedtag-gohan.seedtag-adunit .st-xtoclose .st-area {\n  width: 40px;\n  height: 40px;\n  margin: -10px;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n",""])},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAM1BMVEUAAAAcHyccHyccHyccHyccHyccICcbHiYcHyYaHicPHh4QICAdICj///+oqaxOUFdrbXMC9YZJAAAADHRSTlMAvdjzxaKQXFE7ERCfJfWfAAAAtUlEQVQ4y42UWw6EIAxFWx6D4IVx/6udiYmCFc09X/04QFPaykhJUZ33TmMqMmdRDOgyUXKAIWTrfDDhc1FWxRRdB8fhAdctxSN6y+clr4xX8i4FvBL2GuLkOw2XS9ZbbUfY6jbmXvrhWg+r/cN+V5GEk7ZbPThIEmGsm4MoCmtZByoO1rIOnHhcrbsDT0nUc1TiVAmoYlLfwnww1SpM01HtywwCM1LUcDJjTiwMcvXwS4xahz+0OS+JhYGosgAAAABJRU5ErkJggg=="},function(e,t,n){var r=n(270);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,".seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view {\n  transition: opacity linear 0.2s;\n}\n.seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view.st-closed {\n  opacity: 0;\n}\n.seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view.st-hide {\n  display: none !important;\n}\n.seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view .st-xtoclose {\n  z-index: 2;\n}\n",""])},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o="put_full_size",a="creative_size_full",s="put_normal_size",c="creative_size_normal",u=function(e){function FullSizeBehaviour(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFullSize=!1,t}return i(FullSizeBehaviour,e),FullSizeBehaviour.prototype.onReceiveMessage=function(e,t){t===o&&(this.isFullSize=!0,this.instance.render(),this.instance.notify(a)),t===s&&(this.isFullSize=!1,this.instance.render(),this.instance.notify(c))},FullSizeBehaviour.prototype.getRenderData=function(e){return this.isFullSize&&(e.size={x:"100%",y:"100%"}),e},FullSizeBehaviour.prototype.render=function(){this.isFullSize?this.instance.$el.style.zIndex="9999999":this.instance.$el.style.zIndex=""},FullSizeBehaviour}(n(92).Behaviour);t.FullSizeBehaviour=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a,s,c,u,l,p,d,f,h=(r=window.parent,i="__PASSPORT__:",o="bridge_listen",a="traveler_configuration",s=function(e){return e.indexOf&&0===e.indexOf(i)},c=function(e,t){var n={message:e,data:t||{}};return i+JSON.stringify(n)},u=function(e){var t=window.addEventListener?"addEventListener":"attachEvent";window[t].bind(window)("attachEvent"==t?"onmessage":"message",e,!1)},l=function(e){return e[e.message?"message":"data"]},p=function(e){return function(e){var t={};return s(e)&&(t=JSON.parse(e.replace(i,""))),t}(l(e))},d=function(){var e,t=this,n=!1,i={},d=window.PASSPORT_ID||"",f=!1,h=null;this.setId=function(e){return d=e};var g=function(e,t){(t=t||{}).traveler_id=d,r.postMessage(c(e,t),"*")},y=function(e,t){return function(e,t){console&&console.log&&console.log("message missed, please execute .receive",e)}(e)};this.isReady=function(){return f},this.onReady=function(e){h=e},this.send=g,this.receive=function(r){u(function(t){if(s(l(t))){var n=p(t);if(n){if(e&&n.message===a)return f=!0,h&&h(),clearInterval(e),i=n.data,void g("bridge_ready",{});y(n.message,n.data)}}}.bind(t)),function(t){y=t,n||(n=!0,e=setInterval(function(){g(o)},250),g(o))}(r)},this.getConfig=function(){return i.configuration},this.fakeMode=function(){return clearInterval(e)}},f=function(e){var t,n={id:"passport_"+(Math.random()+"").replace(".",""),iframe:null},r=null,i=function(e,t){var n=r.contentWindow,i=c(e,t);n&&n.postMessage(i,"*")},d=function(e,t){console&&console.log&&console.log("message missed, please execute .listen")};this.send=i,this.listen=function(e){!function(e){d=e}(e)},this.getIframe=function(){return r},this.pass=function(){return function(){for(var c in t=n,e)t[c]=e[c];t.iframe?r=t.iframe:(r=function(){var e=document.createElement("IFRAME");return e.setAttribute("sandbox",function(){var e=["allow-scripts","allow-same-origin","allow-popups","allow-forms"];return 0<=navigator.userAgent.indexOf("Chrome")&&e.push("allow-popups-to-escape-sandbox"),e.join(" ")}()),e.className="st-ad-iframe",e.setAttribute("allowTransparency","true"),e.setAttribute("width","0"),e.setAttribute("height","0"),e.setAttribute("frameBorder","0"),e.setAttribute("scrolling","no"),e.setAttribute("name","seedtag_creative_"+(t.name||t.id)),e}(),document.body.appendChild(r)),u(function(e){if(s(l(e))){var n=p(e);if(n){if(n.message===o)return void i(a,t);n.data.traveler_id===t.id&&d(n.message,n.data)}}}.bind(this))}()},this.getId=function(){return t.id},this.setContent=function(e){r.contentWindow.document.open(),r.contentWindow.document.write(e.replace(new RegExp(["//","PASSPORT","_","ID"].join(""),"g"),'window.PASSPORT_ID = "'+t.id+'";')),r.contentWindow.document.close()}},{bridge:function(){return new d},traveler:function(e){return new f(e)},listenAny:function(e,t){var n,r;u((n=e,r=t,function(e){var t=e.data;if(t&&t.indexOf&&0===t.indexOf(n))try{r(JSON.parse(t.split(n)[1]||"{}"),e.source)}catch(e){}}))},travel:function(e,t,n){var r=e.contentWindow;r&&r.postMessage(t+JSON.stringify(n),"*")},post:function(e,t){return r&&r.postMessage(e+JSON.stringify(t),"*")}});t.passport=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(89),i=n(185),o=n(88),a=function(){function ManifestResponsiveCalculator(){this.canvas=new i.Coord}return ManifestResponsiveCalculator.prototype.get=function(){var e,t,n=this.manifest,i=o.ImmutabilityHelper.immute(n),a=null;if(i&&i.responsive){var s=n.responsive,c=function(e){var t=e.way;return["x","y"].indexOf(t)>=0?t:"x"}(n.responsive),u=r.StArray.from(Object.keys(s)).map(function(e){return parseInt(e,0)-0}).filter(function(e){return!isNaN(e)});a=s[(e=u,t=this.canvas[c],o.last(r.StArray.from(e).filter(function(e){return e<t}).sort()))]}return null!==a?o.assign(i,a):n},ManifestResponsiveCalculator}();t.ManifestResponsiveCalculator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48);function getCreativeSources(){var e="";return e+="//PASSPORT_ID \n"}function buildIframe(e){var t=n(275),i="";return e.params&&(i+="\n      <script>window.seedtag_client_params = "+JSON.stringify(e.params)+"<\/script>\n    "),e.content&&!e.isRtb&&(i+=e.content,t=t.split("\x3c!--SEEDTAG_CREATIVE--\x3e").join(i)),e.content&&e.isRtb&&(i+=e.content,t=t.split("\x3c!--RTB_CREATIVE--\x3e").join(i)),t.split("\x3c!--CLIENT_JS--\x3e").join("\n    <script>"+getCreativeSources()+'<\/script>\n    <script src="'+r.files.creativeLibrary+'"><\/script>\n  ')}t.getCreativeSources=getCreativeSources,t.buildIframe=buildIframe,t.default={buildIframe:buildIframe,getCreativeSources:getCreativeSources}},function(e,t){e.exports='<!DOCTYPE html>\n<html>\n<head>\n  \x3c!--CLIENT_DATA--\x3e\n  <style>\n    html, body {width: 100%;height: 100%; border: 0; margin: 0}\n    a, a:hover, a:visited, a:active, img {\n      border:none;\n      outline:none;\n    }\n\n    /* HTML5 display-role reset for older browsers */\n    html, body, div, span, iframe,\n    h1, h2, h3, blockquote,\n    a, small, strong,\n    b, video {\n      margin: 0;\n      padding: 0;\n      border: 0;\n      vertical-align: baseline;\n    }\n    body {line-height: 1}\n  </style>\n  <script>\n    window.seedtag = {}; // https://www.youtube.com/watch?v=oLvt9bP9DHA\n  <\/script>\n</head>\n<body class="seedtag-not-loaded seedtag-image-not-hovered seedtag-creative-not-visible">\n  \x3c!--SEEDTAG_CREATIVE--\x3e\n  <div class="creative-container">\n    \x3c!--RTB_CREATIVE--\x3e\n  </div>\n  \x3c!--CLIENT_JS--\x3e\n</body>\n</html>\n'},function(e,t,n){var r=n(277);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,".seedtag-gohan.seedtag-adunit.st-fade-out .st-adunit-component_ad-view {\n  opacity: 0;\n}\n.seedtag-gohan.seedtag-adunit.st-hidden .st-adunit-component_ad-view {\n  display: none !important;\n}\n.seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view {\n  height: 0px !important;\n  overflow: visible;\n}\n.seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view .st-ad-wrapper {\n  top: initial;\n  left: initial;\n  right: initial;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n}\n.seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view .st-ad-wrapper.st-1x1 {\n  width: 1px !important;\n  height: 1px !important;\n}\n.seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view iframe.st-ad-iframe,\n.seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view .st-ad-wrapper {\n  display: block !important;\n  padding: 0!important;\n  border: none!important;\n  margin: 0!important;\n  max-width: none!important;\n  max-height: none!important;\n  min-width: 0!important;\n  min-height: 0!important;\n  background: transparent!important;\n  overflow: hidden;\n}\n.seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view iframe.st-ad-iframe {\n  width: 100%!important;\n  height: 100%!important;\n}\n.seedtag-gohan.seedtag-adunit .st-adunit-component_ad-view img.st-ad-tracker {\n  opacity: 0;\n  width: 0 !important;\n  height: 0 !important;\n}\n",""])},,,function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function FixedInScreenSizeBehaviour(){return null!==e&&e.apply(this,arguments)||this}return i(FixedInScreenSizeBehaviour,e),FixedInScreenSizeBehaviour.prototype.render=function(){this.instance.$iframe.style.height="150px !important"},FixedInScreenSizeBehaviour}(n(92).Behaviour);t.FixedInScreenSizeBehaviour=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(150),c=n(133),u=n(164),l=n(155),p=n(111),d=n(132),f=n(188),h=n(92),g=n(88),y=n(127),v=n(144),m=n(126),b=n(147),_=n(104),w=n(192);t.getAdSlotDimension=function(e){try{return e.getBoundingClientRect()}catch(t){return{width:e.offsetWidth,height:e.offsetHeight}}};var A=function(e){function VideoAdView(t,n){var r=e.call(this,t,n)||this;return r.starting=!1,r.started=!1,r.slotReadyTime=Date.now(),r.vastWrapperOptions={},r.isInView=!1,r.handleMessage=function(e,t){void 0===t&&(t={});var n=new v.ScreenElement(r.$adWrapper);t.slotPosition=g.Util.getOffsetTop(r.$adWrapper),t.timing=Date.now()-r.slotReadyTime,t.viewportPosition=Math.round(n.getPosition().center/g.Util.viewPortHeight()*100),"video_ready"===e&&(r.readyPosition=t.viewportPosition),t.readyPosition=r.readyPosition,"video_started"===e&&(r.startPosition=t.viewportPosition),t.startPosition=r.startPosition,r.context.publish({channel:"creative",topic:"message",data:{message:e,adunit:r._adunit,ad:r,apn_data:r.apn_data||{CP_ID:r.model.network},data:t}})},r.removeBehaviours(),r.addBehaviour(new b.TrackViewabilityBehaviour),r.addBehaviour(new m.DisplayVisibilityBehaviour),r.addBehaviour(new m.MouseBehaviour),r.addBehaviour(new w.MinipassBehaviour),r.addBehaviour(new m.PublishContextBehaviour),r.manifest.size={x:"100%",y:"100%"},r}return i(VideoAdView,e),VideoAdView.prototype.onAdSlotReady=function(e){var n=this,r=new u.default(e);this.slotReadyTime=Date.now(),this.listenVastWrapper();var i=function(){r.destroy(),n._adunit.removeComponent(n)},o=function(e){var t=900;try{t=e.getError().getErrorCode()}catch(e){}n.handleMessage("video_error",{errorCode:t,errorType:n.starting||n.started?"adPlayError":"adLoadError"})};return r.loadAd(this.model.vastAd||this.model.content,{useSeedtagPlayer:!1}).then(function(e){n.handleMessage("video_loaded");var r=t.getAdSlotDimension(n._adunit.tagElement);return n.initAdsManager(e,r)}).then(function(e){if(n.handleMessage("video_ready"),window.seedtagAdsManagers=window.seedtagAdsManagers||[],window.seedtagAdsManagers.push(e),n.model.trackers.imp||(n.model.trackers.imp=[]),e.addEventListener(p.default.AD_ERROR,o),e.addEventListener(p.default.IMPRESSION,function(){n.trackImpression(),n.handleMessage("video_play"),e.setVolume(0)}),e.addEventListener(p.default.CLICK,function(){n.model.track(_.TrackEvents.clicks)}),n.model.trackers&&n.model.trackers.video)new l.VastEventTracker(new c.VPAIDAdsManager(e),n.model.trackers.video.map(function(e){return{type:e.type,url:e.value,offset:e.offset||void 0}}),n.$el);e.addEventListener(p.default.FIRST_QUARTILE,function(){return n.handleMessage("video_played_percentile_25")}),e.addEventListener(p.default.MIDPOINT,function(){return n.handleMessage("video_played_percentile_50")}),e.addEventListener(p.default.THIRD_QUARTILE,function(){return n.handleMessage("video_played_percentile_75")}),e.addEventListener(p.default.COMPLETE,function(){n.handleMessage("video_played_percentile_100"),n.handleMessage("video_end")}),e.addEventListener(p.default.SKIPPED,function(){return n.handleMessage("video_skip")}),e.addEventListener(p.default.USER_CLOSE,function(){return n.handleMessage("video_skip")}),e.addEventListener(p.default.VIEWABLE_IMPRESSION,function(){return n.handleMessage("video_viewable_impression")}),e.addEventListener(p.default.PAUSED,function(){return n.handleMessage("video_paused")}),e.addEventListener(p.default.RESUMED,function(){return n.handleMessage("video_resumed")}),e.addEventListener(p.default.CLICK,function(){return n.handleMessage("video_click")});var r=function(){var r=t.getAdSlotDimension(n._adunit.tagElement);e.resize(r.width,r.height,d.default.NORMAL)};return window.addEventListener("resize",r),e.addEventListener(p.default.STARTED,function(){r(),e.setVolume(0)}),e.addEventListener(p.default.ALL_ADS_COMPLETED,function(){window.removeEventListener("resize",r),e.destroy(),i()}),e}).catch(function(e){throw o(e),i(),e})},VideoAdView.prototype.onEnterViewport=function(){this.isInView=!0,e.prototype.onEnterViewport.call(this),this.startAd()},VideoAdView.prototype.onExitViewport=function(){this.isInView=!1,this.adsManager&&!0===this.vastWrapperOptions.pauseVideo&&this.adsManager.pause()},VideoAdView.prototype.onViewabilityEvent=function(e){return e},VideoAdView.prototype.startAd=function(){var e=this;!this.adsManager||this.starting||this.started?this.adsManager&&!0===this.vastWrapperOptions.pauseVideo&&this.adsManager.resume():(this.starting=!0,this.adsManager.addEventListener(p.default.STARTED,function(){e.started=!0,e.starting=!1}),this.adsManager.start(),this.handleMessage("video_started"))},VideoAdView.prototype.insertAd=function(){var e=this,t=document.createElement("div");t.classList.add("st-ad-wrapper","st-ad-wrapper"),this.$adWrapper=t,this.getAdContainer().appendChild(t),this.positionHandler=new y.DimensionsRenderer({willScale:!1,$el:this.$adWrapper}),this.renderAd(),this.onAdSlotReady(this.$adWrapper).then(function(t){e.adsManager=t,e.adsManager.setVolume(0),e.onAdReady(),e.isInView||e.handleMessage("video_ready_not_inview")}).catch(function(t){console.error(t),e.onNoAd()}),this.$iframe=this.$el.querySelector("iframe")},VideoAdView.prototype.onAdReady=function(){this.state.adReady||(this.state.adReady=!0)},VideoAdView.prototype.initAdsManager=function(e,t,n){return void 0===n&&(n=1e4),new Promise(function(r,i){var o=function(t){e.destroy(),i(t)};e.addEventListener(p.default.LOADED,function(){e.removeEventListener(p.default.AD_ERROR,o),r(e)}),e.addEventListener(p.default.AD_ERROR,o),e.init(t.width,t.height,d.default.NORMAL),n&&g.Util.wait(n).then(function(){var e;i((e=901,{getError:function(){return{getErrorCode:function(){return e},getType:function(){return"adLoadError"}}}}))})})},VideoAdView.prototype.listenVastWrapper=function(){var e,t=this;e=function(n){if("string"==typeof n.data&&0===n.data.indexOf(s.VAST_WRAPPER_POSTMESSAGE_PREFIX)){t.addBehaviour(new m.AdsByBehaviour),window.removeEventListener("message",e);try{t.vastWrapperOptions=JSON.parse(n.data.replace(s.VAST_WRAPPER_POSTMESSAGE_PREFIX,""))}catch(e){t.vastWrapperOptions={}}}},window.addEventListener("message",e)},o([h.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],VideoAdView.prototype,"onEnterViewport",null),o([h.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],VideoAdView.prototype,"onExitViewport",null),o([h.Behave,a("design:type",Function),a("design:paramtypes",[Number]),a("design:returntype",void 0)],VideoAdView.prototype,"onViewabilityEvent",null),o([h.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],VideoAdView.prototype,"insertAd",null),o([h.Behave,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],VideoAdView.prototype,"onAdReady",null),VideoAdView}(f.BaseAdView);t.VideoAdView=A},,,function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(104),a=function(e,t,n){return void 0===n&&(n={}),{type:e,props:n,children:t}},s=function(e){var t=e.content;return a("Creative",[a("Content",[a("InImageNativeTemplate",[],{img:"decoy.png",headline:t.headline,text:t.text,brand:t.brand,adsby:"",button:t.button})]),a("Assets",[a("Asset",[],{id:"decoy.png",name:"decoy.png",value:t.img})])])},c=function(e){function NativeAdView(t,n){var r=JSON.parse(t.content);return t.content='\n    <div id="st-ad"></div>\n    <script type="application/javascript" src="https://config.seedtag.com/libs/@seedtag-ads/creative-loader.latest.js"><\/script>\n    \x3c!--<script type="application/javascript" src="https://creatives.seedtag.com/5c541d9a2de3a0002ae3f992/creative.js"><\/script>--\x3e\n\n    <script>\n      CreativeLoader.defineCreative('+JSON.stringify(s(r))+")\n      CreativeLoader.render(document.querySelector('#st-ad'), {\n        closeable: false,\n        clickUrl: '"+r.content.link+"'\n      }, {}, {})\n    <\/script>\n    "+r.jsTrackers.join("")+"\n    ",e.call(this,t,{adsBy:!1,xToClose:{position:"BR",margin:{x:10,y:126}}},n)||this}return i(NativeAdView,e),NativeAdView.prototype.clickHandler=function(){this.model.track(o.TrackEvents.clicks)},NativeAdView.prototype.printJsTrackers=function(){if(this.content.jsTrackers&&this.content.jsTrackers.length>0){var e=document.createElement("div");e.className="seedtag-js-trackers",e.innerHTML=this.content.jsTrackers.join(""),document.body.appendChild(e)}},NativeAdView}(n(187).DisplayAdView);t.NativeAdView=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(87),u=n(89),l=n(157),p=n(101),d=n(145),f=u.StArray.from(["insert","no-insert","ready","view","impression","image_hover","hover","xtocloseclick"]),h=new l.AdEventEntity,g=new l.AdUnitDimensionsGetter,y=function(e){function AdEvents(){var t=null!==e&&e.apply(this,arguments)||this;return t.iabAdUnitMap={},t}return i(AdEvents,e),AdEvents.prototype.onInit=function(){},AdEvents.prototype.onAdResolved=function(e){this.track("resolved",e.adunit,e.admodel)},AdEvents.prototype.onAnyAdMessage=function(e,t){var n=t.topic.replace(/\./g,"-");"view"===n&&(this.runViewabilityProcess("impression",e),this.trackEvents("impression",e)),this.runViewabilityProcess(n,e),this.trackEvents(n,e)},AdEvents.prototype.trackEvents=function(e,t){-1!==f.indexOf(e)&&this.track(e,t.adunit,t.ad.model,t)},AdEvents.prototype.runViewabilityProcess=function(e,t){var n=t.adunit.model.name||"";this.iabAdUnitMap[n]||(this.iabAdUnitMap[n]=new d.EventProcess(this.viewabilityTrackProcess,this)),this.iabAdUnitMap[n].run({message:e,data:t})},AdEvents.prototype.viewabilityTrackProcess=function(){var e,t,n,r,i,o=this;return s(this,function(a){switch(a.label){case 0:e=function(e){return[o.makeTrackTimeout(1,"iab-view",e),o.makeTrackTimeout(1,"viewability-1s50",e),o.makeTrackTimeout(2,"viewability-2s50",e),o.makeTrackTimeout(3,"viewability-3s50",e)]},t=!1,n=!1,r=[],a.label=1;case 1:return[4,d.EventProcess.race({impression:function(e){return n=!0,e},"enter-viewport":function(e){return t=!0,e},"exit-viewport":function(e){return t=!1,e}})];case 2:return i=a.sent(),n&&t?r=e(i):(r.map(clearTimeout),r=[]),[3,1];case 3:return[2]}})},AdEvents.prototype.makeTrackTimeout=function(e,t,n){var r=this;return setTimeout(function(){r.track(t,n.adunit,n.ad.model,n)},1e3*e)},AdEvents.prototype.track=function(e,t,n,r){var i=l.mixDimensions(g.get(t),h.get(n,r)),o="ad-"+e;this.analytics.singleTrack(o+i.adUnitName,o,i)},o([c.Subscribe("adserver","ad.resolved"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AdEvents.prototype,"onAdResolved",null),o([c.Subscribe("ad","#"),a("design:type",Function),a("design:paramtypes",[Object,Object]),a("design:returntype",void 0)],AdEvents.prototype,"onAnyAdMessage",null),AdEvents}(p.ReporterComponent);t.AdEvents=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(144),i=n(134).createNormalizer(-50,150,25),o=function(){function AdUnitDimensionsGetter(){this.foundPositionMap={}}return AdUnitDimensionsGetter.prototype.get=function(e){return{adUnitName:e.model.name||"-",adunitFoundPosition:this.getAdunitFoundPosition(e)}},AdUnitDimensionsGetter.prototype.getAdunitFoundPosition=function(e){var t,n=e.getModel().name||"";return this.foundPositionMap[n]=this.foundPositionMap[n]?this.foundPositionMap[n]:i(100*(t=e.tagElement,new r.ScreenElement(t).getRelativePosition()).center),this.foundPositionMap[n]},AdUnitDimensionsGetter}();t.AdUnitDimensionsGetter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(103);var i=function(){function AdEventEntity(){}return AdEventEntity.prototype.get=function(e,t){var n=r.sizeToFormat(e.size);return{adapter:e.adapter,network:e.network,type:e.adType,adspace:n,format:n,product:r.getProduct(n),productFamily:r.isStandard(e.format)?"standardAds":e.adType,source:e.adapter}},AdEventEntity}();t.AdEventEntity=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(87),u=n(124),l=n(157),p=n(134),d=n(101),f=p.createArrayNormalizer([0,200,300,500,1e3,2e3,3e3]),h=new l.AdUnitDimensionsGetter,g=function(e){function Bidding(){var t=null!==e&&e.apply(this,arguments)||this;return t.yieldTargeting="false",t}return i(Bidding,e),Bidding.prototype.onInit=function(){},Bidding.prototype.onConfig=function(e){var t=e.config;this.yieldPriority=t.publisher?String(t.publisher.yieldPriority):"-"},Bidding.prototype.publishedTargeting=function(e){this.yieldTargeting=e.targeting.page.keywords.yield_targeting},Bidding.prototype.onAdserverReady=function(){this.analytics.track(u.AnalyticsService.ADSERVER_READY)},Bidding.prototype.onAdserverNotReady=function(){this.analytics.track(u.AnalyticsService.ADSERVER_NOT_READY)},Bidding.prototype.onAdserverAdRequest=function(e){var t=l.mixDimensions(h.get(e.adunit),{yieldTargeting:e.request.targeting.page.keywords.yield_targeting,yieldPriority:this.yieldPriority});this.analytics.singleTrack(t.adUnitName,"ad-request",t)},Bidding.prototype.onAdapterResponse=function(e){this.track("adapter-response",e)},Bidding.prototype.onBidderResponse=function(e){this.track("network-response",e)},Bidding.prototype.onBidderLog=function(e){this.analytics.track(e.message.replace(/_/g,"-"),l.mixDimensions({adapter:e.adapter,network:e.network},h.get(e.adunit)))},Bidding.prototype.track=function(e,t){return this.analytics.track(e,l.mixDimensions(function(e){var t="number"==typeof e.errorCode?{errorCode:e.errorCode}:{};return o({adapter:e.adapter,network:e.network,step:e.step,status:e.status,reason:e.reason,time:f(e.time)},t)}(t),h.get(t.adunit)))},a([c.Subscribe("config","received"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],Bidding.prototype,"onConfig",null),a([c.Subscribe("adunit","targeting.response"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],Bidding.prototype,"publishedTargeting",null),a([c.Subscribe("adserver","ready"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],Bidding.prototype,"onAdserverReady",null),a([c.Subscribe("adserver","not-ready"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],Bidding.prototype,"onAdserverNotReady",null),a([c.Subscribe("adserver","ad.request"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],Bidding.prototype,"onAdserverAdRequest",null),a([c.Subscribe("adapter","response"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],Bidding.prototype,"onAdapterResponse",null),a([c.Subscribe("network","response"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],Bidding.prototype,"onBidderResponse",null),a([c.Subscribe("network","log"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],Bidding.prototype,"onBidderLog",null),Bidding}(d.ReporterComponent);t.Bidding=g},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(89),a=n(101),s=o.StArray.from([{size:"S",length:200},{size:"M",length:400},{size:"L",length:99999}]);var c=function(e){function Inventory(){return null!==e&&e.apply(this,arguments)||this}return i(Inventory,e),Inventory.prototype.onInit=function(){this.tracked={},this.category="-",this._bindMessages()},Inventory.prototype.getEventData=function(e){var t,n,r,i,o=e.getImageSize(),a=(t=o.x>o.y?o.x:o.y,n="",s.forEach(function(e){t<e.length&&(n=e.size)}),n),c=(r=o.x,i=o.y,r>i?"L":"P");return{adUnitName:e.getModel().name,category:this.category,subcategory:this.subcategory,size:c+"_"+a}},Inventory.prototype._bindMessages=function(){var e=this;this.context.subscribe({channel:"config",topic:"received",callback:function(t){e.category=t.config.category,e.subcategory=t.config.subcategory}}),this.context.subscribe({channel:"adunit",topic:"view",callback:function(t){e.canTrack("inventory",t.adunit.getModel().name)&&e.analytics.track("inventory",e.getEventData(t.adunit))}})},Inventory.prototype.canTrack=function(e,t){var n=e+"-"+t,r=this.tracked,i=!1;return r[n]||(r[n]=i=!0),i},Inventory}(a.ReporterComponent);t.Inventory=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(88),a=function(e){function Content(){var t=null!==e&&e.apply(this,arguments)||this;return t._yetTracked=!1,t.templateCategory=null,t}return i(Content,e),Content.prototype.onInit=function(){this._bindMessages()},Content.prototype._track=function(e){this.analytics.track(e,{templateCategory:this.templateCategory,contextualizationStatus:this.contextualizationStatus})},Content.prototype._bindMessages=function(){var e=this;this.context.subscribe({channel:"config",topic:"received",callback:function(t){e.contextualizationStatus=o.get(t,"config.url.contextualization.status")}}),this.context.subscribe({channel:"template",topic:"selected",callback:function(t){e.templateCategory=o.get(t,"template.category")}}),this.context.subscribe({channel:"sherlock",topic:"content",callback:function(t){if(!e._yetTracked){e._yetTracked=!0;var n=t.hasContent?"content-found":"content-not-found";e._track(n)}}})},Content}(n(101).ReporterComponent);t.Content=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(88),c=n(89),u=n(87),l=n(134),p=n(101),d=l.createArrayNormalizer([0,240,360,480,500]),f={240:"S",360:"M",480:"L",500:"XL"},h=l.createArrayNormalizer([0,500,1e3,2e3,3e3,4e3,5e3,6e3,8e3,1e4]),g=l.createArrayNormalizer([0,100,200,300,400,500,600,700,800,900,1e3]),y=l.createArrayNormalizer([-50,-40,-30,-20,-10,0,10,20,30,40,50,60,70,80,90,100,110,120,130,140,150]),v=function(e){var t=y(e);return e<-50?"t":e>150?"b":isNaN(e)?"-":t},m="video-",b={match:c.StArray.from([m+"error",m+"ready",m+"ready-not-inview",m+"loaded",m+"tryPlay",m+"notReadyToTryPlay",m+"play",m+"end",m+"cpv",m+"started",m+"viewable-impression",m+"paused",m+"resumed",m+"click",m+"vast-available"]),startsWith:c.StArray.from([m+"played-percentile-",m+"played-decile-",m+"skip-duration-"])},_=function(e){function Video(){var t=null!==e&&e.apply(this,arguments)||this;return t.tracked={},t}return i(Video,e),Video.prototype.onInit=function(){},Video.prototype.onCreativeMessage=function(e){this.trackEvent(e)},Video.prototype.trackEvent=function(e){var t=e.message.replace(/_/g,"-");0===t.indexOf("video-")&&function(e){return-1!==b.match.indexOf(e)||!!b.startsWith.map(function(t){return 0===e.indexOf(t)}).find(Boolean)}(t)&&this.track(t,e)},Video.prototype.track=function(e,t){var n,r,i,o=s.get(t,"data.viewportPosition",-1),a=s.get(t,"data.readyPosition",-1),c=s.get(t,"data.startPosition",-1),u={adUnitName:t.adunit.getModel().name,campaignId:t.apn_data.CP_ID,duration:t.duration||"-",source:t.ad.model.adapter,network:t.ad.model.network,playerSize:(i=t.adunit.getImageSize().x,f[d(i)]),errorCode:s.get(t,"data.errorCode","-"),errorType:s.get(t,"data.errorType","-"),format:t.ad.model.size.x+"x"+t.ad.model.size.y,slotPosition:(r=s.get(t,"data.slotPosition","-"),isNaN(r)?"-":g(r)),timing:(n=s.get(t,"data.timing","-"),isNaN(n)?"-":h(n)),viewportPosition:v(o),readyPosition:v(a),startPosition:v(c)};this.analytics.singleTrack(e+u.adUnitName,e,u)},o([u.Subscribe("creative","message"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],Video.prototype,"onCreativeMessage",null),Video}(p.ReporterComponent);t.Video=_},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(87),l=n(125),p=function(e){function Features(){return null!==e&&e.apply(this,arguments)||this}return i(Features,e),Features.prototype.onInit=function(){},Features.prototype.configSub=function(e){var t=e.config;return s(this,void 0,void 0,function(){return c(this,function(e){return this.config=t,this.sendAutoplaySupport(l.BrowserContext.hasAutoplay()),[2]})})},Features.prototype.sendAutoplaySupport=function(e){return s(this,void 0,void 0,function(){var t;return c(this,function(n){return t={featureName:"autoplay",support:e,reason:"-",webview:l.BrowserContext.isFacebookWebview(),country:this.config?this.config.cookies.country:"-",browser:l.BrowserContext.getBrowser().name,browserVersion:l.BrowserContext.getBrowser().major,os:l.BrowserContext.getOS().name},this.analytics.singleTrack("autoplay-support-track","feature-support",t),[2]})})},o([u.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",Promise)],Features.prototype,"configSub",null),Features}(n(101).ReporterComponent);t.Features=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=function(e){function Passback(){return null!==e&&e.apply(this,arguments)||this}return i(Passback,e),Passback.prototype.onInit=function(){},Passback.prototype.run=function(){this.analytics.singleTrack("passback-call","passback-call",{})},o([s.Subscribe("passback","activated"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],Passback.prototype,"run",null),Passback}(n(101).ReporterComponent);t.Passback=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(87),u=n(101),l=n(145),p=new(n(157).AdUnitDimensionsGetter),d=function(e){function InventoryLocation(){var t=null!==e&&e.apply(this,arguments)||this;return t.procPerAdUnit={},t}return i(InventoryLocation,e),InventoryLocation.prototype.onInit=function(){},InventoryLocation.prototype.adunitProcess=function(){var e,t,n,r,i,o,a=this;return s(this,function(s){switch(s.label){case 0:return Math.random()<.95?[2]:(e={timeInside:0,timesEntered:0},[4,l.EventProcess.receive("adunit-found")]);case 1:return t=s.sent().data,n=p.get(t.adUnit),e.initialPosition=this.isScrolledIntoView(t.adUnit.tagElement),e.adunitFoundPosition=n.adunitFoundPosition,e.adUnitName=n.adUnitName,r=500,0,"in"===(i=e.initialPosition)&&(e.timesEntered=1),o=setInterval(function(){var n=i;i=a.isScrolledIntoView(t.adUnit.tagElement),"in"===n?null!=e.timeInside&&(e.timeInside+=r):"in"===i&&null!=e.timesEntered&&e.timesEntered++,r},r),setTimeout(function(){clearInterval(o),a.track(t,e)},1e4),[2]}})},InventoryLocation.prototype.isScrolledIntoView=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.bottom;return n>=0&&r<=window.innerHeight?"in":n>=0?"below":"above"},InventoryLocation.prototype.onAdUnitFound=function(e){this.startProcess("adunit-found",e)},InventoryLocation.prototype.startProcess=function(e,t){var n=t.adUnit.model.name||"";this.procPerAdUnit[n]||(this.procPerAdUnit[n]=new l.EventProcess(this.adunitProcess,this)),this.procPerAdUnit[n].run({message:e,data:t})},InventoryLocation.prototype.track=function(e,t){this.analytics.singleTrack(t.adUnitName,"inventory-location",t)},o([c.Subscribe("tagmanager","adunit-found"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],InventoryLocation.prototype,"onAdUnitFound",null),InventoryLocation}(u.ReporterComponent);t.InventoryLocation=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(296);t.AdReporter=r.AdReporter;var i=n(298);t.AdUnitReporter=i.AdUnitReporter;var o=n(299);t.AppNexusViewabilityWrapperReporter=o.AppNexusViewabilityWrapperReporter},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=n(101),u=new(n(297).AdEvents),l=function(e){function AdReporter(){return null!==e&&e.apply(this,arguments)||this}return i(AdReporter,e),AdReporter.prototype.onInit=function(){},AdReporter.prototype.onAdResolved=function(e){e.admodel.adUnit=e.adunit.model,this.track(u.adResolved(e.admodel))},AdReporter.prototype.onAdImpression=function(e){e.ad.model.adUnit=e.adunit.model;var t=u.adImpression(e.ad.model);this.track(t)},AdReporter.prototype.onAdViewability=function(e){if(e.viewEvent){e.ad.model.adUnit=e.adunit.model;var t=u.view(e.ad.model,e.viewEvent);this.track(t)}},AdReporter.prototype.track=function(e){this.analytics.singleTrack(e.type+e.props.Adunit_name,e.type,e.props)},o([s.Subscribe("adserver","ad.resolved"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AdReporter.prototype,"onAdResolved",null),o([s.Subscribe("ad","view"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AdReporter.prototype,"onAdImpression",null),o([s.Subscribe("ad","viewability-event"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AdReporter.prototype,"onAdViewability",null),AdReporter}(c.ReporterComponent);t.AdReporter=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(158),c=n(195),u=n(196),l="Ad";!function(e){e.Resolved="resolved",e.Impression="impression",e.View1second="view_1s50",e.View2second="view_2s50",e.View3second="view_3s50"}(a||(a={}));var p=function(e){function AdDimensions(){return null!==e&&e.apply(this,arguments)||this}return i(AdDimensions,e),AdDimensions.prototype.getBase=function(e){return{adSize:e.format}},AdDimensions.prototype.getRelated=function(e){return o({},c.adUnitDimensions.prefixedGetBase(e.adUnit),u.publisherDimensions.prefixedGetBase(e.adUnit))},AdDimensions}(s.BaseDimensionGetter);t.AdDimensions=p;var d=function(e){function AdEvents(){return e.call(this,l,new p(l))||this}return i(AdEvents,e),AdEvents.prototype.adResolved=function(e){return this.makeEvent(a.Resolved,e)},AdEvents.prototype.adImpression=function(e){return this.makeEvent(a.Impression,e)},AdEvents.prototype.view=function(e,t){var n=a.View1second;return 2===t&&(n=a.View2second),3===t&&(n=a.View3second),this.makeEvent(n,e)},AdEvents}(s.EventGenerator);t.AdEvents=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=n(101),u=new(n(195).AdUnitEvents),l=function(e){function AdUnitReporter(){return null!==e&&e.apply(this,arguments)||this}return i(AdUnitReporter,e),AdUnitReporter.prototype.onInit=function(){},AdUnitReporter.prototype.onAdRequest=function(e){this.track(u.adRequest(e.adunit.model))},AdUnitReporter.prototype.track=function(e){this.analytics.singleTrack(e.type+e.props.Adunit_name,e.type,e.props)},o([s.Subscribe("adserver","ad.request"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AdUnitReporter.prototype,"onAdRequest",null),AdUnitReporter}(c.ReporterComponent);t.AdUnitReporter=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=function(e){function AppNexusViewabilityWrapperReporter(){return null!==e&&e.apply(this,arguments)||this}return i(AppNexusViewabilityWrapperReporter,e),AppNexusViewabilityWrapperReporter.prototype.onInit=function(){},AppNexusViewabilityWrapperReporter.prototype.onVersion=function(e){this.analytics.singleTrack("adapter-warn","anwrapper-version-changed",{anwrapperVersion:e.version})},o([s.Subscribe("appnexus-viewability-wrapper","version"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AppNexusViewabilityWrapperReporter.prototype,"onVersion",null),AppNexusViewabilityWrapperReporter}(n(101).ReporterComponent);t.AppNexusViewabilityWrapperReporter=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),a=n(135),s=n(199),c=n(88),u=function(e){function EvaluableService(){var t=null!==e&&e.apply(this,arguments)||this;return t.library=new a.IntegrationTool,t}return i(EvaluableService,e),EvaluableService.prototype.setUp=function(){var e=this;this.context.subscribe({channel:"features",topic:"response",callback:function(t){e.library.sizeLimits=c.get(t,"features.sizeLimits.value")}}),this.context.set("factory.evaluable",this.getEvaluable.bind(this))},EvaluableService.prototype.getEvaluable=function(e){return new s.EvaluableJs(e,{environment:{lib:this.getLibrary()}})},EvaluableService.prototype.getLibrary=function(){return this.library.getMethods()},EvaluableService}(o.GohanComponent);t.EvaluableService=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(89),c=n(87),u=n(159),l=function(e){function TemplateLocator(){var t=null!==e&&e.apply(this,arguments)||this;return t.adserverReady=!1,t.runned=!1,t.changeListener=function(){t.requestReset()},t}return i(TemplateLocator,e),TemplateLocator.prototype.onKill=function(){window.removeEventListener("pushstate",this.changeListener),this.runned=!1},TemplateLocator.prototype.requestReset=function(){return{}},TemplateLocator.prototype.publishTemplate=function(e){return e},TemplateLocator.prototype.publishTemplateAfter=function(e){return e},TemplateLocator.prototype.onAdserverReady=function(e){this.adserverReady=!0,this.run()},TemplateLocator.prototype.onConfigReceived=function(e){e.config.templates&&(this.config=e.config,this.run())},TemplateLocator.prototype.canRun=function(){return this.config&&this.adserverReady},TemplateLocator.prototype.setUp=function(){},TemplateLocator.prototype.run=function(){if(!this.runned&&this.canRun()){this.runned=!0;var e=this.select({href:document.location.href},this.config.templates);e&&this.shouldObserveUrl(e)&&this.urlChangeListener(),this.publishTemplate({template:e,config:this.config}),this.publishTemplateAfter({template:e,config:this.config})}},TemplateLocator.prototype.select=function(e,t){var n=this,r=(t=s.StArray.from(t)).sort(function(e,t){return(t.priority||0)-(e.priority||0)}).find(function(t){var r=n.context.get("factory.evaluable")(t.condition);try{return!!r.evaluate(e)}catch(e){return console.error("seedtag evaluating error",e),!1}});return r?new u.TemplateModel(r):null},TemplateLocator.prototype.shouldObserveUrl=function(e){return!!e.integration.contentRoot},TemplateLocator.prototype.urlChangeListener=function(){window.addEventListener("pushstate",this.changeListener)},o([c.Subscribe("engine","kill"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],TemplateLocator.prototype,"onKill",null),o([c.Publish("engine","reset.request"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],TemplateLocator.prototype,"requestReset",null),o([c.Publish("template","selected"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TemplateLocator.prototype,"publishTemplate",null),o([c.Publish("template","selected.after"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TemplateLocator.prototype,"publishTemplateAfter",null),o([c.Subscribe("adserver","ready"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TemplateLocator.prototype,"onAdserverReady",null),o([c.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TemplateLocator.prototype,"onConfigReceived",null),TemplateLocator}(c.GohanComponent);t.TemplateLocator=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(303);t.AdUnitLocator=r.AdUnitLocator},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(88),c=n(87),u=n(99),l=n(198),p=n(304),d=n(136),f=n(160),h=function(e){function AdUnitLocator(){var t=null!==e&&e.apply(this,arguments)||this;return t.active=!0,t.taggedList=[],t.sizeLimits=null,t}return i(AdUnitLocator,e),AdUnitLocator.prototype.onFeatures=function(e){this.sizeLimits=s.get(e,"features.sizeLimits.value")||{}},AdUnitLocator.prototype.onTemplate=function(e){var t,n,r=e.template;r.adUnits=(t=r.adUnits,n={token:this.context.config.token,country:e.config.publisher.country},t.map(function(e){return e.publisherModel=n,e})),r&&this.find(r)},AdUnitLocator.prototype.onReset=function(){this.locator.stopFind()},AdUnitLocator.prototype.onPassback=function(){this.active=!1},AdUnitLocator.prototype.find=function(e){this.locator=this.makeStrategy(e),this.locator.findAdUnits(this.onLocate.bind(this))},AdUnitLocator.prototype.onLocate=function(e){if(this.active){var t=e.model,n=e.element;if(t.gallery=new d.GalleryData(t.gallery),t.type!==u.AdUnitType.inScreen&&!l.hasProperSize(n,this.sizeLimits))return this.rejectBySize(t),void(this.locator.retry&&this.locator.retry(t));if(t.type===u.AdUnitType.oldGallery)n=this.context.get("factory.evaluable")(t.evaluable).evaluate(document.body);if(-1!==this.taggedList.indexOf(n))return this.locator.retry(t);this.taggedList.push(n);var r=this.createAdUnit(n,t);r.onInsert(),this.context.publish({channel:"adunit",topic:"found",data:{adunit:r}})}},AdUnitLocator.prototype.makeStrategy=function(e){return new p.TemplateStrategy(this.context,{adUnits:e.getAdUnits(),sizeLimits:this.sizeLimits,enableAdRequests:!0,contentRoot:e.integration.contentRoot})},AdUnitLocator.prototype.rejectBySize=function(e){return{adunitModel:e,reason:"size"}},AdUnitLocator.prototype.createAdUnit=function(e,t){return f.AdUnitFactory.get({model:t,el:e,context:this.context})},o([c.Subscribe("features","response"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AdUnitLocator.prototype,"onFeatures",null),o([c.Subscribe("template","selected.after"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AdUnitLocator.prototype,"onTemplate",null),o([c.Subscribe("engine","kill"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdUnitLocator.prototype,"onReset",null),o([c.Subscribe("passback","activated"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdUnitLocator.prototype,"onPassback",null),o([c.Publish("adunit","reject"),a("design:type",Function),a("design:paramtypes",[u.AdUnitModel]),a("design:returntype",void 0)],AdUnitLocator.prototype,"rejectBySize",null),AdUnitLocator}(c.GohanComponent);t.AdUnitLocator=h},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(99),a=n(305),s=n(102),c=function(e){function TemplateStrategy(t,n){var r=e.call(this,t,n)||this;r.active=!1,r.adUnitList=[],r.elements=[];var i=r.options.adUnits;return r.screenList=i.filter(function(e){return e.type===o.AdUnitType.inScreen})[0],r.adUnitList=i.filter(function(e){return e.type!==o.AdUnitType.inScreen}),r}return i(TemplateStrategy,e),TemplateStrategy.prototype.findAdUnits=function(t){e.prototype.findAdUnits.call(this,t),this.findInScreen()},TemplateStrategy.prototype.retry=function(e){this.adUnitList.push(e)},TemplateStrategy.prototype.startFind=function(){this.active=!0,this.loop()},TemplateStrategy.prototype.stopFind=function(){this.active=!1,clearTimeout(this.timer)},TemplateStrategy.prototype.loop=function(){var e=this;this.active&&this.adUnitList.length&&(this.find(),clearTimeout(this.timer),this.timer=setTimeout(function(){return e.loop()},500))},TemplateStrategy.prototype.find=function(){var e=this,t=[];this.adUnitList.forEach(function(n,r){var i=null;try{if(n.gallery&&n.gallery.active){var o=n.gallery.activeLocationExpression.simpleSelector,a=new Function(o)();i=a?a.querySelector(n.gallery.nestedImageSelector):void 0}else i=e.runCode(n.evaluable?n.evaluable.expression:"")}catch(e){t.push(r)}i&&-1===e.elements.indexOf(i)&&(e.elements.push(i),t.push(r),e.callback&&e.callback({element:i,model:n}))}),t.reverse(),t.forEach(function(t){return e.adUnitList.splice(t,1)})},TemplateStrategy.prototype.findInScreen=function(){this.screenList&&s.DeviceDetector.isMobile()&&this.callback&&this.callback({element:document.body,model:this.screenList})},TemplateStrategy}(a.BaseStrategy);t.TemplateStrategy=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),a=n(135),s=n(199),c=function(e){function BaseStrategy(t,n){var r=e.call(this,t)||this;return r.library=new a.IntegrationTool,r.library.sizeLimits=n.sizeLimits,n.contentRoot&&(r.library.contentRoot=r.runCode(n.contentRoot)),r.options=n,r}return i(BaseStrategy,e),BaseStrategy.prototype.setUp=function(){},BaseStrategy.prototype.findAdUnits=function(e){this.callback=e,this.startFind()},BaseStrategy.prototype.runCode=function(e){return new s.EvaluableJs(e,{environment:{lib:this.library.getMethods()}}).evaluate(document.body)},BaseStrategy.prototype.retry=function(e){},BaseStrategy}(o.GohanComponent);t.BaseStrategy=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.knownGalleries=[{name:"iol",condition:"return document.getElementById('iol_gallery_slider')",gallery:{activeLocationExpression:{simpleSelector:"return document.querySelector('#iol_gallery_slider_bx li[aria-hidden=\"false\"]')",slidesLocator:"return document.querySelectorAll('#iol_gallery_slider_bx li')",comparator:"",referenceLocator:""},nestedImageSelector:"",transitions:2,overEagerLoading:1,loop:!0,active:!0,startingSlideIndex:0}},{name:"royalSlider",condition:"return document.querySelector('.royalSlider')",gallery:{activeLocationExpression:{simpleSelector:"",slidesLocator:"return document.querySelectorAll('.rsSlide')",comparator:"var transform = reference.style.transform; var style = Math.abs(transform.substring(transform.indexOf('(') + 1, transform.indexOf('px'))); return style === Number(slide.style.left.replace('px', ''));",referenceLocator:"return document.querySelector('.rsContainer')"},nestedImageSelector:"img",transitions:2,overEagerLoading:1,loop:!0,active:!0,startingSlideIndex:0}},{name:"crecerFelizCustomGallery",condition:"return document.querySelector('.galimg.gallery-slideshow-container')",gallery:{activeLocationExpression:{simpleSelector:"return document.querySelectorAll('.galimg.gallery-slideshow-container:not([style=\"display: none;\"])')",slidesLocator:"return document.querySelectorAll('.galimg.gallery-slideshow-container')",comparator:"",referenceLocator:""},nestedImageSelector:"img",transitions:2,overEagerLoading:1,loop:!0,active:!0,startingSlideIndex:0}},{name:"dennisGallery",condition:"return document.querySelector('ol.gallery-list')",gallery:{activeLocationExpression:{simpleSelector:"return document.querySelector('.swiper-slide-active')",slidesLocator:"return document.querySelectorAll(.gallery-item')",comparator:"",referenceLocator:""},nestedImageSelector:"img",transitions:3,overEagerLoading:1,loop:!1,active:!0,startingSlideIndex:0}},{name:"animeMangaGallery",condition:"return document.querySelector('figure.gallery-holder img#photo')",gallery:{activeLocationExpression:{simpleSelector:"return document.querySelector('figure.gallery-holder img#photo')",slidesLocator:"return document.querySelectorAll('figure.gallery-holder img#photo')",comparator:"",referenceLocator:""},nestedImageSelector:"",transitions:2,overEagerLoading:0,loop:!1,active:!0,startingSlideIndex:0}},{name:"slickSlider",condition:"return document.querySelector('.slick-initialized.slick-slider')",gallery:{activeLocationExpression:{simpleSelector:"return document.querySelector('.slick-slide.slick-current:not(.slick-cloned):not([aria-hidden=\"true\"])')",slidesLocator:"return document.querySelectorAll('.slick-slide:not(.slick-cloned):not([style=\"width: 0px;\"])')",comparator:"",referenceLocator:""},nestedImageSelector:"img",transitions:2,overEagerLoading:1,loop:!0,active:!0,startingSlideIndex:0}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88),i=function(){function GalleryData(e){this.activeLocationExpression={simpleSelector:"",slidesLocator:"",comparator:"",referenceLocator:""},this.nestedImageSelector="",this.transitions=0,this.overEagerLoading=0,this.loop=!0,this.active=!1,this.startingSlideIndex=0,e&&r.assign(this,e),e&&e.activeLocationExpression&&r.assign(this.activeLocationExpression,e.activeLocationExpression)}return GalleryData.prototype.isValid=function(){return!!(!isNaN(this.overEagerLoading)&&this.overEagerLoading>=0&&!isNaN(this.transitions)&&this.transitions>=0&&this.activeLocationExpression.slidesLocator&&(this.activeLocationExpression.simpleSelector||this.activeLocationExpression.comparator&&this.activeLocationExpression.referenceLocator))},GalleryData}();t.GalleryData=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(109),i=n(89),o=n(135),a=console,s=function(){function GalleryDetectionHelper(e){var t=this;this.knownGalleries=i.StArray.from([]),this.trackingIntervalMS=400,this.hooks={},this.isTracking=!1,this.active$=new r.Stream,this.subscriberCount=0,this.libMethods=(new o.IntegrationTool).getMethods(),e.hooks&&(this.hooks=e.hooks),e.trackingIntervalMS&&(this.trackingIntervalMS=e.trackingIntervalMS),e.knownGalleries&&(this.knownGalleries=i.StArray.from(e.knownGalleries)),this.loop=e.gallery.loop,this.nestedImageSelector=e.gallery.nestedImageSelector,this.getSlides=function(){return i.StArray.from(t.fnParse(e.gallery.activeLocationExpression.slidesLocator)())},this.setLocateActive(e.gallery.activeLocationExpression)}return GalleryDetectionHelper.prototype.getSlides=function(){return i.StArray.from([])},GalleryDetectionHelper.prototype.identifyGallery=function(){var e=this;return this.knownGalleries.find(function(t){return!!e.fnParse(t.condition)()})},GalleryDetectionHelper.prototype.getNextSlides=function(){var e=this,t=this.getSlides(),n=i.StArray.from([]),r=i.StArray.from([]),o=t.map(function(t){return e.getActiveFromSlide(t)}).indexOf(this.active);return t.forEach(function(t,i){o>i&&n.push(e.getActiveFromSlide(t)),o<i&&r.push(e.getActiveFromSlide(t))}),this.loop?n.concat(r):n},GalleryDetectionHelper.prototype.subscribe=function(e,t){var n=this,r=this.active$.subscribe(e,t);return this.subscriberCount++,this.trackActive(),function(){r(),--n.subscriberCount||n.stopTrackingActive()}},GalleryDetectionHelper.prototype.trackActive=function(){var e=this;this.isTracking||(this.isTracking=!0,clearInterval(this.trackingInterval),this.trackingInterval=setInterval(function(){var t=e.locateActive();e.assessActiveHasChanged(t)&&(e.lastActiveClone=t&&t.cloneNode(),e.active=t,e.emitActiveChange())},this.trackingIntervalMS))},GalleryDetectionHelper.prototype.stopTrackingActive=function(){clearInterval(this.trackingInterval),this.isTracking=!1},GalleryDetectionHelper.prototype.isSingleDynamicSlide=function(){return 1===this.getSlides().length},GalleryDetectionHelper.prototype.getSlideSource=function(e){return e?/^img$/i.test(e.tagName)?e.getAttribute("src"):e.style.backgroundImage:null},GalleryDetectionHelper.prototype.assessActiveHasChanged=function(e){return this.isSingleDynamicSlide()?this.getSlideSource(e)!==this.getSlideSource(this.lastActiveClone):e!==this.active},GalleryDetectionHelper.prototype.emitActiveChange=function(){this.active$.next(this.active)},GalleryDetectionHelper.prototype.emmitActiveError=function(e){this.active$.throw(e),a.error(e)},GalleryDetectionHelper.prototype.setLocateActive=function(e){var t=this,n=function(){};if(e.simpleSelector)n=this.fnParse(e.simpleSelector);else{var r=this.fnParse(e.slidesLocator),o=this.fnParse("slide","reference",e.comparator),a=this.fnParse(e.referenceLocator);n=function(){var e=Array.from(r()),n=a();return i.StArray.from(e).find(function(e){return t.fnRun(o,e,n)})}}this.locateActive=function(){return t.getActiveFromSlide(n())}},GalleryDetectionHelper.prototype.getActiveFromSlide=function(e){return this.nestedImageSelector&&e?e.querySelector(this.nestedImageSelector):e},GalleryDetectionHelper.prototype.fnParse=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{var r=t.slice(0,t.length-1),i=t.slice(t.length-1,t.length);t=(t.length>1?r:[]).concat(["lib"],i),this.hooks.beforeParse&&this.hooks.beforeParse(t);var o=new(Function.bind.apply(Function,[void 0].concat(t)));return this.hooks.afterParse&&this.hooks.afterParse(o,t),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.fnRun.apply(e,[o].concat(t))}}catch(e){return this.emmitActiveError({message:"Error parsing js expression",error:e,args:t}),function(){}}},GalleryDetectionHelper.prototype.fnRun=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];try{t.push(this.libMethods),this.hooks.beforeRun&&this.hooks.beforeRun(e,t);var r=e.apply(void 0,t);return this.hooks.afterRun&&this.hooks.afterRun(e,t,r),r}catch(n){return void this.emmitActiveError({message:"Error running js expression",error:n,args:t,fn:e})}},GalleryDetectionHelper}();t.GalleryDetectionHelper=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(88),a=function(e){function InImageAdUnit(){return null!==e&&e.apply(this,arguments)||this}return i(InImageAdUnit,e),InImageAdUnit.prototype.mount=function(){this.tagElement.parentNode.insertBefore(this.$el,this.tagElement.nextSibling)},InImageAdUnit.prototype.getClassName=function(){return"st-in-image"},InImageAdUnit.prototype.getZindex=function(){return e.prototype.getZindex.call(this)},InImageAdUnit.prototype.getPosition=function(){return o.Util.offset(this.tagElement)},InImageAdUnit.prototype.getImageSize=function(){var e=o.getElementSize(this.tagElement),t=this.getAdditionalRenderingData();return{x:e.x+t.addToWidth,y:e.y+t.addToTop+t.addToHeight}},InImageAdUnit}(n(110).AdUnit);t.InImageAdUnit=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(200),a=n(92),s=n(182),c=function(e){function InScreenInsertBehaviour(){var t=null!==e&&e.apply(this,arguments)||this;return t.canInsert=!1,t}return i(InScreenInsertBehaviour,e),InScreenInsertBehaviour.prototype.canInsertAd=function(){return this.canShow()},InScreenInsertBehaviour.prototype.onAdPicked=function(){var e=this;s.Scheduler.scheduler.schedule(0,50,function(){return e.onScroll()}),this.onScroll()},InScreenInsertBehaviour.prototype.onScroll=function(){this.canInsert=this.canShow(),this.canInsert?this.instance.show():this.instance.hide(),this.instance.state.adInserted||this.instance.tryInsertAd()},InScreenInsertBehaviour.prototype.canShow=function(){var e=this;return o.AdUnitFactory.getAdUnits().filter(function(t){return t!==e.instance}).every(function(e){return!e.ad||e.isOverViewport()})},InScreenInsertBehaviour}(a.Behaviour);t.InScreenInsertBehaviour=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),o=n(99),a=n(136),s=n(110),c=function(){function AdUnitGallery(e,t){this.adUnitList=i.StArray.from([]),this.validSlideCount=0,this.maxCountForNaming=10,this.context=e,this.model=t.model,this.isAggresive=this.getIsAggresive(this.model.name),this.galleryDH=new a.GalleryDetectionHelper(this.model),this.subs=this.galleryDH.subscribe(this.onActiveChange.bind(this))}return AdUnitGallery.prototype.onActiveChange=function(e){this.adUnitList.forEach(function(e){return e.adUnit.hide()});var t=!(!e||!this.isAggresive&&!this.assessCount(this.validSlideCount));this.countUp(),t&&(this.createAdUnit(e,!0),this.overEagerLoad())},AdUnitGallery.prototype.createAdUnit=function(e,t){var n=this;void 0===t&&(t=!0);var i=this.adUnitList.find(function(t){return n.galleryDH.isSingleDynamicSlide()?t.src===n.galleryDH.getSlideSource(e):t.adUnit.tagElement===e});if(i&&t){if(this.isOnDom(i.adUnit.$el))return i.adUnit.show();this.adUnitList=this.adUnitList.filter(function(e){return e.src!==i.src})}var a=this.adUnitList.length+1<=this.maxCountForNaming?String(this.adUnitList.length+1):this.maxCountForNaming+"_plus",c=new s.AdUnit(this.context,{tagElement:e,model:new o.AdUnitModel(r({},this.model.getData(),{name:this.model.name+"_gallery_"+a})),canMakeAdRequest:!0});t||c.hide(),c.onInsert(),this.context.publish({channel:"adunit",topic:"found",data:{adunit:c}}),this.adUnitList.push({src:this.galleryDH.getSlideSource(e),adUnit:c})},AdUnitGallery.prototype.isOnDom=function(e){return document.body.contains(e)},AdUnitGallery.prototype.overEagerLoad=function(){var e=this.model.gallery.overEagerLoading;if(e)for(var t=this.galleryDH.getNextSlides(),n=0;n<t.length&&e;n++)e--,this.assessCount(this.validSlideCount+n)&&this.createAdUnit(t[n],!1)},AdUnitGallery.prototype.getIsAggresive=function(e){return/^aggresive_/.test(e)},AdUnitGallery.prototype.assessCount=function(e){var t=this.model.gallery?this.model.gallery.startingSlideIndex:0;return e>=t&&!((e-t)/this.model.gallery.transitions%1)},AdUnitGallery.prototype.countUp=function(){return this.validSlideCount++},AdUnitGallery}();t.AdUnitGallery=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(88),c=n(89),u=n(87),l=n(110);var p=function(e){function Sherlock(){var t=null!==e&&e.apply(this,arguments)||this;return t.model=c.StArray.from([]),t.anyTaggedContentFound=!1,t}return i(Sherlock,e),Sherlock.prototype.setUp=function(){var e=this.context;e.addFilter("srcFilter",this.srcFilter.bind(this)),e.set("Sherlock",this)},Sherlock.prototype.subConfig=function(e){var t=e.config.url;t&&t.images&&e.config.url&&(this.model=c.StArray.from(e.config.url.images));var n=s.get(e,"config.url.canonicalUrl");n&&(this.canonicalUrl=n,this.context.set("Sherlock-canonical-url",this.canonicalUrl));var r=s.get(e.config,"publisher.baseSrcEvaluable");r&&(this.baseSrcEvaluable=this.context.get("factory.evaluable")(r))},Sherlock.prototype.subToAdUnitFound=function(e){var t=e.adunit,n=t.getTaggedElement(),r=this.getId(n),i=this.getImageData(r);this.contentCheck(),i&&i.taggingConfiguration&&(this.anyTaggedContentFound=!0),r.image.canonicalSrc&&this.pubImageResolved(t,r,i)},Sherlock.prototype.pubImageResolved=function(e,t,n){return{adunit:e,id:t,data:n}},Sherlock.prototype.contentCheck=function(){var e=this;clearTimeout(this.contentTimer),this.contentTimer=setTimeout(function(){e.context.publish({channel:"sherlock",topic:"content",data:{hasContent:e.anyTaggedContentFound}})},3e3)},Sherlock.prototype.getImageData=function(e){return this.model.find(function(t){return t.canonicalSrc===e.image.canonicalSrc})||null},Sherlock.prototype.getId=function(e){return{image:{src:this.getBaseSrc(e),canonicalSrc:this.getCanonicalSrc(e)},url:{url:(t=window.location.href,function(e,t,n){return e.split(t)[n]}(t,"#",0)),canonicalUrl:this.getCanonicalUrl()}};var t},Sherlock.prototype.getCanonicalUrl=function(){return this.canonicalUrl},Sherlock.prototype.getCanonicalSrc=function(e){var t=this.getBaseSrc(e);return this.context.filter("srcFilter",t)},Sherlock.prototype.getLocation=function(){return window.location.href},Sherlock.prototype.srcFilter=function(e){return e.replace(/^https?:\/\/.*?\//,"/")},Sherlock.prototype.getBaseSrc=function(e){var t=e.getAttribute("src")||"";if(!t&&e.getAttribute("srcset")&&(t=e.getAttribute("srcset").split(" ")[0]),!t&&e.getAttribute("href")&&(t=e.getAttribute("href").split(" ")[0]),!t){var n=window.getComputedStyle(e);n.backgroundImage&&(t=n.backgroundImage.replace(/url\("?'?/g,"").replace(/"?'?\)/,""))}var r=this.getPublisherKey(e);return r&&(t=r),t},Sherlock.prototype.getPublisherKey=function(e){var t="",n=this.baseSrcEvaluable;if(n)try{var r=n.evaluate({element:e});if("string"!=typeof r)throw new Error("base src must be an string");t=r}catch(e){console.error("baseSrcEvaluable evaluating error",e)}return t},o([u.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],Sherlock.prototype,"subConfig",null),o([u.Subscribe("adunit","found"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],Sherlock.prototype,"subToAdUnitFound",null),o([u.Publish("sherlock","id.resolved"),a("design:type",Function),a("design:paramtypes",[l.AdUnit,Object,Object]),a("design:returntype",Object)],Sherlock.prototype,"pubImageResolved",null),Sherlock}(u.GohanComponent);t.Sherlock=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=function(e){function QuantcastService(){return null!==e&&e.apply(this,arguments)||this}return i(QuantcastService,e),QuantcastService.prototype.setUp=function(){},QuantcastService.prototype.onConfigRecieved=function(e){"BR"===e.config.publisher.country&&this.setQuantcastPixel()},QuantcastService.prototype.setQuantcastPixel=function(){window._qevents=window._qevents||[],window._qevents.push({qacct:"p-PFW5FesqXn206",event:"refresh"});var e=document.createElement("script"),t=document.getElementsByTagName("script")[0],n=t.parentNode,r="https:"===document.location.protocol?"https://secure":"http://edge";r+=".quantserve.com/quant.js",e.src=r,e.async=!0,e.type="text/javascript",n&&n.insertBefore(e,t)},o([s.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],QuantcastService.prototype,"onConfigRecieved",null),QuantcastService}(s.GohanComponent);t.QuantcastService=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c="https://sb.scorecardresearch.com/p?c1=8&c2=26817122&c3=seedtag&c7=${fullPageUrlEncoded}&c9=${referrerUrlEncoded}&cv=2.0&cj=1",u="http://b.scorecardresearch.com/p?c1=8&c2=26817122&c3=seedtag&c7=${fullPageUrlEncoded}&c9=${referrerUrlEncoded}&cv=2.0&cj=1",l=function(e){function ComscoreService(t){var n=e.call(this,t)||this;return n.adunitTracked=[],n.comscoreHttpPixelUrl=u,n.comscoreHttpsPixelUrl=c,n}return i(ComscoreService,e),ComscoreService.prototype.setUp=function(){},ComscoreService.prototype.onConfig=function(e){this.country=e.config.publisher.country},ComscoreService.prototype.onAdResponse=function(e){if(this.mustTrack(e.adunit)){var t=window.location.href,n=window.document.referrer,r=this.getComscorePixel(),i=this.buildPixel(r,t,n);this.insertPixelInDocument(i)}},ComscoreService.prototype.mustTrack=function(e){return"BR"===this.country&&(!!e.model.name&&(!(this.adunitTracked.indexOf(e.model.name)>-1)&&(this.adunitTracked.push(e.model.name),!0)))},ComscoreService.prototype.getComscorePixel=function(){return"https:"===this.getProtocol()?this.comscoreHttpPixelUrl:this.comscoreHttpsPixelUrl},ComscoreService.prototype.buildPixel=function(e,t,n){return e.replace(/\${fullPageUrlEncoded}/gi,t).replace(/\${referrerUrlEncoded}/gi,n)},ComscoreService.prototype.insertPixelInDocument=function(e){var t=document.createElement("img");t.style.display="none",t.src=e,document.body.appendChild(t)},ComscoreService.prototype.getProtocol=function(){return window.location.protocol},o([s.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],ComscoreService.prototype,"onConfig",null),o([s.Subscribe("adunit","ad.request"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],ComscoreService.prototype,"onAdResponse",null),ComscoreService}(s.GohanComponent);t.ComscoreService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(316);t.ConfigService=r.ConfigService;var i=n(161);t.TagManagerConfig=i.TagManagerConfig},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(87),l=n(161),p=n(317),d=n(89),f=n(114),h=n(91),g=n(94),y=n(88),v=n(203),m=n(172),b="/config",_=d.StArray.from([/proxy/,/localhost/,/\.local/,/^dev\./,/\.pre$ /,/\.int$/]),w=function(e){function ConfigService(t,n){var r=e.call(this,t)||this;r.features=u.DEFAULT_FEATURES,r.configStorage=n.configStorage,r.configRequest=n.configRequest,r.isValidDomain=n.isValidDomain;var i=r.context.config.servingConfigUrl;return r.url=i+b,r.token=r.context.config.token,r.gdpr=r.context.config.gdpr,r}return i(ConfigService,e),ConfigService.prototype.subscribeToAppRun=function(){this.run().catch(function(e){f.ErrorHandler.trackError(e)})},ConfigService.prototype.publishUserDetected=function(e){return{user:e}},ConfigService.prototype.publishConfigInfo=function(e){return{config:e}},ConfigService.prototype.publishConfigReceived=function(e){return{config:e}},ConfigService.prototype.onFeaturesRequested=function(){this.featuresResponse(this.features)},ConfigService.prototype.featuresResponse=function(e){return{features:e}},ConfigService.prototype.run=function(){return s(this,void 0,void 0,function(){var e,t,n,r,i;return c(this,function(o){switch(o.label){case 0:return t=location.host,this.isValidDomain(this.context,t,_)?(r=this.configStorage.getLocalStorage())?[4,this.getConfigHashed(r.publisher)]:[3,2]:(console.error("seedtag has stopped, reason: Not valid domain (port .int .local)"),[2]);case 1:return n=o.sent(),[3,4];case 2:return i=void 0,[4,this.getConfig()];case 3:e=o.sent(),n=e[0],i=e[1],this.configStorage.setLocalStorage(i),o.label=4;case 4:return this.features=this.getFeatures(n),this.context.config.publisherFeatures=this.features,this.featuresResponse(this.features),n.user&&n.user.username&&(n=v.passConfigOverride(this.storageVars.configOverride,n),this.publishUserDetected(n.user)),this.publishConfigInfo(n),(1===n.version||v.isActive(n))&&this.publishConfigReceived(n),[2]}})})},ConfigService.prototype.getConfigHashed=function(e){return s(this,void 0,void 0,function(){var t,n,r,i;return c(this,function(o){switch(o.label){case 0:return t=v.calcMD5(e),[4,this.configRequest(this.token,this.url,this.gdpr,t)];case 1:return(n=o.sent()).publisher?this.configStorage.setLocalStorage(n):n.publisher=e,r=v.decodeConfig(n),i=new p.TagManagerConfigImpl(r),this.context.config.gdpr.gdprApplies=r.ga,[2,i]}})})},ConfigService.prototype.getConfig=function(){return s(this,void 0,void 0,function(){var e,t,n;return c(this,function(r){switch(r.label){case 0:return[4,this.configRequest(this.token,this.url,this.gdpr)];case 1:return e=r.sent(),t=v.decodeConfig(e),n=new p.TagManagerConfigImpl(t),this.context.config.gdpr.gdprApplies=t.ga,[2,[n,e]]}})})},ConfigService.prototype.getFeatures=function(e){var t=e.publisher.country,n=this.storageVars.features.get().getOrElse({trackOnView:!1}).trackOnView;return y.assign(this.features,e.publisher.features||{},{lowPriority:{enabled:this.isLowPriorityCountry(t)},trackOnView:{enabled:n||this.trackOnView(t)}})},ConfigService.prototype.isLowPriorityCountry=function(e){return void 0===e&&(e=""),/^(ES|BR)$/i.test(e)},ConfigService.prototype.trackOnView=function(e){return void 0===e&&(e=""),"BR"===e},o([h.Inject,a("design:type",g.SeedtagStorageVars)],ConfigService.prototype,"storageVars",void 0),o([u.Subscribe("engine","run"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],ConfigService.prototype,"subscribeToAppRun",null),o([u.Publish("user","detected"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],ConfigService.prototype,"publishUserDetected",null),o([u.Publish("config","info"),a("design:type",Function),a("design:paramtypes",[l.TagManagerConfig]),a("design:returntype",void 0)],ConfigService.prototype,"publishConfigInfo",null),o([u.Publish("config","received"),a("design:type",Function),a("design:paramtypes",[l.TagManagerConfig]),a("design:returntype",void 0)],ConfigService.prototype,"publishConfigReceived",null),o([u.Subscribe("features","request"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],ConfigService.prototype,"onFeaturesRequested",null),o([u.Publish("features","response"),a("design:type",Function),a("design:paramtypes",[m.PublisherFeatures]),a("design:returntype",void 0)],ConfigService.prototype,"featuresResponse",null),ConfigService}(u.GohanComponent);t.ConfigService=w},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(89),a=n(88),s="Disabled",c="URL",u="Publisher",l=function(e){function TagManagerConfigImpl(t){var n=e.call(this)||this;return n.config=t,n.configRequested=a.ImmutabilityHelper.copy(t),n.checkBlacklisted(),n}return i(TagManagerConfigImpl,e),Object.defineProperty(TagManagerConfigImpl.prototype,"adNetworks",{get:function(){return this.config.publisher.an},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"blacklisted",{get:function(){return"URL"===this.blacklist||!this.config.url.active},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"blacklistedReason",{get:function(){if(this.blacklist){if(this.blacklist===c)return{name:this.blacklist,value:this.config.url.blacklistedWord};if(this.blacklist===s)return{name:this.blacklist,value:"true"};if(this.blacklist===u){var e=this.config.url.admin.inactiveReason.match(/Publisher blacklisted (.*)/),t=e?e[1]:"";return{name:this.blacklist,value:t}}}},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"sc",{get:function(){return this.config.sc},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"blacklistedWord",{get:function(){return this.config.url.blacklistedWord},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"brandsafe",{get:function(){return this.config.url.brandsafe},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"canonicalUrl",{get:function(){return this.config.url.canonicalUrl},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"category",{get:function(){return this.config.url.category?this.config.url.category:"-"},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"configGenuine",{get:function(){return this.configRequested},set:function(e){this.config=e},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"cookies",{get:function(){return this.config.cookies},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"formats",{get:function(){return this.config.publisher.formats},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"hash",{get:function(){return this.config.hash},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"publisher",{get:function(){var e=this,t={};return Object.keys(this.config.publisher).forEach(function(n){void 0!==e.config.publisher[n]&&(t[n]=e.config.publisher[n])}),t.yieldPriority=this.config.publisher.yieldPriority,t},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"publisherV2",{get:function(){return this.config.publisher},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"subcategory",{get:function(){return this.config.url.subcategory||"-"},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"templates",{get:function(){return this.config.publisher.templates},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"url",{get:function(){return{id:this.config.url.id,url:this.config.url.url,canonicalUrl:this.config.url.canonicalUrl,images:this.config.url.images,taggingConfiguration:{whitelisted:!!this.config.url.whitelisted,overridenCategory:this.config.url.overridenCategory,overridenSubcategory:this.config.url.overridenSubcategory,disabled:this.blacklist===s},contextualization:{status:this.config.url.contextualizationStatus,contextData:{categories:o.StArray.from(this.config.url.contextCategory?[this.config.url.contextCategory]:[]),subcategories:o.StArray.from(this.config.url.contextSubcategory?[this.config.url.contextSubcategory]:[]),customCategories:this.config.url.customCategories}}}},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"user",{get:function(){return this.config.user},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"userAgentInfo",{get:function(){return this.config.uai},enumerable:!0,configurable:!0}),Object.defineProperty(TagManagerConfigImpl.prototype,"version",{get:function(){return 2},enumerable:!0,configurable:!0}),TagManagerConfigImpl.prototype.checkBlacklisted=function(){this.config.url&&(!0==!!this.config.url.active&&-1!==["false","unknown"].indexOf(this.config.url.brandsafe)?this.blacklist=c:!1==!!this.config.url.active&&this.config.url.admin&&("Disabled"===this.config.url.admin.inactiveReason&&(this.blacklist=s),this.config.url.admin.inactiveReason.startsWith("Publisher")&&(this.blacklist=u)))},TagManagerConfigImpl}(n(161).TagManagerConfig);t.TagManagerConfigImpl=l},,function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(88),c=n(87),u=n(99),l=n(160),p=n(201),d=function(e){function PassbackService(){var t=null!==e&&e.apply(this,arguments)||this;return t.passback=null,t.timer=null,t.template=null,t.calledInImage=!1,t.calledInScreen=!1,t.inImageAdUnit=0,t.noAdInImage=0,t.inScreenAdUnit=0,t.noAdInScreen=0,t}return i(PassbackService,e),PassbackService.prototype.callPassbackInImage=function(){this.passback&&this.passback.inImage&&!this.calledInImage&&(this.calledInImage=!0,this.calledInScreen||this.context.publish({channel:"passback",topic:"activated"}),this.pastePassback(u.AdUnitType.inImage))},PassbackService.prototype.callPassbackInScreen=function(){this.passback&&this.passback.inScreen&&!this.calledInScreen&&(this.calledInScreen=!0,this.calledInImage||this.context.publish({channel:"passback",topic:"activated"}),this.pastePassback(u.AdUnitType.inScreen))},PassbackService.prototype.onTemplate=function(e){this.passback=s.get(e,"config.publisher.passback",null),this.template=e.template,this.template&&this.template.adUnits.length?this.passbackTimer():(this.callPassbackInImage(),this.callPassbackInScreen())},PassbackService.prototype.onAdunit=function(e){clearTimeout(this.timer),e instanceof p.InScreenAdUnit?this.inScreenAdUnit+=1:this.inImageAdUnit+=1},PassbackService.prototype.noAd=function(e){e instanceof p.InScreenAdUnit?this.noAdInScreen+=1:this.noAdInImage+=1,this.noAdInImage>=this.inImageAdUnit&&this.callPassbackInImage(),this.noAdInScreen>=this.inScreenAdUnit&&this.callPassbackInScreen()},PassbackService.prototype.passbackTimer=function(){var e=this;this.timer=setTimeout(function(){e.callPassbackInImage(),e.callPassbackInScreen()},7e3)},PassbackService.prototype.pastePassback=function(e){var t=this;try{setTimeout(function(){var n=document.createElement("script");n.id="passback-"+e,n.innerHTML=""+t.passback[e].replace(/(<script.*>)([\s\S]*)(<\/script>)/i,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[2]}),document.body.appendChild(document.createComment("seedtag passback")),document.body.appendChild(n)},0)}catch(e){}},o([c.Subscribe("template","selected"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],PassbackService.prototype,"onTemplate",null),o([c.Subscribe("adunit","found"),a("design:type",Function),a("design:paramtypes",[l.AdUnit]),a("design:returntype",void 0)],PassbackService.prototype,"onAdunit",null),o([c.Subscribe("adserver","ad.not-resolved"),a("design:type",Function),a("design:paramtypes",[l.AdUnit]),a("design:returntype",void 0)],PassbackService.prototype,"noAd",null),PassbackService}(c.GohanComponent);t.PassbackService=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function InspectService(){return null!==e&&e.apply(this,arguments)||this}return i(InspectService,e),InspectService.prototype.setUp=function(){var e=this.context;window._seedtagInspect={},e.subscribe({channel:"config",topic:"received",callback:function(e){console.log("**** CONFIG RECEIVED ****"),window._seedtagInspect.config=e.config}}),e.subscribe({channel:"template",topic:"selected",callback:function(e){window._seedtagInspect.template=e.template}}),console.log("**** INSPECT SERVICE READY ****")},InspectService}(n(87).GohanComponent);t.InspectService=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(87),l=n(91),p=n(322),d=n(93),f=n(162),h=n(343),g=n(99),y=n(103),v=n(105),m={onResponse:function(e,t){e.winner&&t.model.type===g.AdUnitType.inScreen&&e.winner.ad.format!==y.Format.f600x150&&(e.winner=v.makeNoAd(e.winner.request,d.NetworkReason.adSpace))}},b=function(e){function AdServer(){var t=null!==e&&e.apply(this,arguments)||this;return t.isReady=!1,t.adQueue=[],t.bussy=!1,t}return i(AdServer,e),AdServer.prototype.notifyReady=function(){},AdServer.prototype.notifyNotReady=function(){},AdServer.prototype.notifyAdPicked=function(e,t){return{admodel:t,adunit:e}},AdServer.prototype.notifyAdRequest=function(e,t){return{adunit:e,request:t}},AdServer.prototype.notifyAdResolved=function(e,t){return{adunit:e,admodel:t}},AdServer.prototype.notifyNotResolved=function(e){return{adunit:e}},AdServer.prototype.reportAdapterResponse=function(e){return this.getResponseContextMessage(e)},AdServer.prototype.reportNetworkResponse=function(e){return this.getResponseContextMessage(e)},AdServer.prototype.getResponseContextMessage=function(e){return{adunit:e.request.adUnit,adapter:e.request.adapter,network:e.request.network,step:e.request.step,status:e.status,reason:e.reason,time:e.time,errorCode:e.errorCode}},AdServer.prototype.reportLog=function(e,t,n){return{adunit:n.adUnit,adapter:n.adapter,network:t,step:n.step,message:e}},AdServer.prototype.subscribeToAppRun=function(){this.setupAdapters()},AdServer.prototype.subscribeToAdRequest=function(e){e&&e.adunit&&this.scheduleAd(e.adunit)},AdServer.prototype.setUp=function(){this.hooks=[],this.hooks.push(m),this.isReady=!1},AdServer.prototype.setupAdapters=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.parawaterfall.initialize()];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,Promise.all(this.parawaterfall.adapters.map(function(e){return e.start()}))];case 3:return e.sent(),this.isReady=!0,this.notifyReady(),this.processQueue(),[3,5];case 4:return e.sent(),this.notifyNotReady(),[3,5];case 5:return[2]}})})},AdServer.prototype.scheduleAd=function(e){this.adQueue.push(e),this.processQueue()},AdServer.prototype.processQueue=function(){return s(this,void 0,void 0,function(){var e,t,n,r=this;return c(this,function(i){switch(i.label){case 0:if(!this.isReady||this.bussy)return[2];if(!(e=this.adQueue.shift()))return[2];this.bussy=!0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.resolve(e,this.getTargeting(e),{onResponse:function(e){r.notifyResponseEvents(e)}})];case 2:return(t=i.sent()).winner?e.model.type===g.AdUnitType.inScreen&&t.winner.ad.format!==y.Format.f600x150?(t.winner=v.makeNoAd(t.winner.request,d.NetworkReason.adSpace),this.notifyNotResolved(e),this.reportAdapterResponse(t.winner)):(n=t.winner.ad,this.notifyAdPicked(e,n),this.notifyAdResolved(e,n)):this.notifyNotResolved(e),[3,4];case 3:return i.sent(),this.notifyNotResolved(e),[3,4];case 4:return this.bussy=!1,this.processQueue(),[2]}})})},AdServer.prototype.resolve=function(e,t,n){var r=this,i=this.getRequests(e,t);return this.notifyAdRequest(e,i[0]),this.iteratorFactory(i).run(n).then(function(t){return r.hooks.forEach(function(n){return n.onResponse(t,e)}),t})},AdServer.prototype.iteratorFactory=function(e){return this.context.config.publisherFeatures.lowPriority.enabled||!1?new h.LowPriorityIterator(e):new f.SequenceIterator(e)},AdServer.prototype.allElementsAreEqual=function(e){if(e.length)return!e.filter(function(t){return t!==e[0]}).length},AdServer.prototype.getAdapterReason=function(e){if(!e.networks.length)return e.reason;if(e.status===d.AdStatus.ad)return d.NetworkReason.winner;var t=e.networks.map(function(e){return e.reason});return this.allElementsAreEqual(t)?t[0]:d.NetworkReason.unknown},AdServer.prototype.notifyResponseEvents=function(e){this.notifyAdapterEvents(e),this.notifyNetworkEvents(e)},AdServer.prototype.notifyAdapterEvents=function(e){e.reason=this.getAdapterReason(e),this.reportAdapterResponse(e)},AdServer.prototype.notifyNetworkEvents=function(e){var t=this;e.networks.length?e.networks.forEach(function(e){t.reportNetworkResponse(e)}):this.reportNetworkResponse(e)},AdServer.prototype.getRequests=function(e,t){var n=[],r=[];if(this.parawaterfall.adapters.map(function(i,o){try{var a=i.getRequest(e,t);a.step=o,r.push(a)}catch(e){n.push(e)}}),n.length)throw n;return r},AdServer.prototype.getTargeting=function(e){var t={},n=this.context.subscribe({channel:"adunit",topic:"targeting.response",callback:function(e){return t=e.targeting}});return this.context.publish({channel:"adunit",topic:"targeting.request",data:{adunit:e}}),n.unsubscribe(),t},o([l.Inject,a("design:type",p.Parawaterfall)],AdServer.prototype,"parawaterfall",void 0),o([l.Inject,a("design:type",u.Context)],AdServer.prototype,"context",void 0),o([u.Publish("adserver","ready"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdServer.prototype,"notifyReady",null),o([u.Publish("adserver","not-ready"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdServer.prototype,"notifyNotReady",null),o([u.Publish("adserver","ad.picked"),a("design:type",Function),a("design:paramtypes",[Object,Object]),a("design:returntype",Object)],AdServer.prototype,"notifyAdPicked",null),o([u.Publish("adserver","ad.request"),a("design:type",Function),a("design:paramtypes",[Object,Object]),a("design:returntype",Object)],AdServer.prototype,"notifyAdRequest",null),o([u.Publish("adserver","ad.resolved"),a("design:type",Function),a("design:paramtypes",[Object,Object]),a("design:returntype",Object)],AdServer.prototype,"notifyAdResolved",null),o([u.Publish("adserver","ad.not-resolved"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AdServer.prototype,"notifyNotResolved",null),o([u.Publish("adapter","response"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",Object)],AdServer.prototype,"reportAdapterResponse",null),o([u.Publish("network","response"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",Object)],AdServer.prototype,"reportNetworkResponse",null),o([u.Publish("network","log"),a("design:type",Function),a("design:paramtypes",[Object,Object,Object]),a("design:returntype",Object)],AdServer.prototype,"reportLog",null),o([u.Subscribe("engine","run"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],AdServer.prototype,"subscribeToAppRun",null),o([u.Subscribe("adunit","ad.request"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],AdServer.prototype,"subscribeToAdRequest",null),AdServer}(u.GohanComponent);t.AdServer=b},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(91),c=n(323),u=n(327),l=n(89),p=n(87),d=n(88),f=n(330),h=n(94),g=n(93),y=n(339),v=function(){function Parawaterfall(){this.adapters=l.StArray.from([])}return Parawaterfall.prototype.getParawaterfallAdapterList=function(e){var t=this;return e?l.StArray.from([{name:g.AdAdapterName.QA,get adapter(){return t.qaAdapter},enabled:!0}]):l.StArray.from([{name:g.AdAdapterName.appNexus,get adapter(){return t.apnAdapter},enabled:!0},{name:g.AdAdapterName.SeedtagSSP,get adapter(){return t.sspAdapter},enabled:!0},{name:g.AdAdapterName.networksVideo,get adapter(){return t.NetworkVideoAdapter},enabled:!0}])},Parawaterfall.prototype.initialize=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this.setQaArgsByQueryParams(d.parseQueryString())];case 1:return t.sent(),e=this.storageVars.adapterEnabledOverride.get().getOrElse({}),this.instantiateAdapters(this.isQaModeEnabled(),e),[2]}})})},Parawaterfall.prototype.instantiateAdapters=function(e,t){var n=this.getParawaterfallAdapterList(e);this.adapters=n.filter(function(e){return void 0!==t[e.name]?t[e.name]:e.enabled}).map(function(e){return e.adapter})},Parawaterfall.prototype.setQaArgsByQueryParams=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return e.seedtagVast?(this.context.config.qaArgs=this.createVastQaArgsObject(e.seedtagVast),[3,4]):[3,1];case 1:return e.seedtagCreativeId&&e.seedtagCreativeFormat?(this.context.config.qaArgs=this.createCreativeQaArgsObject(e.seedtagCreativeId),[3,4]):[3,2];case 2:return e.seedtagCreativeUrl||e.seedtagCreativeContent?(t=this.context.config,[4,this.createCreativeContentQaArgsObject(e.seedtagCreativeUrl,e.seedtagCreativeContent)]):[3,4];case 3:t.qaArgs=n.sent(),n.label=4;case 4:return e.seedtagAdapter&&(this.context.config.qaArgs.queueParams.adapter=e.seedtagAdapter),e.seedtagCreativeFormat&&(this.context.config.qaArgs.queueParams.creative.format=e.seedtagCreativeFormat),[2]}})})},Parawaterfall.prototype.createVastQaArgsObject=function(e){return{enabled:!0,queueParams:{creative:{video:!0,tag:e}}}},Parawaterfall.prototype.createCreativeQaArgsObject=function(e){return{enabled:!0,queueParams:{creative:{id:e}}}},Parawaterfall.prototype.createCreativeContentQaArgsObject=function(e,t){return o(this,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return n=t&&atob(t),e?[4,fetch(e).then(function(e){return e.text()})]:[3,2];case 1:n=r.sent(),r.label=2;case 2:return[2,{enabled:!0,queueParams:{creative:{creativeContent:n}}}]}})})},Parawaterfall.prototype.isQaModeEnabled=function(){return this.context.config.qaArgs&&this.context.config.qaArgs.enabled},r([s.Inject,i("design:type",h.SeedtagStorageVars)],Parawaterfall.prototype,"storageVars",void 0),r([s.Inject,i("design:type",p.Context)],Parawaterfall.prototype,"context",void 0),r([s.Inject,i("design:type",y.ApnAdapter)],Parawaterfall.prototype,"apnAdapter",void 0),r([s.Inject,i("design:type",c.SSPAdapter)],Parawaterfall.prototype,"sspAdapter",void 0),r([s.Inject,i("design:type",u.QAAdapter)],Parawaterfall.prototype,"qaAdapter",void 0),r([s.Inject,i("design:type",f.NetworkVideoAdapter)],Parawaterfall.prototype,"NetworkVideoAdapter",void 0),Parawaterfall=r([s.Singleton],Parawaterfall)}();t.Parawaterfall=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(324))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(87),u=n(174),l=n(128),p=n(104),d=n(325),f=n(91),h=n(326),g=n(105),y=n(103),v=n(93),m=n(118),b=n(94),_=n(112),w=function(){function SSPAdapter(){this.adapter=v.AdAdapterName.SeedtagSSP,this.startPromise=new l.Deferred,this.enabled=!0,this.setUp()}return SSPAdapter.prototype.setUp=function(){},SSPAdapter.prototype.start=function(){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.startPromise.promise];case 1:return e.sent(),[2]}})})},SSPAdapter.prototype.getRequest=function(e,t){var n=this;return new m.AdRequest(v.AdAdapterName.SeedtagSSP,v.AdAdapterName.SeedtagSSP,e,t,function(e){return new Promise(function(t,r){return a(n,void 0,void 0,function(){return s(this,function(n){return this.bid(e).then(t).catch(function(){var n=new g.AdResponse(e);n.reason=v.NetworkReason.error,n.status=v.AdStatus.noad,t(n)}),setTimeout(function(){var n=new g.AdResponse(e);n.reason=v.NetworkReason.timeout,n.status=v.AdStatus.noad,t(n)},3e3),[2]})})})})},SSPAdapter.prototype.configSub=function(e){var t=e.config;return a(this,void 0,void 0,function(){return s(this,function(e){try{this.tmsConfig=t,this.startPromise.resolve(),this.cookieSync(t.cookies.SSPMustSync,this.context.config.gdpr)}catch(e){this.enabled=!1}return[2]})})},SSPAdapter.prototype.cookieSync=function(e,t){if(e&&document.body){var n=[{name:"cmp",value:t.hasCMP},{name:"ga",value:t.gdprApplies},{name:"cd",value:t.consentData}].map(function(e){return e.name+"="+e.value}).join("&"),r=window.location.protocol;document.body.appendChild(h.makeIframe((i=t.consentData,"https://sync.richaudience.com/dcf3528a0b8aa83634892d50e91c306e/?ord="+Math.random()+"&pubconsent=&euconsent="+i+"&hasConsent=1"))),document.body.appendChild(h.makeIframe(r+"//cs.seedtag.com/cs.html?"+n))}var i},SSPAdapter.prototype.bid=function(e){return a(this,void 0,void 0,function(){var t,n,i,o,c,u,l,d,f,h,y,m=this;return s(this,function(b){switch(b.label){case 0:return t=e.targeting,n=t.page,i=t.user,o=this.tmsConfig,c={publisherToken:this.context.config.token,adunitId:String(e.adUnit.model.adserverId),adunitName:t.page.keywords.adunit_name||"",placement:e.adUnit.model.type,pageCategory:o.category,pageSubcategory:o.subcategory,customCategories:o.url&&o.url.contextualization.contextData.customCategories,brandsafe:o.brandsafe,url:window.location.href,width:Number(n.keywords.image_width),height:Number(n.keywords.image_height),aggressive:n.keywords&&"true"===n.keywords.aggressive||!1,template_category:n.keywords.template_category||"-",a:n.keywords.atf?1:0,vw:n.keywords.vw||0,autoplay:i.videoAutoplay,cmp:i.gdpr.hasCMP,ga:i.gdpr.gdprApplies,cd:i.gdpr.consentData,bridge_support:!0},[4,this.storageVars.debugSSP.get().flatMap(function(e){return"string"!=typeof e?_.Failure("Debug SSPStringResponse is not a string"):""===e?_.Failure("Debug SSPStringResponse is empty"):_.Success(e)}).map(JSON.parse).map(function(e){return console.log("*** ssp-mock-response:\n",e),[e]}).map(function(e){return Promise.resolve(e)}).recover(function(e){return a(m,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.ajax({method:"POST",url:this.context.config.servingSspUrl+"/bid",headers:{"Content-Type":"text/plain"},body:JSON.stringify(c)},{withCredentials:!0})];case 1:return[2,e.sent()];case 2:throw e.sent();case 3:return[2]}})})}).get()];case 1:if(u=b.sent(),l=u&&u[0],d=new g.AdResponse(e),!this.enabled||!l||l.noImp)return d.status=v.AdStatus.noad,d.reason=l.noImp?v.NetworkReason.noad:v.NetworkReason.error,[2,d];if(f=l,h=this.commonFields(f,e),f.productType===p.AdTypes.video){e.network="seedtag_ssp_video";try{if(!l.content||!/<InLine|<Wrapper/.test(l.content))throw new Error("No Ad");return d.status=v.AdStatus.ad,d.ad=this.buildAdModel(r({},h,{content:l.content,network:e.network})),[2,d]}catch(e){return d.status=v.AdStatus.noad,d.reason=v.NetworkReason.noad,[2,d]}}return(y=this.buildAdModel(h))&&(d.status=v.AdStatus.ad,d.reason=v.NetworkReason.winner,d.ad=y),[2,d]}})})},SSPAdapter.prototype.buildAdModel=function(e){var t=new p.AdModel;return t.hydrate(e),t},SSPAdapter.prototype.commonFields=function(e,t){var n=e.productType||p.AdTypes.display;return{adRequest:t,adapter:this.adapter,network:this.adapter,content:this.getContent(e),adType:n,size:n===p.AdTypes.video?{x:1,y:1}:{x:e.width,y:e.height},trackers:this.getTrackers(e)}},SSPAdapter.prototype.getTrackers=function(e){var t=e.trackers||{};return p.makeTrackers({imp:(t.imps||[]).map(function(e){return{type:p.TrackingTypes.pixel,value:e}}),clicks:(t.clicks||[]).map(function(e){return{type:p.TrackingTypes.pixel,value:e}}),view1s50:(t.adview_1s50||[]).map(function(e){return{type:p.TrackingTypes.pixel,value:e}}),view1s100:(t.adview_1s100||[]).map(function(e){return{type:p.TrackingTypes.pixel,value:e}})})},SSPAdapter.prototype.getContent=function(e){var t=y.sizeToFormat({x:e.width,y:e.height});return e.content=y.isStandard(t)?A(e.content):e.content,e.productType===p.AdTypes.native?JSON.stringify(this.getNativeContent(e)):e.productType===p.AdTypes.display?this.getDisplayContent(e):e.content},SSPAdapter.prototype.getDisplayContent=function(e){var t=e.trackers.jsTrackers||[];return[e.content||""].concat(t).join("\n")},SSPAdapter.prototype.getNativeContent=function(e){var t=JSON.parse(e.content);return d.IABNativeHelper.isIABNativeJSON(t.native)?new d.IABNativeHelper({native:t.native,jsTrackers:e.trackers.jsTrackers||[]}).getClientData():null},i([f.Inject,o("design:type",c.Context)],SSPAdapter.prototype,"context",void 0),i([f.Inject,o("design:type",u.Http)],SSPAdapter.prototype,"http",void 0),i([f.Inject,o("design:type",b.SeedtagStorageVars)],SSPAdapter.prototype,"storageVars",void 0),i([c.Subscribe("config","received"),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",Promise)],SSPAdapter.prototype,"configSub",null),SSPAdapter=i([f.Singleton,o("design:paramtypes",[])],SSPAdapter)}();t.SSPAdapter=w;var A=function(e){return"\n    <style>\n      html, body, root {\n        font-family: 'Roboto', sans-serif;\n        width: 100%;\n        height: 100%;\n        margin: 0;\n        overflow: hidden;\n        transition: initial;\n      }\n    </style>\n    <script>\n    function getSandbox () {\n      var sandbox = [\n        'allow-same-origin',\n        'allow-scripts',\n        'allow-popups',\n        'allow-forms'\n      ];\n      if (navigator.userAgent.indexOf('Chrome') >= 0) sandbox.push('allow-popups-to-escape-sandbox');\n      return sandbox.join(' ');\n    }\n\n    function st_main() {\n      var iframe = document.createElement('iframe');\n      iframe.id = 'st-standard-ads-sandbox';\n      iframe.setAttribute('frameborder', '0');\n      iframe.setAttribute('hspace', '0');\n      iframe.setAttribute('vspace', '0');\n      iframe.setAttribute('marginheight', '0');\n      iframe.setAttribute('marginwidth', '0');\n      iframe.setAttribute('order', '0');\n      iframe.setAttribute('allowtransparency', 'true');\n      iframe.setAttribute('sandbox', getSandbox());\n      iframe.setAttribute('scrolling', 'no');\n      iframe.setAttribute('name', 'seedtag_creative');\n      iframe.style=\"width:100%; height:100%\";\n      iframe.src = 'data:text/html;base64,"+btoa(e)+"';\n      document.body.appendChild(iframe);\n    }\n\n    st_main();\n    <\/script>\n    "}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(89);!function(e){!function(e){e[e.headline=0]="headline",e[e.img=1]="img",e[e.brand=2]="brand",e[e.text=3]="text",e[e.button=4]="button"}(e.IdFieldMap||(e.IdFieldMap={}))}(r=t.Native||(t.Native={}));var o=function(){function IABNativeHelper(e){if(!IABNativeHelper.isIABNativeJSON(e&&e.native))throw new Error("arg is not IABNative");this.native=(e.native.assets=i.StArray.from(e.native.assets),e.native),this.jsTrackers=e.jsTrackers||[]}return IABNativeHelper.isIABNativeJSON=function(e){return!!(e&&e.ver&&e.link&&e.assets)},IABNativeHelper.prototype.assetIsImgAsset=function(e){return e.hasOwnProperty&&e.hasOwnProperty("img")},IABNativeHelper.prototype.assetIsTitleAsset=function(e){return e.hasOwnProperty&&e.hasOwnProperty("title")},IABNativeHelper.prototype.assetIsDataAsset=function(e){return e.hasOwnProperty&&e.hasOwnProperty("data")},IABNativeHelper.prototype.assetIsVideoAsset=function(e){return e.hasOwnProperty&&e.hasOwnProperty("video")},IABNativeHelper.prototype.assetIsLinkAsset=function(e){return e.hasOwnProperty&&e.hasOwnProperty("link")},IABNativeHelper.prototype.getClientData=function(){var e=this,t=this.native.link.url,n="",i="",o="",a="",s="";return this.native.assets.forEach(function(t){e.assetIsImgAsset(t)&&(n=t.img.url),e.assetIsTitleAsset(t)&&(i=t.title.text),e.assetIsDataAsset(t)&&(t.id===r.IdFieldMap.text?o=t.data.value:t.id===r.IdFieldMap.brand?a=t.data.value:t.id===r.IdFieldMap.button&&(s=t.data.value))}),{content:{link:t,img:n,headline:i,text:o,brand:a,button:s},jsTrackers:this.jsTrackers}},IABNativeHelper}();t.IABNativeHelper=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeIframe=function(e){var t=document.createElement("IFRAME");return t.src=e,t.scrolling="no",t.frameBorder=0,t.width=0,t.height=0,r(t),t},t.makePixel=function(e){var t=document.createElement("img");return r(t),t.src=e,t};var r=function(e){e.style.width="0",e.style.height="0",e.style.visibility="hidden",e.style.margin="0",e.style.padding="0",e.style.display="none",e.style.width="0",e.style.height="0",e.style.visibility="hidden"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(328))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(89),c=n(103),u=n(104),l=n(87),p=n(91),d=n(105),f=n(93),h=n(118),g=n(329),y=function(){function QAAdapter(){this.adapter=f.AdAdapterName.QA,this.setUp()}return QAAdapter.prototype.setUp=function(){},QAAdapter.prototype.start=function(){return o(this,void 0,void 0,function(){return a(this,function(e){return this.args=this.context.config.qaArgs,[2,Promise.resolve()]})})},QAAdapter.prototype.getRequest=function(e,t){return new h.AdRequest(this.adapter,this.adapter,e,t,this.run.bind(this))},QAAdapter.prototype.run=function(e){return o(this,void 0,void 0,function(){var t,n,r,i,o,l,p,h,y,v;return a(this,function(a){switch(a.label){case 0:if(t=this.args.queueParams.creative,n=!!t.video,r=!!this.args.queueParams.creative.isCsm,i=new u.AdModel,o=new d.AdResponse(e),!n)return[3,4];p=t.tag?[t.tag]:t.tags,p.map(function(e,t){return{name:"network-"+t,pb:"pb20",tag:e,format:c.Format.f1x1,cnt:[],dv:[],isCsm:r}}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,g.loadVast(p[0])];case 2:return l=a.sent(),[3,4];case 3:return h=a.sent(),o.status=f.AdStatus.noad,o.reason=f.NetworkReason.error,this.args.queueParams.creative.onError&&this.args.queueParams.creative.onError(o,h),[2,o];case 4:return y=function(e){return e.creativeContent?e.creativeContent:'<script data-creative="'+e.id+'"><\/script>'},v=s.StArray.from((t.format||"10x1").split("x")).map(function(e){return Number(e)}),i.hydrate({adRequest:e,adType:n?u.AdTypes.video:u.AdTypes.display,adapter:this.args.queueParams.adapter||this.adapter,network:this.adapter,size:n?{x:1,y:1}:{x:v[0],y:v[1]},content:n?"":y(this.args.queueParams.creative),trackers:u.makeTrackers({})}),i.vastAd=l,o.status=f.AdStatus.ad,o.ad=i,[2,o]}})})},r([p.Inject,i("design:type",l.Context)],QAAdapter.prototype,"context",void 0),QAAdapter=r([p.Singleton,i("design:paramtypes",[])],QAAdapter)}();t.QAAdapter=y},function(e,t,n){"use strict";n.r(t);var r=n(138);n.d(t,"loadAd",function(){return r.a});var i=n(152);n.d(t,"loadIMAScript",function(){return i.b});var o=n(151);n.d(t,"XMLHelper",function(){return o.a});var a=n(164);n.d(t,"VideoCreative",function(){return a.default});var s=n(150);n.d(t,"VAST_WRAPPER_POSTMESSAGE_PREFIX",function(){return s.VAST_WRAPPER_POSTMESSAGE_PREFIX});var c=n(130);n.d(t,"VPAIDWrapper",function(){return c.a});var u=n(133);n.d(t,"VPAIDAdsManager",function(){return u.VPAIDAdsManager});var l=n(131);n.d(t,"decodeAdParameters",function(){return l.a});var p=n(107);n.d(t,"VPAIDEvent",function(){return p.a});var d=n(154);n.d(t,"sendPostMessageToAllParents",function(){return d.a});var f=n(155);n.d(t,"VastEventTracker",function(){return f.VastEventTracker});var h=n(156);n.d(t,"VastTrackingEvent",function(){return h.a});var g=n(111);n.d(t,"AdEventType",function(){return g.default});var y=n(132);n.d(t,"ViewMode",function(){return y.default});var v=n(97);n.d(t,"isVastXml",function(){return v.isVastXml}),n.d(t,"loadVast",function(){return v.loadVast}),n.d(t,"loadAndUnwrapVast",function(){return v.loadAndUnwrap}),n.d(t,"parseAndUnwrapVast",function(){return v.parseAndUnwrap}),n.d(t,"loadVastUrl",function(){return v.load}),n.d(t,"parseVastXml",function(){return v.parse}),n.d(t,"toVastXml",function(){return v.toVastXml}),n.d(t,"mergeVast",function(){return v.merge}),n.d(t,"mergeAllVast",function(){return v.mergeAll})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(331);t.NetworkVideoAdapter=r.NetworkVideoAdapter},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(105),u=n(91),l=n(128),p=n(87),d=n(103),f=n(94),h=n(118),g=n(93),y=n(332),v=n(333),m=n(336),b=n(337),_=n(338),w=function(){function NetworkVideoAdapter(){this.adapter=g.AdAdapterName.networksVideo,this.startPromise=new l.Deferred,this.onlyBrandsafe=!1,this.template="",this.IS_VIDEO_REGEX=new RegExp("(1x1|11x2|600x110)"),this.setUp()}return NetworkVideoAdapter.prototype.setUp=function(){},NetworkVideoAdapter.prototype.onTemplateSelected=function(e){var t=e.template;this.template=t.category},NetworkVideoAdapter.prototype.start=function(){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.startPromise.promise];case 1:return e.sent(),[2]}})})},NetworkVideoAdapter.prototype.subFeatures=function(e){var t=e.features;return a(this,void 0,void 0,function(){return s(this,function(e){return this.onlyBrandsafe=!!t.brandsafeMediation&&t.brandsafeMediation.enabled,[2]})})},NetworkVideoAdapter.prototype.configSub=function(e){var t=e.config;return a(this,void 0,void 0,function(){return s(this,function(e){return this.networks=t.adNetworks.filter(this.isVideoNetwork.bind(this)).filter(function(e){return!e.isCsm}).concat(this.getBleeperNetworks()),this.startPromise.resolve(),[2]})})},NetworkVideoAdapter.prototype.isVideoNetwork=function(e){return null!==e.format.match(this.IS_VIDEO_REGEX)},NetworkVideoAdapter.prototype.getRequest=function(e,t){var n=this;return new h.AdRequest(this.adapter,"-",e,t,function(e){return a(n,void 0,void 0,function(){var t,n,r,i;return s(this,function(o){switch(o.label){case 0:return null!==(t=this.getAdapterFilter().filter(e))?[2,t]:(n=c.makeNoAd(e,g.NetworkReason.noad),r=this.prepareVastCalls(e,this.networks),[4,new _.ParallelIterator(r.requests).run()]);case 1:return(i=o.sent()).winner&&(n=i.winner),n.networks=(r&&r.responses||[]).concat(i&&i.responses||[]),[2,n]}})})})},NetworkVideoAdapter.prototype.getAdapterFilter=function(){return new y.FilterApplier({filters:[new y.NoNetworksFilter({value:this.networks}),new y.TemplateFilter({value:this.template}),new y.AutoplayFilter({value:this.template}),new y.VideoAllowed({})].concat(this.onlyBrandsafe?[new y.BrandSafeFilter({})]:[])})},NetworkVideoAdapter.prototype.prepareVastCalls=function(e,t){var n=this,i=[],o=[];return t.map(function(t){var a=n.getNetworkFilter(t).filter(r({},e,{network:t.name}));a?i.push(a):o.push(n.makeVastRequest(e,t))}),{requests:o,responses:i}},NetworkVideoAdapter.prototype.getNetworkFilter=function(e){return new y.FilterApplier({filters:[new y.CountryFilter({network:e}),new y.DeviceFilter({network:e})]})},NetworkVideoAdapter.prototype.makeVastRequest=function(e,t){return new v.VastUrlAdapter({vastUrl:this.getVastUrl(e,t),networkName:t.name,tracker:m.getTracker(e.adUnit,t.format,t.pb)}).getRequest(e.adUnit,e.targeting)},NetworkVideoAdapter.prototype.getVastUrl=function(e,t){var n=/SMART_VIDEO_600x110/.test(t.name)?{join:";",eq:"="}:{join:"&",eq:"="};return b.Macros.processTagMacros(t.tag,e.targeting,!0,n)},NetworkVideoAdapter.prototype.getBleeperNetworks=function(){return this.getVastsFromBleeper().map(function(e,t){return{name:"network-bleeper-"+t,pb:"pb20",tag:e.trim(),format:d.Format.f1x1,cnt:[],dv:[],isCsm:!1}})},NetworkVideoAdapter.prototype.getVastsFromBleeper=function(){try{var e=this.storageVars.debugVast.get().getOrElse(void 0);return Object.keys(e).map(function(t){return e[t]?String(e[t]).trim():""}).filter(function(e){return!!e})}catch(e){return[]}},i([u.Inject,o("design:type",p.Context)],NetworkVideoAdapter.prototype,"context",void 0),i([u.Inject,o("design:type",f.SeedtagStorageVars)],NetworkVideoAdapter.prototype,"storageVars",void 0),i([p.Subscribe("template","selected"),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],NetworkVideoAdapter.prototype,"onTemplateSelected",null),i([p.Subscribe("features","response"),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",Promise)],NetworkVideoAdapter.prototype,"subFeatures",null),i([p.Subscribe("config","received"),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",Promise)],NetworkVideoAdapter.prototype,"configSub",null),NetworkVideoAdapter=i([u.Singleton,o("design:paramtypes",[])],NetworkVideoAdapter)}();t.NetworkVideoAdapter=w},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(105),a=n(93),s=n(99),c=function(){return function(e){this.props=e}}();t.BaseFilter=c;var u=function(e){function FilterApplier(){return null!==e&&e.apply(this,arguments)||this}return i(FilterApplier,e),FilterApplier.prototype.filter=function(e){for(var t=this.props.filters.slice(),n=null;t.length&&!n;){var r=t.shift();n=r?r.filter(e):null}return n},FilterApplier}(c);t.FilterApplier=u;var l=function(e){function VideoAllowed(){return null!==e&&e.apply(this,arguments)||this}return i(VideoAllowed,e),VideoAllowed.prototype.filter=function(e){return e.adUnit.model.type!==s.AdUnitType.inScreen?null:o.makeNoAd(e,a.NetworkReason.adSpace)},VideoAllowed}(c);t.VideoAllowed=l;var p=function(e){function NoNetworksFilter(){return null!==e&&e.apply(this,arguments)||this}return i(NoNetworksFilter,e),NoNetworksFilter.prototype.filter=function(e){return this.props.value.length?null:o.makeNoAd(e,a.NetworkReason.no_networks)},NoNetworksFilter}(c);t.NoNetworksFilter=p;var d=function(e){function TemplateFilter(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=["article"],t}return i(TemplateFilter,e),TemplateFilter.prototype.filter=function(e){return-1===this.enabled.indexOf(this.props.value)?o.makeNoAd(e,a.NetworkReason.template):null},TemplateFilter}(c);t.TemplateFilter=d;var f=function(e){function BrandSafeFilter(){return null!==e&&e.apply(this,arguments)||this}return i(BrandSafeFilter,e),BrandSafeFilter.prototype.filter=function(e){return"false"===e.targeting.page.keywords.context_safe?o.makeNoAd(e,a.NetworkReason.brandsafe):null},BrandSafeFilter}(c);t.BrandSafeFilter=f;var h=function(e){function AutoplayFilter(){return null!==e&&e.apply(this,arguments)||this}return i(AutoplayFilter,e),AutoplayFilter.prototype.filter=function(e){return e.targeting.user.videoAutoplay?null:o.makeNoAd(e,a.NetworkReason.autoplay)},AutoplayFilter}(c);t.AutoplayFilter=h;var g=function(e){function CountryFilter(){return null!==e&&e.apply(this,arguments)||this}return i(CountryFilter,e),CountryFilter.prototype.filter=function(e){var t=this.props.network.cnt;return t&&t.length&&-1===t.indexOf(e.targeting.user.country)?o.makeNoAd(e,a.NetworkReason.country):null},CountryFilter}(c);t.CountryFilter=g;var y=function(e){function DeviceFilter(){return null!==e&&e.apply(this,arguments)||this}return i(DeviceFilter,e),DeviceFilter.prototype.filter=function(e){var t=this.props.network.dv;return t&&t.length&&-1===t.indexOf(e.targeting.user.device)?o.makeNoAd(e,a.NetworkReason.device):null},DeviceFilter}(c);t.DeviceFilter=y},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(93),a=n(118),s=n(334),c=function(){function VastUrlAdapter(e){this.adapter=o.AdAdapterName.networksVideo,this.props=e}return VastUrlAdapter.prototype.start=function(){return Promise.resolve()},VastUrlAdapter.prototype.getRequest=function(e,t){var n=this;return new a.AdRequest(this.adapter,this.props.networkName,e,t,function(e){return r(n,void 0,void 0,function(){return i(this,function(t){return[2,new s.VastUrlCaller(this.props).call(e)]})})})},VastUrlAdapter}();t.VastUrlAdapter=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(105),a=n(97),s=n(335),c=n(93),u=c.NetworkReason.timeout,l=function(){function VastUrlCaller(e){this.props=e}return VastUrlCaller.prototype.call=function(e){return r(this,void 0,void 0,function(){var t=this;return i(this,function(n){return[2,new Promise(function(n){var r=setTimeout(function(){n(o.makeNoAd(e,u))},8e3);return a.default(t.props.vastUrl).then(function(i){clearTimeout(r),n(o.makeAd(e,s.buildVastAd(i,e,t.props.tracker)))}).catch(function(t){clearTimeout(r);var i={301:u,303:c.NetworkReason.noad},a=t.vastAdError?t.vastAdError.code:0;n(o.makeNoAd(e,i[a]||c.NetworkReason.error_vast+"_"+a))})})]})})},VastUrlCaller}();t.VastUrlCaller=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104);t.buildVastAd=function(e,t,n){var i=new r.AdModel;return i.hydrate({adRequest:t,adType:r.AdTypes.video,adapter:t.adapter,network:t.network,content:"",size:{x:1,y:1},trackers:r.makeTrackers({imp:[n]})}),i.vastAd=e,i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeImpressionTracker=function(e,t,n){return("https:"===document.location.protocol?"https://secure":"http://ib")+".adnxs.com/tt?id="+e+"&size="+t+"&price_bucket="+n+"&prevent_rtb=1&prevent_deals=1"},t.getTracker=function(e,n,r){return{type:"iframe",value:t.makeImpressionTracker(e.model.adserverId,n,r)}}},function(e,t,n){"use strict";function from(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e.toString().replace(/&/,"and").replace(/[^a-zA-Z0-9,]/g,"-").replace(/-+/g,"-").toLowerCase()},i=function(){function MacroProcessor(){this.expandableMacros=new Map,this.macros=new Map}return MacroProcessor.prototype.addMacro=function(e,t){this.macros.set(e,t)},MacroProcessor.prototype.addExpandableMacro=function(e,t){this.expandableMacros.set(e,t)},MacroProcessor.prototype.apply=function(e){e=this.expandMacros(e);for(var t=0,n=from(this.macros.keys());t<n.length;t++){var r=n[t];e=this.applyOneMacro(e,r)}return e},MacroProcessor.prototype.expandMacros=function(e){for(var t=0,n=from(this.expandableMacros.keys());t<n.length;t++){var r=n[t],i=this.expandableMacros.get(r);i&&(e=e.replace(new RegExp("\\${"+r+"}","g"),i()))}return e},MacroProcessor.prototype.applyOneMacro=function(e,t){var n=this.macros.get(t);return n?e.replace(new RegExp("\\${"+t+"}","g"),n()):e},MacroProcessor}();t.MacroProcessor=i,t.Macros={processTagMacros:function(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o={join:"&",eq:"="});var a=new i;a.addMacro("ref_url",function(){return document.location.href}),a.addMacro("ref_url_encoded",function(){return encodeURIComponent(document.location.href)}),a.addMacro("cache_buster",function(){return Date.now().toString()}),a.addMacro("user_agent_enc",function(){return encodeURIComponent(window.navigator.userAgent)}),a.addMacro("user_country",function(){return t.user.country}),a.addMacro("tag_id",function(){return(t.tag.tagId||"").toString()}),a.addMacro("gdpr_applies",function(){return t.user.gdpr.gdprApplies?"true":"false"}),a.addMacro("gdpr_applies_int",function(){return t.user.gdpr.gdprApplies?"1":"0"}),a.addMacro("gdpr_consent",function(){return t.user.gdpr.consentData});var s=function(e,t,n){var i=Object.keys(e).map(function(i){var o=e[i];if(void 0!==(c=o).length&&"object"==typeof c){var s=o.map(function(e){return t?encodeURIComponent(r(e)):r(e)}).join(n.join+i+n.eq);return a.addMacro(i,function(){return t?encodeURIComponent(s):s}),[i,s]}var c,u=r(o);return a.addMacro(i,function(){return t?encodeURIComponent(u):u}),[i,r(o)]}).map(function(e){return e.join(n.eq)}).join(n.join);return t?encodeURIComponent(i):i}(t.page.keywords,n,o);return a.addMacro("sas_display_targeting",function(){return s}),a.addMacro("sas_vast_targeting",function(){return s}),a.apply(e)},applyMacros:function(e,t){for(var n=new i,o=function(e){n.addMacro(e,function(){return r(t[e])})},a=0,s=Object.keys(t);a<s.length;a++)o(s[a]);return n.apply(e)}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(162),c=n(105),u=n(93),l=function(e){function ParallelIterator(){return null!==e&&e.apply(this,arguments)||this}return i(ParallelIterator,e),ParallelIterator.prototype.run=function(){return o(this,void 0,void 0,function(){var e,t,n,r=this;return a(this,function(i){return e=this.requests.slice(),t=e.slice(),n=[],e.length?[2,new Promise(function(i,o){var a=function(e,o){!function(e,r){t.splice(t.indexOf(e),1),n.push(r)}(e,o),!o.isAd()&&t.length||i({winner:r.winnerHook(o.isAd()?o:null),responses:n.concat(t.map(function(e){return c.makeNoAd(e,u.NetworkReason.race_lost)}))})};e.map(function(e){e.run().then(function(e){return r.responseHook(e)}).then(function(t){try{a(e,t)}catch(e){o()}}).catch(function(){try{a(e,c.makeNoAd(e,u.NetworkReason.error))}catch(e){o()}})})})]:[2,Promise.resolve({winner:null,responses:n})]})})},ParallelIterator}(s.SequenceIterator);t.ParallelIterator=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(340);t.ApnAdapter=r.ApnAdapter,t.ApnNetworks=r.ApnNetworks,t.APN_MEMBER=r.APN_MEMBER},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s,c=n(88),u=n(106),l=n(110),p=n(341),d=n(204),f=n(128),h=n(91),g=n(143),y=n(103),v=n(93),m=n(118),b=n(105),_=n(104),w=n(97);t.APN_MEMBER=4009,function(e){e.Direct="apn_direct",e.Open="apn_open"}(s=t.ApnNetworks||(t.ApnNetworks={})),t.isApnViewabilityWrapper=function(e){return 0===e.adTitle.indexOf("AppNexus Viewability Wrapper")},t.parseAnwrapperVersion=function(e){return(/.*\/anwrapper\-([0-9\.]+)+\.js(\?.+)*/.exec(e)||[])[1]};var A=function(){function ApnAdapter(){this.adapter=v.AdAdapterName.appNexus,this.isAdmin=!1,this.isAdminDeferred=new f.Deferred,this.viewabilityWrapperUrl="//creatives.seedtag.com/appnexus-viewability-wrapper/updated/anwrapper-1.740.0.js",this.useCustomAppNexusViewabilityWrapper=!0,this.ast=new p.Ast({member:t.APN_MEMBER,debug:this.context.debug}),this.apnReadyPromise=this.ast.start(),this.setUp()}return ApnAdapter.prototype.setUp=function(){},ApnAdapter.prototype.subscribeTargeting=function(e){this.resolveTargeting(e.adunit)},ApnAdapter.prototype.resolveTargeting=function(e){return{page:{member:t.APN_MEMBER,disablePsa:!0}}},ApnAdapter.prototype.chekIsAdmin=function(e){var t=e.user;this.isAdmin=-1!==t.permissions.indexOf("admin"),this.isAdminDeferred.resolve()},ApnAdapter.prototype.putDebugger=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return[4,this.isAdminDeferred.promise];case 1:return r.sent(),this.isAdmin?[4,Promise.resolve().then(function(){return n(342)})]:[3,3];case 2:t=r.sent().ApnDebugger,e.adunit.addComponent(new t(this.context)),r.label=3;case 3:return[2]}})})},ApnAdapter.prototype.reportApnWrapperVersion=function(e){return{version:e}},ApnAdapter.prototype.start=function(){return this.apnReadyPromise},ApnAdapter.prototype.getRequest=function(e,t){var n=this;return new m.AdRequest(this.adapter,this.adapter,e,t,function(e){return n.makeCall(e)})},ApnAdapter.prototype.makeCall=function(e){var n=this;return this.ast.resolve(this.getTargeting(e.targeting)).then(function(r){var i=new b.AdResponse(e);return r?(e.network=r.buyer_member_id===t.APN_MEMBER?s.Direct:s.Open,n.getAdModel(r,e).then(function(e){return i.status=v.AdStatus.ad,i.ad=e,i}).catch(function(){return i.status=v.AdStatus.noad,i.reason=v.NetworkReason.error,i})):(i.status=v.AdStatus.noad,i.reason=v.NetworkReason.noad,i)})},ApnAdapter.prototype.getTargeting=function(e){var t=c.ImmutabilityHelper.copy(e),n=t.page.keywords.sizes||[];return t.page.keywords.sizes=this.getSizes(n),t.tag.allowedFormats=this.getFormats(n),t},ApnAdapter.prototype.getAdModel=function(e,t){return"video"===e.ad_type?this.parseVideo(e,t):Promise.resolve(this.parseDisplay(e,t))},ApnAdapter.prototype.parseDisplay=function(e,t){var n=new _.AdModel,r=e.rtb,i=r.banner,o=y.stdToSeedtag(y.sizeToFormat({x:i.width,y:i.height}));return n.hydrate({adRequest:t,adapter:this.adapter,network:t.network,content:i.content,trackers:_.makeTrackers({imp:r.trackers[0].impression_urls.map(function(e){return{type:_.TrackingTypes.pixel,value:e}})}),size:y.formatToSize(o)}),n},ApnAdapter.prototype.parseVideo=function(e,n){return o(this,void 0,void 0,function(){var r=this;return a(this,function(i){return[2,w.loadVast(e.rtb.video.content).then(function(e){if(t.isApnViewabilityWrapper(e)&&r.useCustomAppNexusViewabilityWrapper){var i=t.parseAnwrapperVersion(r.viewabilityWrapperUrl),o=t.parseAnwrapperVersion(e.mediafiles[0].url);i!==o&&Math.random()<=.01&&r.reportApnWrapperVersion(o);var a=0===e.mediafiles[0].url.indexOf("https:")?"https:":"http:";e.mediafiles[0].url=a+r.viewabilityWrapperUrl}var s=new _.AdModel;return s.hydrate({adRequest:n,adapter:r.adapter,network:n.network,adType:_.AdTypes.video,content:"",vastAd:e,trackers:_.makeTrackers({}),size:{x:1,y:1}}),s.vastAd=e,s})]})})},ApnAdapter.prototype.getFormats=function(e){return["banner"].concat(d.isFormatPresentInList(e,[1,1])?["video"]:[])},ApnAdapter.prototype.getSizes=function(e){return e.concat(e.map(function(e){return y.sizeToFormat({x:e[0],y:e[1]})}).map(function(e){return y.seedtagToStd(e)}).filter(function(e){return y.isSeedtagStandard(e)}).map(y.formatToSize).map(function(e){return[e.x,e.y]}))},r([h.Inject,i("design:type",g.Context)],ApnAdapter.prototype,"context",void 0),r([u.Subscribe("targeting","request"),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],ApnAdapter.prototype,"subscribeTargeting",null),r([u.Publish("targeting","resolve"),i("design:type",Function),i("design:paramtypes",[l.AdUnit]),i("design:returntype",Object)],ApnAdapter.prototype,"resolveTargeting",null),r([u.Subscribe("user","detected"),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],ApnAdapter.prototype,"chekIsAdmin",null),r([u.Subscribe("sherlock","id.resolved"),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",Promise)],ApnAdapter.prototype,"putDebugger",null),r([u.Publish("appnexus-viewability-wrapper","version"),i("design:type",Function),i("design:paramtypes",[String]),i("design:returntype",Object)],ApnAdapter.prototype,"reportApnWrapperVersion",null),ApnAdapter=r([h.Singleton,i("design:paramtypes",[])],ApnAdapter)}();t.ApnAdapter=A},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(88),s=n(50),c=function(){function Ast(e){this.args=e}return Ast.prototype.start=function(){var e=this;return this.loadAst().then(function(t){e.setUpTag(t)})},Ast.prototype.resolve=function(e){return e.page.member=this.args.member,e.page.disablePsa=!0,this.setAd(r({},e.tag,e.page,e.page.keywords))},Ast.prototype.setUpTag=function(e){this.apntag=e},Ast.prototype.loadAst=function(){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,s.AstPrefetch()];case 1:return[2,e.sent()]}})})},Ast.prototype.setAd=function(e){var t=this,n=e.targetId;return new Promise(function(r,i){t.apntag.anq.push(function(){t.apntag.defineTag(e),t.apntag.onEvent("adAvailable",n,function(){var e=a.ImmutabilityHelper.immute(t.apntag.requests.tags[n].adResponse.ads);r(e.shift())}),t.apntag.onEvent("adNoBid",n,function(e){r()}),t.apntag.onEvent("adRequestFailure",n,function(e){r()}),t.apntag.onEvent("adBadRequest",n,function(e){r()}),t.apntag.loadTags()})})},Ast}();t.Ast=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(89),a=function(e){function ApnDebugger(){return null!==e&&e.apply(this,arguments)||this}return i(ApnDebugger,e),ApnDebugger.prototype.setup=function(){this._componentName="apn_debug",this.$el.classList.add("seedtag-admin"),this.$el.style.top="0",this.$el.style.left="initial",this.$el.style.right="0",this.$container.appendChild(this.makeNewTabButton()),this.$container.appendChild(this.makeCurrentTabButton()),e.prototype.setup.call(this)},ApnDebugger.prototype.makeNewTabButton=function(){var e=this,t=document.createElement("div");t.classList.add("st-button","st-success");var n=document.createElement("a");return n.setAttribute("href","#"),n.innerText="New Tab Debug",t.appendChild(n),n.addEventListener("click",function(t){t.stopPropagation(),t.preventDefault(),e.handleNewTabClick()}),t},ApnDebugger.prototype.makeCurrentTabButton=function(){var e=document.createElement("div");e.classList.add("st-button","st-success");var t=document.createElement("a");return t.setAttribute("href",this.getNewTagUrl()),t.innerText="Current Tab Debug",e.appendChild(t),e},ApnDebugger.prototype.getNewTagUrl=function(){var e=window.document.location.href;return e+(-1===e.indexOf("?")?"?":"&")+"ast_debug=true&ast_debug_member=4009&ast_dongle=blue"},ApnDebugger.prototype.render=function(){},ApnDebugger.prototype.handleNewTabClick=function(){window.open(this.generateUrl(),"_blank")},ApnDebugger.prototype.generateUrl=function(){if(!this._adunit)return"";var e,t,n,r,i=this.getTargeting(this._adunit);function builder(e){var t="";return o.StArray.from(Object.keys(e)).forEach(function(n){Array.isArray(e[n])?t+=o.StArray.from(e[n]).reduce(function(e,t){return e+(n+"=")+t+"&"},""):"function"==typeof e[n]&&(t+=n+"="+e[n]+"&")}),t}return"http://ib.adnxs.com/ttj?id="+(i&&i.tag.tagId)+"&size="+(i&&i.tag.sizes[0][0]+"x"+i.tag.sizes[0][1])+"&promo_sizes="+(i&&(n=i.tag.sizes,r="",o.StArray.from(n).forEach(function(e){r+=e[0]+"x"+e[1]+","}),r))+"&debug_member=4009&dongle=blue&"+(i&&(e=i.page.keywords,t=i.tag.keywords,builder(e)+builder(t)))},ApnDebugger.prototype.getTargeting=function(e){var t={},n=this.context.subscribe({channel:"adunit",topic:"targeting.response",callback:function(e){t=e.targeting,o.StArray.from([t.page,t.tag]).forEach(function(e){e&&e.keywords&&o.StArray.from(Object.keys(e.keywords)).forEach(function(t){0===e.keywords[t].length&&delete e.keywords[t]})})}});return this.context.publish({channel:"adunit",topic:"targeting.request",data:{adunit:e}}),n.unsubscribe(),t},ApnDebugger}(n(146).AdunitComponent);t.ApnDebugger=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(162),a=n(93),s=n(103),c=n(105),u=function(e){function LowPriorityIterator(){var t=null!==e&&e.apply(this,arguments)||this;return t.lowPriorityAds=[],t}return i(LowPriorityIterator,e),LowPriorityIterator.prototype.responseHook=function(e){return this.isLowPriorityResponse(e)?(e.reason=a.NetworkReason.low_priority,this.lowPriorityAds.push(e),c.makeNoAd(e.request,a.NetworkReason.low_priority)):e},LowPriorityIterator.prototype.winnerHook=function(e){return e||this.lowPriorityAds.shift()||null},LowPriorityIterator.prototype.isLowPriorityResponse=function(e){return e.isAd()&&s.isLowPriority(e.ad.format)&&e.request.adapter===a.AdAdapterName.appNexus},LowPriorityIterator}(o.SequenceIterator);t.LowPriorityIterator=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(345))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(87),l=n(89),p=["admin","Resources_view"],d=function(e){function Admin(){return null!==e&&e.apply(this,arguments)||this}return i(Admin,e),Admin.prototype.publishAdminRun=function(){},Admin.prototype.setUp=function(){var e=this;this._isAdmin=!1,this.bleeper=null,this.adunits=l.StArray.from([]),this.images=l.StArray.from([]),this.template=null,this.config=null,this.domLoaded=!1;var t=this.context;"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){e.domLoaded=!0,e._isAdmin&&e.loadBleeper()}):this.domLoaded=!0,t.subscribe({channel:"user",topic:"detected",callback:function(t){var n=t.user;e._isAdmin=p.filter(function(e){return-1!==n.permissions.indexOf(e)}).length>0,e.context.set("isAdmin",e._isAdmin),e._isAdmin&&(e.publishAdminRun(),e.domLoaded&&e.loadBleeper())}}),t.subscribe({channel:"adunit",topic:"found",callback:function(t){e.bleeper?e.bleeper.processAdUnit(t.adunit):e.adunits.push(t.adunit)}}),t.subscribe({channel:"template",topic:"selected",callback:function(t){return e.template=t.template}}),t.subscribe({channel:"sherlock",topic:"id.resolved",callback:function(n){e.bleeper?t.publish({channel:"admin.sherlock",topic:"id.resolved",data:n}):e.images.push(n)}}),t.subscribe({channel:"config",topic:"info",callback:function(t){e.bleeper?e.bleeper.setConfig(e.config):e.config=t.config}})},Admin.prototype.loadBleeper=function(){var e=this;setTimeout(function(){return s(e,void 0,void 0,function(){var e,t=this;return c(this,function(r){switch(r.label){case 0:return[4,Promise.resolve().then(function(){return n(346)})];case 1:return e=r.sent().Bleeper,this.bleeper=new e(this.context,{template:this.template}),this.config&&this.bleeper.setConfig(this.config),this.adunits.forEach(function(e){return t.bleeper.processAdUnit(e)}),this.images.forEach(function(e){return t.context.publish({channel:"admin.sherlock",topic:"id.resolved",data:e})}),[2]}})})},2e3)},o([u.Publish("admin","run"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],Admin.prototype,"publishAdminRun",null),Admin}(u.GohanComponent);t.Admin=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(90),s=n(175),c=n(347),u=n(120);n(361);var l=n(363),p=n(376),d=n(412),f=n(424),h=n(159),g=function(e){function Bleeper(){return null!==e&&e.apply(this,arguments)||this}return i(Bleeper,e),Bleeper.prototype.setUp=function(){var e=this;this._bleeperContainer=document.createElement("div"),this._bleeperContainer.className="seedtag-gohan seedtag-admin st-admin st-right",document.body.appendChild(this._bleeperContainer),this.getModel(function(t){e.model=t,e.render()})},Bleeper.prototype.render=function(){a.render(o.createElement(c.BleeperBar,{context:this.context},o.createElement(l.BrandingTab,{title:"B",tabId:"branding",context:this.context,model:this.model}),o.createElement(p.TagManagerTab,{title:"TM",tabId:"tag-manager",context:this.context,model:this.model}),o.createElement(d.DebuggingTab,{title:"D",tabId:"debugging",context:this.context,model:this.model})),this._bleeperContainer)},Bleeper.prototype.processAdUnit=function(e){e.addComponent(new f.Tagger(this.context))},Bleeper.prototype.getModel=function(e){var t=this,n=this.context,r=new u.AdminApi(n),i={};r.getPublisher(n.config.token).then(function(n){r.find("Templates",{publisherId:n.id}).then(function(t){i.publisher=n,i.templates=t.map(function(e){return h.fixModel(e)}),i.template=this.args.template,i.url=this.config.url,i.config=this.config,e(i)}.bind(t))})},Bleeper.prototype.setConfig=function(e){this.config=e},Bleeper}(s.GohanComponent);t.Bleeper=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(348))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(90),c=n(349),u=n(354),l=n(89),p=n(91),d=n(94);n(359);var f=function(e){function BleeperBar(t){var n=e.call(this,t)||this;n.bidRequestMonitorStorage=n.storageVars.bidRequesMonitor,n.handleTabClick=function(e){return function(t){n.props&&n.props.children&&n.props.children[e];n.setState({currentTab:e,hidden:n.state.currentTab===e&&!n.state.hidden})}},n.state={BRMOActive:n.bidRequestMonitorStorage.get().getOrElse(!1),hidden:!0,position:"right",currentTab:0};var r=t.context;return r.subscribe({channel:"admin",topic:"tagging.start",callback:function(){return n.setState({hidden:!0})}}),r.subscribe({channel:"admin",topic:"tagging.end",callback:function(){return n.setState({hidden:!0})}}),n}return i(BleeperBar,e),BleeperBar.prototype.handleMouseWheel=function(e){var t=e.currentTarget,n=t.scrollTop,r=t.scrollHeight-t.offsetHeight,i=e.deltaY>0,o=function(){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!1};return i&&r<=n?o():!i&&n<=0?o():void 0},BleeperBar.prototype.renderTab=function(e,t){var n=["st-tab",this.state.currentTab===t?"st-active st-ontop":""];return s.createElement("div",{className:n.join(" "),onClick:this.handleTabClick(t),key:t}," ",e," ")},BleeperBar.prototype.render=function(){var e=this,t=l.StArray.from(s.Children.toArray(this.props.children)),n=t[this.state.currentTab],r=["st-bleeper-bar","st-"+this.state.position,this.state.hidden?"st-closed":""];return s.createElement("div",{className:r.join(" ")},s.createElement("div",{className:"st-bleeper-tabs"},t.map(function(t,n){return e.renderTab(t.props.title,n)})),s.createElement("div",{className:"st-bleeper-container"},s.createElement("div",{className:"st-scroll",onWheel:this.handleMouseWheel.bind(this)},n)),s.createElement(c.Notifier,{context:this.props.context}),this.state.BRMOActive?s.createElement(u.BidRequestMonitorOverlay,{context:this.props.context}):null)},o([p.Inject,a("design:type",d.SeedtagStorageVars)],BleeperBar.prototype,"storageVars",void 0),BleeperBar}(s.Component);t.BleeperBar=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(350))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(351);n(352);var s=function(e){function Notifier(t){var n=e.call(this,t)||this;return t.context.subscribe({channel:"network",topic:"error",callback:function(e){n.refs.notificator.error("Error",e.human||"general network error",5e3)}}),t.context.subscribe({channel:"network",topic:"success",callback:function(e){n.refs.notificator.success("=D",e.human||"done",5e3)}}),t.context.subscribe({channel:"admin.message",topic:"post",callback:function(e){var t=e.message||{},r=-1!==["error","success","info"].indexOf(t.type)?t.type:"info";if(t.text){var i=t.title||r,o=t.duration||5e3;n.refs.notificator[r](i,t.text,o)}}}),n}return i(Notifier,e),Notifier.prototype.render=function(){return o.createElement("div",{className:"st-notifier"},o.createElement("input",{ref:"myInput"}),o.createElement(a,{ref:"notificator"}))},Notifier}(o.Component);t.Notifier=s},,function(e,t,n){var r=n(353);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,"/* vars */\n.st-text-normal {\n  font-size: 12px;\n}\n.st-text-small {\n  font-size: 10px;\n}\n.st-text-big {\n  font-size: 16px;\n}\n.st-text-stronger {\n  font-weight: 700;\n}\n.st-title {\n  font-size: 16px;\n  font-weight: 700;\n}\n.st-subtitle {\n  opacity: 0.7;\n  font-style: italic;\n  font-size: 12px;\n}\n.seedtag-gohan.seedtag-admin .st-notifier {\n  position: fixed;\n  top: 0;\n  right: 0;\n}\n.seedtag-gohan.seedtag-admin .st-notifier .notify-item {\n  width: 200px;\n  margin: 15px;\n  padding: 15px;\n  background-color: #d8d7d7;\n}\n.seedtag-gohan.seedtag-admin .st-notifier .notify-item .notify-title {\n  text-transform: capitalize;\n  font-weight: 700;\n}\n.seedtag-gohan.seedtag-admin .st-notifier .notify-item.success {\n  color: #fff !important;\n  background-color: #6fbe7e;\n}\n.seedtag-gohan.seedtag-admin .st-notifier .notify-item.info {\n  color: #fff !important;\n  background-color: #8cb7cf;\n}\n.seedtag-gohan.seedtag-admin .st-notifier .notify-item.error {\n  color: #fff !important;\n  background-color: #ea5d4c;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(355))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(356),s=n(88);n(357);var c=function(e){function BidRequestMonitorOverlay(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bidRequests:[]},t.wsApi=new a.WSApi(t.props.context),t.reqKeepingTime=6e4,t}return i(BidRequestMonitorOverlay,e),BidRequestMonitorOverlay.prototype.componentDidMount=function(){var e=this;this.wsApi.connect("SSP","test"),this.subscription=this.wsApi.subscribe(function(t){return e.addBidRequest(t)})},BidRequestMonitorOverlay.prototype.componentWillUnmount=function(){this.subscription&&(this.subscription=this.subscription.unsubscribe())},BidRequestMonitorOverlay.prototype.render=function(){var e=this;return o.createElement("div",{className:"bid-request-monitor-overlay"},o.createElement("h2",{className:"st-title float-left"},"Bid Request Monitor"),o.createElement("button",{className:"st-button st-success float-right",onClick:function(){return e.copyTextToClipboard(e.formatAllBidRequestText())}},"copy all"),o.createElement("div",{className:"clearfix"}),o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,Object.keys(this.state.bidRequests[0]||{"no data":null}).map(function(e){return o.createElement("th",{key:e},e)}),o.createElement("th",null))),o.createElement("tbody",null,this.state.bidRequests.map(function(t,n){return o.createElement("tr",{key:"tbody-row-"+n},Object.keys(t).map(function(r,i){return o.createElement("td",{key:n+"-"+i+"-"+r},e.formatItemToString(t[r]))}),o.createElement("td",null,o.createElement("button",{className:"st-button st-success",onClick:function(){return e.copyTextToClipboard(e.formatBidRequestText(t))}},"copy")))}))))},BidRequestMonitorOverlay.prototype.formatAllBidRequestText=function(){var e=this;return this.state.bidRequests.map(function(t){return e.formatBidRequestText(t)}).join("\n\n")},BidRequestMonitorOverlay.prototype.formatBidRequestText=function(e){var t=this,n="";return Object.keys(e).forEach(function(r){return n+=r+": "+t.formatItemToString(e[r])+" \n"}),n},BidRequestMonitorOverlay.prototype.formatItemToString=function(e){var t="";try{t=e.toString&&"[object Object]"!==e.toString()?e.toString():JSON.stringify(e)}catch(e){}return t},BidRequestMonitorOverlay.prototype.copyTextToClipboard=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()},BidRequestMonitorOverlay.prototype.addBidRequest=function(e){var t=this,n=s.ImmutabilityHelper.copy(this.state);n.bidRequests.unshift(e),this.setState(n),setTimeout(function(){return t.discardBidRequest("requestId",e.requestId)},this.reqKeepingTime)},BidRequestMonitorOverlay.prototype.discardBidRequest=function(e,t){var n=s.ImmutabilityHelper.copy(this.state);n.bidRequests=n.bidRequests.filter(function(n){return n[e]!==t}),this.setState(n)},BidRequestMonitorOverlay}(o.Component);t.BidRequestMonitorOverlay=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(115),c=function(e){function WSApi(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscriptions=[],t.baseHTTPUrl=t.context.config.realTimeLogsApiUrl,t.baseWSUrl=t.context.config.realTimeLogsApiUrl.replace(/^http:\/\/|^https:\/\//,"ws://"),t}return i(WSApi,e),WSApi.prototype.connect=function(e,t){return o(this,void 0,void 0,function(){var n,r=this;return a(this,function(i){switch(i.label){case 0:return[4,s.fetch("GET",this.baseHTTPUrl+"/connection/"+e+"/"+t,{},{withCredentials:!0})];case 1:return n=i.sent().topic,this.socket=new WebSocket(this.baseWSUrl+"/"+e+"/"+n),this.socket.onmessage=this.publish.bind(this),this.socket.onclose=function(){return r.subscriptions.forEach(function(e){return r.unsubscribe(e.id)})},[2]}})})},WSApi.prototype.subscribe=function(e){var t=this,n=Math.random();return this.subscriptions.push({id:n,observer:e}),{unsubscribe:function(){return t.unsubscribe(n)}}},WSApi.prototype.unsubscribe=function(e){this.subscriptions=this.subscriptions.filter(function(t){return t.id!==e})},WSApi.prototype.publish=function(e){try{this.subscriptions.forEach(function(t){return t.observer(JSON.parse(e.data))})}catch(t){console.error("unable to parse data on: ",e)}},WSApi}(n(87).GohanComponent);t.WSApi=c},function(e,t,n){var r=n(358);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,"div.bid-request-monitor-overlay {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: #FFF;\n  border-top: 1px solid #000;\n  max-height: 300px;\n  overflow: auto;\n  padding: 15px;\n  box-sizing: border-box;\n}\ndiv.bid-request-monitor-overlay h2.st-title {\n  margin-bottom: 20px;\n}\ndiv.bid-request-monitor-overlay table {\n  width: 100%;\n}\ndiv.bid-request-monitor-overlay table thead th {\n  background: #eee;\n  color: #5a5b5b;\n  text-align: center;\n  font-weight: bold;\n  text-transform: capitalize;\n  border: 1px solid gray;\n  padding: 5px;\n}\ndiv.bid-request-monitor-overlay table tbody td {\n  text-align: center;\n  border: 1px solid gray;\n  border-top: 0;\n  padding: 2px;\n}\ndiv.bid-request-monitor-overlay .float-right {\n  float: right;\n}\ndiv.bid-request-monitor-overlay .float-left {\n  float: left;\n}\ndiv.bid-request-monitor-overlay .clearfix {\n  clear: both;\n}\n",""])},function(e,t,n){var r=n(360);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,"/* vars */\n.st-text-normal {\n  font-size: 12px;\n}\n.st-text-small {\n  font-size: 10px;\n}\n.st-text-big {\n  font-size: 16px;\n}\n.st-text-stronger {\n  font-weight: 700;\n}\n.st-title {\n  font-size: 16px;\n  font-weight: 700;\n}\n.st-subtitle {\n  opacity: 0.7;\n  font-style: italic;\n  font-size: 12px;\n}\n.seedtag-admin .st-bleeper-bar {\n  position: relative;\n  box-sizing: border-box;\n  width: 400px;\n  height: 100%;\n  color: #5a5b5b;\n  transition: all linear 0.3s;\n}\n.seedtag-admin .st-bleeper-bar .st-bleeper-container {\n  height: 100%;\n  width: 100%;\n}\n.seedtag-admin .st-bleeper-bar .st-bleeper-container .st-scroll {\n  width: 415px;\n  overflow: scroll;\n  overflow-x: hidden;\n  height: 100%;\n  background-color: #e2dad7;\n}\n.seedtag-admin .st-bleeper-bar.st-right {\n  margin-left: -400px;\n}\n.seedtag-admin .st-bleeper-bar.st-left {\n  margin-left: 400px;\n}\n.seedtag-admin .st-bleeper-bar.st-closed {\n  margin-left: 0;\n}\n.seedtag-admin .st-bleeper-bar.st-closed .st-bleeper-tabs .st-tab + .st-tab {\n  z-index: -1;\n  opacity: 0;\n  margin: -42px 0 0 0;\n}\n.seedtag-admin .st-bleeper-bar.st-closed .st-bleeper-tabs .st-tab.st-ontop {\n  opacity: 1;\n  z-index: 2;\n}\n.seedtag-admin .st-bleeper-tabs {\n  position: absolute;\n  width: 40px;\n  top: 0;\n  left: 0;\n  margin-left: -40px;\n  margin-top: 80px;\n}\n.seedtag-admin .st-bleeper-tabs .st-tab {\n  position: relative;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  background-color: #c9c9c9;\n  border-radius: 2px 0 0 2px;\n  text-align: center;\n  line-height: 40px;\n  transition: opacity linear 0.2s, margin linear 0.2s;\n  background-color: #eee;\n  border-color: #c9c9c9;\n}\n.seedtag-admin .st-bleeper-tabs .st-tab:hover {\n  background-color: #c9c9c9;\n}\n.seedtag-admin .st-bleeper-tabs .st-tab.st-active {\n  background-color: #c9c9c9;\n  border-color: #c9c9c9;\n}\n.seedtag-admin .st-bleeper-tabs .st-tab.st-active:hover {\n  background-color: #c9c9c9;\n}\n.seedtag-admin .st-bleeper-tabs .st-tab .st-icon {\n  font-size: 20px;\n  line-height: 40px;\n}\n.seedtag-admin .st-bleeper-tabs.st-right {\n  margin-left: -43px;\n  left: 0;\n}\n.seedtag-admin .st-bleeper-tabs.st-right .st-tab {\n  border-left-width: 1px;\n  border-right: 2px solid transparent !important;\n}\n.seedtag-admin .st-bleeper-tabs.st-left {\n  margin-right: -43px;\n  right: 0;\n}\n.seedtag-admin .st-bleeper-tabs.st-left .st-tab {\n  border-radius: 0 2px 2px 0;\n  float: right;\n  border-right-width: 1px;\n  border-left: 2px solid transparent !important;\n}\n",""])},function(e,t,n){var r=n(362);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,'/* vars */\n.st-text-normal {\n  font-size: 12px;\n}\n.st-text-small {\n  font-size: 10px;\n}\n.st-text-big {\n  font-size: 16px;\n}\n.st-text-stronger {\n  font-weight: 700;\n}\n.st-title {\n  font-size: 16px;\n  font-weight: 700;\n}\n.st-subtitle {\n  opacity: 0.7;\n  font-style: italic;\n  font-size: 12px;\n}\n.seedtag-admin .st-hidden {\n  display: none;\n}\n.seedtag-admin .st-pull-right {\n  float: right;\n}\n.seedtag-admin .st-clearfix:after {\n  content: " ";\n  display: block;\n  height: 0;\n  clear: both;\n}\n.seedtag-admin *[draggable="true"] {\n  cursor: crosshair;\n  cursor: move;\n  cursor: -webkit-grab;\n}\n.seedtag-admin .st-title {\n  margin: 5px 0;\n  font-weight: bold;\n}\n.seedtag-admin input {\n  text-transform: none;\n}\n.seedtag-admin .st-form {\n  margin-bottom: 5px;\n}\n.seedtag-admin .st-form label,\n.seedtag-admin .st-form input,\n.seedtag-admin .st-form select,\n.seedtag-admin .st-form textarea {\n  color: black;\n  position: relative;\n  padding: 5px 0;\n  display: block;\n  width: 100%;\n  visibility: visible;\n  left: 0;\n}\n.seedtag-admin .st-form input,\n.seedtag-admin .st-form select,\n.seedtag-admin .st-form textarea {\n  border: 1px solid #dedede;\n  padding: 3px;\n}\n.seedtag-admin .st-form input[disabled],\n.seedtag-admin .st-form select[disabled],\n.seedtag-admin .st-form textarea[disabled] {\n  background: #cccccc;\n  opacity: 0.7;\n}\n.seedtag-admin .st-form .st-form-group {\n  display: block;\n  margin-bottom: 5px;\n}\n.seedtag-admin .st-form .st-form-group.st-inline {\n  display: inline-block;\n}\n.seedtag-admin .st-form .st-form-group label,\n.seedtag-admin .st-form .st-form-group .st-form-element {\n  display: inline-block;\n}\n.seedtag-admin .st-form .st-form-group label {\n  text-align: right;\n  margin-right: 4%;\n  width: 30%;\n}\n.seedtag-admin .st-form .st-form-group .st-form-element {\n  width: 66%;\n}\n.seedtag-admin .st-button {\n  text-align: center;\n  padding: 5px 10px!important;\n  font-weight: 700;\n  text-transform: uppercase;\n  min-width: 30px;\n  box-sizing: border-box;\n  cursor: pointer;\n  font-size: 14px;\n  transition: color 0.2s, background-color 0.2s;\n  color: #5a5b5b;\n  background-color: #d3d3d3;\n}\n.seedtag-admin .st-button.st-margin {\n  margin: 10px;\n  margin-top: 0;\n  border-radius: 3px;\n  font-size: 11px;\n}\n.seedtag-admin .st-button.st-inline {\n  display: inline-block;\n  padding: 3px 10px;\n}\n.seedtag-admin .st-button.st-inverse {\n  color: #d3d3d3;\n  background-color: #414141;\n}\n.seedtag-admin .st-button:hover,\n.seedtag-admin .st-button:active,\n.seedtag-admin .st-button.st-active {\n  background-color: #a0a0a0;\n}\n.seedtag-admin .st-button.st-inverse:hover,\n.seedtag-admin .st-button.st-inverse:active,\n.seedtag-admin .st-button.st-inverse.st-active {\n  color: #a0a0a0;\n  background-color: #272828;\n}\n.seedtag-admin .st-button.st-success {\n  color: #fff;\n  background-color: #6fbe7e;\n}\n.seedtag-admin .st-button.st-success.st-inverse {\n  color: #6fbe7e;\n  background-color: #e6e6e6;\n}\n.seedtag-admin .st-button.st-success:hover,\n.seedtag-admin .st-button.st-success:active,\n.seedtag-admin .st-button.st-success.st-active {\n  background-color: #3e894c;\n}\n.seedtag-admin .st-button.st-success.st-inverse:hover,\n.seedtag-admin .st-button.st-success.st-inverse:active,\n.seedtag-admin .st-button.st-success.st-inverse.st-active {\n  color: #3e894c;\n  background-color: #cccccc;\n}\n.seedtag-admin .st-button.st-info {\n  color: #fff;\n  background-color: #8cb7cf;\n}\n.seedtag-admin .st-button.st-info.st-inverse {\n  color: #8cb7cf;\n  background-color: #e6e6e6;\n}\n.seedtag-admin .st-button.st-info:hover,\n.seedtag-admin .st-button.st-info:active,\n.seedtag-admin .st-button.st-info.st-active {\n  background-color: #4889ad;\n}\n.seedtag-admin .st-button.st-info.st-inverse:hover,\n.seedtag-admin .st-button.st-info.st-inverse:active,\n.seedtag-admin .st-button.st-info.st-inverse.st-active {\n  color: #4889ad;\n  background-color: #cccccc;\n}\n.seedtag-admin .st-button.st-danger {\n  color: #fff;\n  background-color: #ea5d4c;\n}\n.seedtag-admin .st-button.st-danger.st-inverse {\n  color: #ea5d4c;\n  background-color: #e6e6e6;\n}\n.seedtag-admin .st-button.st-danger:hover,\n.seedtag-admin .st-button.st-danger:active,\n.seedtag-admin .st-button.st-danger.st-active {\n  background-color: #ba2816;\n}\n.seedtag-admin .st-button.st-danger.st-inverse:hover,\n.seedtag-admin .st-button.st-danger.st-inverse:active,\n.seedtag-admin .st-button.st-danger.st-inverse.st-active {\n  color: #ba2816;\n  background-color: #cccccc;\n}\n.seedtag-admin .st-button.st-disabled {\n  color: #5a5b5b;\n  background-color: #d8d7d7;\n  cursor: default;\n}\n.seedtag-admin .st-button.st-disabled.st-inverse {\n  color: #d8d7d7;\n  background-color: #414141;\n}\n.seedtag-admin * {\n  box-sizing: border-box !important;\n}\n.seedtag-admin *:focus {\n  outline: none;\n}\n.seedtag-admin.st-admin {\n  z-index: 99999999999999;\n  position: fixed;\n  top: 0;\n  width: 0;\n  height: 100%;\n  overflow: visible;\n}\n.seedtag-admin.st-admin.st-right {\n  right: 0;\n}\n.seedtag-admin.st-admin.st-left {\n  left: 0;\n}\n',""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(364);t.BrandingTab=r.BrandingTab},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(90),s=n(88),c=n(205),u=n(371),l=n(137),p=function(e){function BrandingTab(t){var n=e.call(this,t)||this;return n.unMounting=!1,n.state={campaigns:[],blacklist:{blacklisted:!1,matching:{name:""}},publisherState:s.get(n.props.model,"config.publisher.state")},s.get(n.props.model,"config.blacklisted")&&(n.state=o({},n.state,{blacklist:{blacklisted:!0,matching:s.get(n.props.model,"config.blacklistedReason",{})},publisherState:s.get(n.props.model,"config.publisher.state")})),n.api=new l.TaggingServiceApi(n.props.context),n}return i(BrandingTab,e),BrandingTab.prototype.componentDidMount=function(){var e=this;this.api.getCampaigns(this.props.model.publisher.id).then(function(t){if(void 0===t&&(t=[]),!e.unMounting){var n=t.sort(function(e,t){var n=e.name.toLocaleLowerCase(),r=t.name.toLocaleLowerCase();return-1!==n.indexOf("automated")&&(n="zzzz"+n),-1!==r.indexOf("automated")&&(r="zzzz"+n),n>r?1:n<r?-1:0});e.setState({campaigns:n})}})},BrandingTab.prototype.componentWillUnmount=function(){this.unMounting=!0},BrandingTab.prototype.render=function(){var e=this,t="";this.props.model.template&&(t=this.props.model.template.name);var n="Branding ("+t+")",r=[];this.state.publisherState||r.push(a.createElement(c.HeaderApp,{key:0,title:"Disabled publisher",state:"error"}));var i=this.state.blacklist,o=[];return i.blacklisted&&o.push(a.createElement(c.HeaderApp,{key:1,title:"blacklisted "+i.matching.name+" "+i.matching.value,state:"error"})),a.createElement("div",null,r,o,a.createElement(c.HeaderApp,{title:n}),this.state.campaigns.map(function(t,n){return a.createElement(u.BrandingCampaign,{context:e.props.context,key:n,model:t})}))},BrandingTab}(a.Component);t.BrandingTab=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(100);n(369);var s=function(e){function HeaderApp(){return null!==e&&e.apply(this,arguments)||this}return i(HeaderApp,e),HeaderApp.prototype.render=function(){return o.createElement(a.BleeperApp,{appName:"header",title:this.props.title,state:this.props.state})},HeaderApp}(o.Component);t.HeaderApp=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90);n(367);var a=function(e){function BleeperApp(t){var n=e.call(this,t)||this;return n.state={collapsed:!0},n}return i(BleeperApp,e),BleeperApp.prototype.onHeaderClick=function(){this.setState({collapsed:!this.state.collapsed})},BleeperApp.prototype.render=function(){var e=null,t=null,n=["st-header",this.props.state?"st-"+this.props.state:""],r=["st-bleeper-app","st-bleeper-app_"+(this.props.appName||""),this.props.collapsible?"st-collapsible":"",this.props.collapsible&&this.state.collapsed?"st-closed":""];return(this.props.title||this.props.collapsible)&&(e=o.createElement("div",{className:n.join(" "),onClick:this.onHeaderClick.bind(this)},o.createElement("span",{className:"st-app-title",title:this.props.title},this.props.title))),this.props.children&&(t=o.createElement("div",{className:"st-content"},this.state.collapsed&&this.props.collapsible?null:this.props.children)),o.createElement("div",{className:r.join(" ")},e,t)},BleeperApp}(o.Component);t.BleeperApp=a},function(e,t,n){var r=n(368);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,"/* vars */\n.st-text-normal {\n  font-size: 12px;\n}\n.st-text-small {\n  font-size: 10px;\n}\n.st-text-big {\n  font-size: 16px;\n}\n.st-text-stronger {\n  font-weight: 700;\n}\n.st-title {\n  font-size: 16px;\n  font-weight: 700;\n}\n.st-subtitle {\n  opacity: 0.7;\n  font-style: italic;\n  font-size: 12px;\n}\n.seedtag-admin .st-bleeper-app {\n  position: relative;\n  margin: 5px 3px;\n  border: 1px solid #c9c9c9;\n  background-color: #fff;\n  width: calc(100% - 10px);\n}\n.seedtag-admin .st-bleeper-app .st-button {\n  border-radius: 3px;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n}\n.seedtag-admin .st-bleeper-app .st-content {\n  padding: 15px 10px;\n  box-sizing: border-box;\n  widows: 100%;\n}\n.seedtag-admin .st-bleeper-app .st-content > * {\n  font-size: 12px;\n}\n.seedtag-admin .st-bleeper-app > .st-header {\n  height: 45px;\n  line-height: 45px;\n  padding: 0 10px;\n  background-color: #eee;\n  font-size: 16px;\n  font-weight: 700;\n}\n.seedtag-admin .st-bleeper-app > .st-header.st-warn {\n  background-color: #f4a839;\n  color: white;\n}\n.seedtag-admin .st-bleeper-app > .st-header.st-error {\n  background-color: #ea5d4c;\n  color: white;\n}\n.seedtag-admin .st-bleeper-app.st-collapsible {\n  padding-top: 0;\n}\n.seedtag-admin .st-bleeper-app.st-collapsible .st-header {\n  cursor: pointer;\n}\n.seedtag-admin .st-bleeper-app.st-collapsible .st-header:after {\n  content: '\\E006';\n  position: absolute;\n  top: 0;\n  right: 15px;\n}\n.seedtag-admin .st-bleeper-app.st-collapsible .st-content {\n  padding-top: 15px;\n  transition: all linear 0.1s;\n}\n.seedtag-admin .st-bleeper-app.st-collapsible.st-closed .st-header:after {\n  content: '\\E003';\n}\n.seedtag-admin .st-bleeper-app.st-collapsible.st-closed .st-content {\n  max-height: 0;\n  padding-top: 0;\n  padding-bottom: 0;\n  overflow: hidden;\n}\n",""])},function(e,t,n){var r=n(370);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,".seedtag-admin .st-bleeper-app_header .st-header .st-app-title {\n  text-transform: capitalize;\n  font-size: 16px;\n  font-weight: 700;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(372))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(88),s=n(100),c=n(373);n(374);var u=function(e){function BrandingCampaign(t){var n=e.call(this,t)||this;return n.state={},n}return i(BrandingCampaign,e),BrandingCampaign.prototype.getName=function(e){return e.toLowerCase().replace("camp_","").replace(/_/g," ")},BrandingCampaign.prototype.render=function(){var e=this,t=this.props.model;t.name=this.getName(t.name);var n=t.creatives||[],r=a.shuffle(["st-fire","st-sea","st-sand","st-forest","st-yellow"]);return o.createElement(s.BleeperApp,{appName:"branding-campaign",collapsible:!0,title:t.name,state:-1!==t.name.indexOf("automated")?"warn":""},o.createElement("div",{className:"st-branding-campaign-list"},n.map(function(n,i){return n.campaign=t,o.createElement(c.CampaignItem,{key:i,context:e.props.context,model:n,className:r[i%r.length]})})))},BrandingCampaign}(o.Component);t.BrandingCampaign=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a={"3_3":"st-display-horizontal","10_1":"st-display-horizontal","20_1":"st-inimage-video"},s=function(e){function CampaignItem(){return null!==e&&e.apply(this,arguments)||this}return i(CampaignItem,e),CampaignItem.prototype.render=function(){var e=this.props.model,t=e.name,n=["st-creative",a[e.format]||"st-no-format",this.props.className||""];return o.createElement("div",{className:"st-item",draggable:!0,onDragStart:this.onDragItem.bind(this),onDragEnd:this.onDragEnd.bind(this)},o.createElement("div",{className:n.join(" ")}),o.createElement("div",{className:"st-title",title:t},t))},CampaignItem.prototype.getTagData=function(){var e=this.props.model;return{id:e.campaign.id,name:e.campaign.name,creativeId:e.id}},CampaignItem.prototype.onDragItem=function(e){if(this.props.context){var t={tagging:"branding",element:this.getTagData()};e.dataTransfer.setData("text/plain",JSON.stringify(t)),this.props.context.publish({channel:"admin",topic:"tagging.start",data:t})}},CampaignItem.prototype.onDragEnd=function(){this.props.context.publish({channel:"admin",topic:"tagging.end",data:{tagging:"branding",element:this.getTagData()}})},CampaignItem}(o.Component);t.CampaignItem=s},function(e,t,n){var r=n(375);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,"/* vars */\n.st-text-normal {\n  font-size: 12px;\n}\n.st-text-small {\n  font-size: 10px;\n}\n.st-text-big {\n  font-size: 16px;\n}\n.st-text-stronger {\n  font-weight: 700;\n}\n.st-title {\n  font-size: 16px;\n  font-weight: 700;\n}\n.st-subtitle {\n  opacity: 0.7;\n  font-style: italic;\n  font-size: 12px;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n  width: 31.333%;\n  margin: 1%;\n  overflow: hidden;\n  border-radius: 4px;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-title {\n  position: absolute;\n  top: 0;\n  padding: 3px 8px;\n  background-color: rgba(0, 0, 0, 0.6);\n  color: white;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-creative {\n  padding-bottom: 100%;\n  width: 100%;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-creative.st-sand {\n  background-color: #c58d73;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-creative.st-fire {\n  background-color: #ea5d4c;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-creative.st-forest {\n  background-color: #6fbe7e;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-creative.st-sea {\n  background-color: #8cb7cf;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-creative.st-yellow {\n  background-color: #f4a839;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-creative.st-carrot {\n  background-color: #e67e22;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-creative:after {\n  content: ' ';\n  position: absolute;\n  background-color: rgba(204, 204, 204, 0.8);\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-creative.st-inimage-video:after {\n  content: '>';\n  bottom: 0;\n  left: 0;\n  height: 20%;\n  width: 100%;\n  text-align: center;\n  font-weight: 700;\n  font-size: 14px;\n}\n.seedtag-admin .st-bleeper-app_branding-campaign .st-item .st-creative.st-display-horizontal:after {\n  bottom: 0;\n  left: 0;\n  height: 20%;\n  width: 100%;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(377);t.TagManagerTab=r.TagManagerTab},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(90),s=n(205),c=n(378),u=n(402),l=n(406),p=n(410),d=function(e){function TagManagerTab(){return null!==e&&e.apply(this,arguments)||this}return i(TagManagerTab,e),TagManagerTab.prototype.componentWillMount=function(){this.props.context.publish({channel:"template-manager",topic:"tester.enable"})},TagManagerTab.prototype.componentWillUnmount=function(){this.props.context.publish({channel:"template-manager",topic:"tester.disable"})},TagManagerTab.prototype.render=function(){var e="Tag Manager ("+(this.props.model.template?this.props.model.template.name:"")+")";return a.createElement("div",null,a.createElement(s.HeaderApp,{title:e}),a.createElement(c.TemplateManager,{context:this.props.context,model:this.props.model,active:this.props.active}),a.createElement(p.BaseSrcEvaluable,o({},this.props)),a.createElement(u.UrlDisabler,o({},this.props)),a.createElement(l.UrlWhitelister,o({},this.props)))},TagManagerTab}(a.Component);t.TagManagerTab=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(379))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(90),s=n(100),c=n(380),u=n(381),l=n(399),p=n(159);n(400);var d=function(e){function TemplateManager(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateTester=null,t._bleeperContainer=document.createElement("div"),t.state={selectedTemplateIndex:"-"},t}return i(TemplateManager,e),TemplateManager.prototype.componentWillMount=function(){this._bleeperContainer.className="seedtag-gohan seedtag-admin st-testers",document.body.appendChild(this._bleeperContainer)},TemplateManager.prototype.componentDidUpdate=function(){this._bleeperContainer&&a.render(o.createElement(l.TemplateTester,{context:this.props.context,model:this.props.model,active:this.props.active,onError:this.onTemplateError.bind(this)}),this._bleeperContainer)},TemplateManager.prototype.onTemplateError=function(e){var t="AdUnit "+e.adunit.name+" Evaluating error see console";console.error(t,e),window.alert(t)},TemplateManager.prototype.onChangeSelectedTemplate=function(e){"-"===e.target.value&&this.props.context.publish({channel:"template-manager",topic:"adunitrules-loaded",data:{rules:[]}}),this.setState({selectedTemplateIndex:parseInt(e.target.value,10)})},TemplateManager.prototype.onAdd=function(){this.props.context.publish({channel:"template-manager",topic:"adunitrules-loaded",data:{rules:[]}}),this.props.model.templates.push(p.fixModel({_tempId:"new-"+Math.random(),name:"#"+Math.floor(1e3*Math.random()),category:"",publisherId:this.props.model.publisher.id,condition:{expression:"return //.test(environment.href.split('#')[0]);",type:"js"}})),this.setState({selectedTemplateIndex:this.props.model.templates.length-1})},TemplateManager.prototype.onDestroy=function(e){var t=this.props.model.templates.indexOf(e);this.props.model.templates.splice(t,1),this.setState({selectedTemplateIndex:"-"})},TemplateManager.prototype.render=function(){var e=[];if("-"!==this.state.selectedTemplateIndex){var t=this.props.model.templates[this.state.selectedTemplateIndex];e.push(o.createElement(u.TemplateEditor,{context:this.props.context,key:"template-editor-"+this.state.selectedTemplateIndex,onDestroy:this.onDestroy.bind(this,t),publisher:this.props.model.publisher,template:t}))}return o.createElement(s.BleeperApp,{appName:"template-manager",title:"Templates",collapsible:!0},o.createElement(c.TemplateSelector,{key:"template-selector",selectedIndex:String(this.state.selectedTemplateIndex),onAdd:this.onAdd.bind(this),onChange:this.onChangeSelectedTemplate.bind(this),templates:this.props.model.templates}),e)},TemplateManager}(o.Component);t.TemplateManager=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(89),a=n(90),s=function(e){function TemplateSelector(){return null!==e&&e.apply(this,arguments)||this}return i(TemplateSelector,e),TemplateSelector.prototype.renderOptions=function(){var e=this;return o.StArray.from(["-"===this.props.selectedIndex?{id:"-",name:"-"}:null].concat(this.props.templates.sort(function(e,t){return(t.priority||0)-(e.priority||0)}))).filter(Boolean).map(function(t){return a.createElement("option",{key:t.id||t._tempId,value:e.props.templates.indexOf(t)},t.name)})},TemplateSelector.prototype.render=function(){return a.createElement("div",{className:"st-tempalte-selector"},a.createElement("div",{className:"st-form"},a.createElement("select",{onChange:this.props.onChange,className:"template-selector",value:this.props.selectedIndex},this.renderOptions()),a.createElement("button",{className:"st-pull-right st-button st-inline st-success",onClick:this.props.onAdd},"+")),a.createElement("div",{className:"st-clearfix"}))},TemplateSelector}(a.Component);t.TemplateSelector=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(120),s=n(382),c=n(113),u=n(210),l=function(e){function TemplateEditor(t){var n=e.call(this,t)||this;return n.api=new a.AdminApi(n.props.context),n.state={modified:!1,buttonText:"SAVE",pageTypes:[]},n.api.dictionaries("page",t.publisher.type).then(function(e){return n.setState({pageTypes:e.types})}),n}return i(TemplateEditor,e),TemplateEditor.prototype.onNameChanged=function(e){this.props.template.name=e.target.value,this.setState({modified:!0,buttonText:"SAVE"})},TemplateEditor.prototype.onConditionChanged=function(e){this.props.template.condition.expression=e,this.setState({modified:!0,buttonText:"SAVE"})},TemplateEditor.prototype.onCategoryChanged=function(e){this.props.template.category=e.target.value,this.setState({modified:!0,buttonText:"SAVE"})},TemplateEditor.prototype.onPriorityChange=function(e){this.props.template.priority=e.target.value,this.setState({modified:!0,buttonText:"SAVE"})},TemplateEditor.prototype.handleContentRootChange=function(e){this.props.template.integration.contentRoot=e,this.setState({modified:!0,buttonText:"SAVE"})},TemplateEditor.prototype.onSave=function(){var e=this;this.state.modified&&(this.setState({modified:!1,buttonText:"SAVING..."}),this.api.update("Templates",this.props.template).then(function(t){e.props.template.id=t.id,e.setState({modified:!1,buttonText:"SAVED"}),setTimeout(function(){e.setState({modified:e.state.modified,buttonText:"SAVE"}),e.forceUpdate()},800)}).catch(function(t){e.setState({modified:!1,buttonText:"SAVE"}),console.error(t.statusText)}))},TemplateEditor.prototype.onDelete=function(){var e=this;if(!this.props.template.id)return this.props.onDestroy();window.confirm("Are you sure?")&&this.api.remove("Templates",this.props.template.id).then(function(t){return e.props.onDestroy()}).catch(function(e){return console.error(e.statusText)})},TemplateEditor.prototype.render=function(){var e=["st-right","st-button","st-inline","button-save"],t=[],n=null;return e.push(this.state.modified?"st-success":"st-disabled"),void 0!==this.props.template.id&&(n=o.createElement(s.AdunitEditor,{context:this.props.context,key:"adunit-editor-"+this.props.template.id,template:this.props.template,publisher:this.props.publisher})),this.state.pageTypes.map(function(e,n){return t.push(o.createElement("option",{key:n,value:e},e))}),o.createElement("div",{className:"template-editor"},o.createElement("div",{className:"template-details"},o.createElement("div",{className:"st-form"},o.createElement("div",{className:"name"},o.createElement("label",null,"Name:"),o.createElement("input",{onChange:this.onNameChanged.bind(this),className:"input-name",type:"text",defaultValue:this.props.template.name})),o.createElement("div",{className:"condition"},o.createElement("label",null,"Condition:"),o.createElement(c.JSEditor,{minLines:1,onChange:this.onConditionChanged.bind(this),className:"input-condition",value:this.props.template.condition.expression})),o.createElement("div",{className:"priority"},o.createElement("label",null,"+ Priority: (0 is lower than 1)"),o.createElement("input",{onChange:this.onPriorityChange.bind(this),type:"number",defaultValue:this.props.template.priority})),o.createElement("div",{className:"st-category"},o.createElement("label",null,"Category:"),o.createElement("select",{onChange:this.onCategoryChanged.bind(this),defaultValue:this.props.template.category},o.createElement("option",{value:""},"not set"),o.createElement("option",{value:"home"},"home"),o.createElement("option",{value:"article"},"article"),o.createElement("option",{value:"frontpage"},"frontpage"),o.createElement("option",{value:"gallery"},"gallery"),o.createElement("option",{value:"misc"},"misc")))),this.contentRoot(),o.createElement("div",{className:"st-clearfix"},o.createElement("button",{className:e.join(" "),onClick:this.onSave.bind(this)},this.state.buttonText),o.createElement("button",{style:{marginRight:4},className:["st-right","st-button","st-inline","button-save","st-danger"].join(" "),onClick:this.onDelete.bind(this)},"DELETE"))),n)},TemplateEditor.prototype.contentRoot=function(){return o.createElement(u.Expandable,{title:"Content Root"},o.createElement(c.JSEditor,{minLines:1,onChange:this.handleContentRootChange.bind(this),className:"input-condition",value:this.props.template.integration.contentRoot||"// return greg.query('main:last-of-type')[0]"}),o.createElement("p",null,"Content Root will update 'greg.adunits' method to selected node under this element"))},TemplateEditor}(o.Component);t.TemplateEditor=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(90),s=n(120),c=n(383),u=n(136),l=n(99);!function(e){e.A="aggressive",e.S="standard"}(o=t.AdUnitType||(t.AdUnitType={}));var p=function(e){function AdunitEditor(t){var n=e.call(this,t)||this;return n.isLoaded=!1,n.rules=[],n.takenNames=[],n.api=new s.AdminApi(n.props.context),n}return i(AdunitEditor,e),AdunitEditor.prototype.onAdd=function(e){var t,n,r=this.takenNames.filter(function(t){return new RegExp("^"+e+"_").test(t)}).map(function(e){return Number(e.slice(e.lastIndexOf("_")+1,e.length))}).filter(function(e){return!isNaN(e)}).sort().reverse()[0]||0;this.rules.push((t={_tempId:"new-"+Math.random(),name:e+"_"+(r+1),occurrences:"*",templateId:this.props.template.id,content_category:this.props.publisher.category},(n=l.fixModel(t)).gallery||(n.gallery=new u.GalleryData(n.gallery)),t.additionalRenderingData||(n.additionalRenderingData={addToWidth:{expression:"// return lib.select('')[0].offsetWidth;"},addToHeight:{expression:"// return lib.select('')[0].offsetHeight;"},addToTop:{expression:"// return lib.select('')[0].offsetHeight;"},addToLeft:{expression:"// return lib.select('')[0].offsetWidth;"}}),n)),this.takenNames.push(this.rules[this.rules.length-1].name),this.forceUpdate()},AdunitEditor.prototype.onDestroy=function(e){var t=this.rules.indexOf(e);this.takenNames=this.takenNames.filter(function(t){return t!==e.name}),this.rules.splice(t,1),this.forceUpdate()},AdunitEditor.prototype.onModelChanged=function(e,t){e&&(this.rules[t]=e,this.forceUpdate()),this.props.context.publish({channel:"template-manager",topic:"adunitrules-loaded",data:{rules:this.rules}})},AdunitEditor.prototype.load=function(){var e=this;this.isLoaded=!0,this.api.find("Adunits",{templateId:this.props.template.id}).then(function(t){e.rules=t.map(function(e){return l.fixModel(e)}),e.takenNames=t.map(function(e){return e.name}),e.props.context.publish({channel:"template-manager",topic:"adunitrules-loaded",data:{rules:t}}),e.forceUpdate()}).catch(function(e){return console.error(e.statusText)})},AdunitEditor.prototype.render=function(){var e=this;this.isLoaded||this.load();var t=(this.rules||[]).map(function(t,n){return a.createElement(c.Adunit,{key:t.id||t._tempId,onModelChanged:function(t){return e.onModelChanged(t,n)},onDestroy:e.onDestroy.bind(e,t),context:e.props.context,rule:t})});return a.createElement("div",{className:"adunit-rule-creator"},a.createElement("div",{className:"st-clearfix"},a.createElement("div",{className:"st-right st-button st-inline st-success",onClick:function(){return e.onAdd(o.S)}},"+ standard"),a.createElement("div",{className:"st-right st-button st-inline st-success",onClick:function(){return e.onAdd(o.A)}},"+ aggressive")),a.createElement("div",{className:"adunit-rules"},t))},AdunitEditor}(a.Component);t.AdunitEditor=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(90),u=n(120),l=n(136),p=n(88),d=n(89),f=n(113),h=n(99),g=n(210),y=Object.keys(h.AdUnitType).map(function(e){return h.AdUnitType[e]}),v=function(e){function Adunit(t){var n=e.call(this,t)||this;return t.rule.visibility||(t.rule.visibility={expression:"return true",type:"js"}),t.rule.evaluable||(t.rule.evaluable={expression:'return greg.adunits(".main img")[0]',type:"js"}),n.api=new u.AdminApi(n.props.context),n.galleryDetectionHelper=new l.GalleryDetectionHelper({gallery:n.props.rule.gallery,knownGalleries:l.knownGalleries}),n.state={editing:!1,modified:!1,buttonText:"SAVE"},n}return i(Adunit,e),Adunit.prototype.onButtonEditClick=function(){this.setState(o({},this.state,{editing:!this.state.editing,modified:this.state.modified,buttonText:"SAVE"}))},Adunit.prototype.render=function(){var e=this.state.editing?"-":"e",t=this.state.editing||void 0===this.props.rule.id,n=["adunit-rule-viewer","st-clearfix",t?"st-editing":""];return c.createElement("div",{className:n.join(" ")},c.createElement("div",{onClick:this.onButtonEditClick.bind(this),style:{cursor:"pointer"}},c.createElement("button",{className:"st-right st-button st-inline st-danger"},e),c.createElement("span",{className:"name"},this.props.rule.name)),t?this._getEditingNode():"")},Adunit.prototype.onButtonTestClick=function(){this.props.onModelChanged()},Adunit.prototype.onFieldChange=function(e,t){var n=d.StArray.from(t.split("."));n.reduce(function(t,r,i){return i===n.length-1&&(t[r]=e),t[r]},this.props.rule),this.setState(o({},this.state,{editing:!0,modified:!0,buttonText:"SAVE"}))},Adunit.prototype.onSelectKnownGallery=function(e){this.knownGallery=p.ImmutabilityHelper.copy(this.galleryDetectionHelper.knownGalleries.find(function(t){return t.name===e})),this.knownGallery&&(this.props.rule.gallery=new l.GalleryData(this.knownGallery.gallery)),this.forceUpdate()},Adunit.prototype.onSave=function(){return a(this,void 0,void 0,function(){var e,t,n,r,i,a,c,u,f=this;return s(this,function(s){switch(s.label){case 0:return this.state.modified?((e=p.ImmutabilityHelper.copy(this.props.rule)).gallery.active||(e.gallery=new l.GalleryData),this.setState(o({},this.state,{editing:!0,modified:!1,buttonText:"SAVING..."})),e.id?[3,2]:(t=e.name.split("_")[0],i=(r=d.StArray).from,[4,this.api.find("Adunits",{templateId:this.props.rule.templateId})])):[2,this.props.onModelChanged()];case 1:(n=i.apply(r,[s.sent()]).map(function(e){return String(e.name)})).find(function(t){return t===e.name})&&(a=n.filter(function(e){return e.split("_")[0]===t}).map(function(e){return Number(e.split("_")[1])}).reduce(function(e,t){return e>t?e:t},0),e.name=t+"_"+(a+1)),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.api.update("Adunits",e)];case 3:return c=s.sent(),this.props.rule.id=c.id,this.props.rule.name=c.name,this.props.onModelChanged(this.props.rule),this.setState(o({},this.state,{editing:!0,modified:!1,buttonText:"SAVED"})),setTimeout(function(){f.setState(o({},f.state,{editing:!0,modified:f.state.modified,buttonText:"SAVE"}))},800),[3,5];case 4:return u=s.sent(),console.error(u.statusText),[3,5];case 5:return[2]}})})},Adunit.prototype.onDelete=function(){var e=this;if(!this.props.rule.id)return this.props.onDestroy();confirm("Are you sure?")&&this.api.remove("Adunits",this.props.rule.id).then(function(t){return e.props.onDestroy()}).catch(function(e){return console.error(e.statusText)})},Adunit.prototype.handleTypeChange=function(e){var t=o({},this.props.rule);t.type=e,this.onFieldChange(e,"type"),this.onFieldChange(t.type===h.AdUnitType.oldGallery,"gallery.active"),e&&!this.props.rule.gallery.isValid()&&this.knownGallery&&this.onSelectKnownGallery(this.knownGallery.name)},Adunit.prototype._getEditingNode=function(){var e=this,t=["st-right","st-button","st-inline","button-save"];return t.push(this.state.modified?"st-success":"st-disabled"),c.createElement("div",{className:"adunit-rule-editor st-form"},c.createElement("div",null,c.createElement("label",null,"Type:"),c.createElement("select",{value:this.props.rule.type,onChange:function(t){return e.handleTypeChange(t.target.value)}},y.map(function(e){return c.createElement("option",{value:e},e)}))),c.createElement("div",{className:"name"},c.createElement("label",null,"Name:"),c.createElement("input",{className:"input-name",onChange:function(t){return e.onFieldChange(t.target.value,"name")},type:"text",defaultValue:this.props.rule.name,disabled:!0})),c.createElement("div",null,c.createElement("div",{className:"expression"},c.createElement("label",null,"Expression:"),c.createElement(f.JSEditor,{className:"input-expression",minLines:1,onChange:function(t){return e.onFieldChange(t,"evaluable.expression")},value:this.props.rule.evaluable.expression}))),this.props.rule.type===h.AdUnitType.oldGallery?c.createElement(g.Expandable,{title:"OldGallery"},this.gallery()):"",c.createElement(g.Expandable,{title:"Position"},this.additionalRender()),c.createElement(g.Expandable,{title:"Visibility"},this.visibility()),c.createElement("div",{className:"st-clearfix"},c.createElement("div",{onClick:this.onButtonTestClick.bind(this),className:"left st-button st-inline st-success button-test st-right"},"TEST"),c.createElement("div",{className:t.join(" "),onClick:this.onSave.bind(this)},"SAVE"),c.createElement("div",{style:{marginRight:4},className:"st-right st-button st-inline st-danger",onClick:this.onDelete.bind(this)},"DELETE")))},Adunit.prototype.visibility=function(){var e=this;return c.createElement(f.JSEditor,{minLines:1,className:"input-expression",onChange:function(t){return e.onFieldChange(t,"visibility.expression")},value:this.props.rule.visibility.expression})},Adunit.prototype.additionalRender=function(){var e=this;return c.createElement("div",null,c.createElement("div",null,c.createElement("div",{className:"expression"},c.createElement("label",null,"Add to Width: ",c.createElement("small",null,"(expression that returns a number)")),c.createElement(f.JSEditor,{className:"input-expression",minLines:1,onChange:function(t){return e.onFieldChange(t,"additionalRenderingData.addToWidth.expression")},value:this.props.rule.additionalRenderingData.addToWidth.expression}))),c.createElement("div",null,c.createElement("div",{className:"expression"},c.createElement("label",null,"Add to Height: ",c.createElement("small",null,"(expression that returns a number)")),c.createElement(f.JSEditor,{className:"input-expression",minLines:1,onChange:function(t){return e.onFieldChange(t,"additionalRenderingData.addToHeight.expression")},value:this.props.rule.additionalRenderingData.addToHeight.expression}))),c.createElement("div",null,c.createElement("div",{className:"expression"},c.createElement("label",null,"Add to Top: ",c.createElement("small",null,"(expression that returns a number)")),c.createElement(f.JSEditor,{className:"input-expression",minLines:1,onChange:function(t){return e.onFieldChange(t,"additionalRenderingData.addToTop.expression")},value:this.props.rule.additionalRenderingData.addToTop.expression}))),c.createElement("div",null,c.createElement("div",{className:"expression"},c.createElement("label",null,"Add to Left: ",c.createElement("small",null,"(expression that returns a number)")),c.createElement(f.JSEditor,{className:"input-expression",minLines:1,onChange:function(t){return e.onFieldChange(t,"additionalRenderingData.addToLeft.expression")},value:this.props.rule.additionalRenderingData.addToLeft.expression}))))},Adunit.prototype.gallery=function(){var e=this;return c.createElement("div",null,c.createElement("div",null,c.createElement("label",null,"Autocomplete with a known gallery"),c.createElement("select",{value:this.knownGallery&&this.knownGallery.name,onChange:function(t){return e.onSelectKnownGallery(t.target.value)}},this.galleryDetectionHelper.knownGalleries.map(function(e){return e.name}).sort().map(function(e){return c.createElement("option",{key:e,value:e},e)}))),c.createElement("div",null,c.createElement("label",null,"Transitions:"),c.createElement("input",{value:this.props.rule.gallery.transitions,onChange:function(t){return e.onFieldChange(Number(t.target.value),"gallery.transitions")},type:"number"})),c.createElement("div",null,c.createElement("label",null,"Starting Slide Index: ",c.createElement("small",null,"(first slide is 0)")),c.createElement("input",{value:this.props.rule.gallery.startingSlideIndex,onChange:function(t){return e.onFieldChange(Number(t.target.value),"gallery.startingSlideIndex")},type:"number"})),c.createElement("div",null,c.createElement("label",null,"Nested Image Selector:"),c.createElement("input",{value:this.props.rule.gallery.nestedImageSelector,onChange:function(t){return e.onFieldChange(t.target.value,"gallery.nestedImageSelector")},type:"text"})),c.createElement("div",null,c.createElement("div",null,c.createElement("label",null,"Simple Location Expression:"),c.createElement(f.JSEditor,{minLines:1,onChange:function(t){return e.onFieldChange(t,"gallery.activeLocationExpression.simpleSelector")},value:this.props.rule.gallery.activeLocationExpression.simpleSelector})),c.createElement("div",null,c.createElement("div",null,c.createElement("label",null,"Slides Locator:"),c.createElement(f.JSEditor,{className:"input-expression",minLines:1,onChange:function(t){return e.onFieldChange(t,"gallery.activeLocationExpression.slidesLocator")},value:this.props.rule.gallery.activeLocationExpression.slidesLocator})),c.createElement("div",null,c.createElement("label",null,"Comparator: ",c.createElement("small",null,'(if simple location expression is empty, takes "slide" and "reference" as parameters)')),c.createElement(f.JSEditor,{className:"input-expression",onChange:function(t){return e.onFieldChange(t,"gallery.activeLocationExpression.comparator")},value:this.props.rule.gallery.activeLocationExpression.comparator})),c.createElement("div",null,c.createElement("label",null,"Reference Locator: ",c.createElement("small",null,"(if simple location expression is empty, returns value to be used by comparator)")),c.createElement(f.JSEditor,{className:"input-expression",onChange:function(t){return e.onFieldChange(t,"gallery.activeLocationExpression.referenceLocator")},value:this.props.rule.gallery.activeLocationExpression.referenceLocator})),c.createElement("div",null,c.createElement("label",null,"Loop ",c.createElement("small",null,"(does the gallery start over once it reaches the end?)")),c.createElement("select",{onChange:function(t){return e.onFieldChange(JSON.parse(t.target.value),"gallery.loop")},value:JSON.stringify(this.props.rule.gallery.loop)},">",c.createElement("option",null,"true"),c.createElement("option",null,"false"))),c.createElement("div",null,c.createElement("label",null,"Over Eager Loading: ",c.createElement("small",null,"(AdUnits to be loaded before they are shown)")),c.createElement("input",{value:this.props.rule.gallery.overEagerLoading,onChange:function(t){return e.onFieldChange(Number(t.target.value),"gallery.overEagerLoading")},type:"number"})))))},Adunit}(c.Component);t.Adunit=v},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(88),s=n(89),c=function(e){function Tester(t){var n=e.call(this,t)||this;return n.isHidden=!1,n.setSpecificEl(t),n}return i(Tester,e),Object.defineProperty(Tester.prototype,"top",{get:function(){return a.Util.relativeOffset(this.specificEl).top-this.props.marginOut},enumerable:!0,configurable:!0}),Object.defineProperty(Tester.prototype,"left",{get:function(){return a.Util.relativeOffset(this.specificEl).left-this.props.marginOut},enumerable:!0,configurable:!0}),Object.defineProperty(Tester.prototype,"height",{get:function(){return this.specificEl.offsetHeight+2*this.props.marginOut-2*this.props.borderSize},enumerable:!0,configurable:!0}),Object.defineProperty(Tester.prototype,"width",{get:function(){return this.specificEl.offsetWidth+2*this.props.marginOut-2*this.props.borderSize},enumerable:!0,configurable:!0}),Tester.prototype.setSpecificEl=function(e){this.specificEl=e.adunit.gallery.isValid&&e.adunit.gallery.isValid()&&e.adunit.gallery.nestedImageSelector&&e.el.querySelector(e.adunit.gallery.nestedImageSelector)||e.el},Tester.prototype.isVisible=function(){return"none"!==this.props.el.style.display&&"0"!==this.props.el.style.opacity&&"hidden"!==this.props.el.style.visibility&&!this.isHidden},Tester.prototype.componentWillReceiveProps=function(e){this.setSpecificEl(e)},Tester.prototype.componentWillMount=function(){this.interval=setInterval(this.forceUpdate.bind(this),200)},Tester.prototype.componentWillUnmount=function(){clearInterval(this.interval)},Tester.prototype.onMouseEnter=function(){var e=this;clearTimeout(this.onMouseEnterTimeout),this.onMouseEnterTimeout=setTimeout(function(){e.isHidden=!0,e.onMouseLeave()},500)},Tester.prototype.onMouseLeave=function(){var e=this;clearTimeout(this.onMouseEnterTimeout),clearTimeout(this.onMouseLeaveTimeout),this.onMouseLeaveTimeout=setTimeout(function(){return e.isHidden=!1},2e3)},Tester.prototype.render=function(){return this.isVisible()?o.createElement("div",{onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),className:"tester",style:{top:this.top+this.props.additionalRenderingData.addToTop,left:this.left+this.props.additionalRenderingData.addToLeft,height:this.height+this.props.additionalRenderingData.addToHeight,width:this.width+this.props.additionalRenderingData.addToWidth,borderColor:this.props.borderColor,position:"absolute",backgroundColor:this.props.backgroundColor,zIndex:10}},o.createElement("div",{className:"layer"},o.createElement("div",{className:"info"},"Placement: ",this.props.adunit.name))):null},Tester}(o.Component),u=function(e){function AdunitRuleTester(){return null!==e&&e.apply(this,arguments)||this}return i(AdunitRuleTester,e),AdunitRuleTester.prototype.render=function(){var e=this,t=null,n=!0,r=this.props.context.get("factory.evaluable");try{t=this.props.adunit.gallery&&this.props.adunit.gallery.isValid&&this.props.adunit.gallery.isValid()?r({expression:this.props.adunit.gallery.activeLocationExpression.slidesLocator}).evaluate():r(this.props.adunit.evaluable).evaluate()}catch(e){return this.props.onError&&this.props.onError({exception:e,adunit:this.props.adunit}),o.createElement("div",null)}try{n=r(this.props.adunit.visibility).evaluate({element:t})}catch(e){}if(t instanceof HTMLElement)t=s.StArray.from([t]);else{if(!(t instanceof NodeList))return o.createElement("div",null);t=s.StArray.from(t)}this.props.adunit.gallery&&this.props.adunit.gallery.active&&this.props.adunit.gallery.transitions&&!/^aggressive_/.test(this.props.adunit.name)&&(t=t.filter(function(t,n){return!(n%e.props.adunit.gallery.transitions)}));var i=s.StArray.from([]),a={addToHeight:0,addToWidth:0,addToTop:0,addToLeft:0},u=n?"rgba("+this.props.color.join(", ")+", 0.3)":"rgba(128, 128, 128, 0.3)",l=n?"rgba("+this.props.color.join(", ")+", 1)":"rgba(128, 128, 128, 1)";try{var p=this.props.adunit.additionalRenderingData;a.addToHeight=r({expression:p.addToHeight.expression}).evaluate()||0,a.addToWidth=r({expression:p.addToWidth.expression}).evaluate()||0,a.addToTop=r({expression:p.addToTop.expression}).evaluate()||0,a.addToLeft=r({expression:p.addToLeft.expression}).evaluate()||0}catch(e){}return i=i.concat(t.map(function(t,n){return o.createElement(c,{key:n,el:t,testerIndex:n,borderColor:l,backgroundColor:u,marginOut:8,borderSize:3,adunit:e.props.adunit,additionalRenderingData:a})})),o.createElement("div",null,i)},AdunitRuleTester}(o.Component);t.AdunitRuleTester=u;var l=function(e){function TemplateTester(t){var n=e.call(this,t)||this;return n.adunitRules=s.StArray.from([]),n.props.context.subscribe({channel:"template-manager",topic:"adunitrules-loaded",callback:n.onAdUnitRulesLoaded.bind(n)}),window.addEventListener("resize",function(){return n.forceUpdate()}),n}return i(TemplateTester,e),TemplateTester.prototype.onAdUnitRulesLoaded=function(e){this.adunitRules=s.StArray.from(e.rules),this.forceUpdate()},TemplateTester.prototype.getRandomColor=function(){var e=this.colors.pop();return this.colors.unshift(e),e},TemplateTester.prototype.render=function(){var e=this,t=[],n=this.adunitRules;return this.colors=[[255,255,0],[0,255,255],[0,255,0],[0,0,255],[255,0,0]],n.forEach(function(n){var r=e.colors.pop();e.colors.unshift(r),t.push(o.createElement(u,{key:n.id,adunit:n,onError:e.props.onError,context:e.props.context,color:e.getRandomColor()}))}),o.createElement("div",null,t)},TemplateTester}(o.Component);t.TemplateTester=l},function(e,t,n){var r=n(401);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,"/* vars */\n.st-bleeper-app_template-manager select.template-selector {\n  width: 90% !important;\n  display: inline-block !important;\n  vertical-align: -webkit-baseline-middle;\n}\n.st-bleeper-app_template-manager .st-template-selector,\n.st-bleeper-app_template-manager .template-editor {\n  margin-bottom: 5px;\n}\n.st-bleeper-app_template-manager .st-button.st-right {\n  margin-right: 10px;\n}\n.st-bleeper-app_template-manager .adunit-rule-creator,\n.st-bleeper-app_template-manager .variable-rule-creator {\n  margin: 1rem 0;\n  border: 1px solid #acacac;\n  padding: 4px;\n}\n.st-bleeper-app_template-manager .adunit-rule-creator .adunit-rules .adunit-rule-viewer,\n.st-bleeper-app_template-manager .variable-rule-creator .adunit-rules .adunit-rule-viewer,\n.st-bleeper-app_template-manager .adunit-rule-creator .variable-rules .adunit-rule-viewer,\n.st-bleeper-app_template-manager .variable-rule-creator .variable-rules .adunit-rule-viewer,\n.st-bleeper-app_template-manager .adunit-rule-creator .adunit-rules .variable-rule-viewer,\n.st-bleeper-app_template-manager .variable-rule-creator .adunit-rules .variable-rule-viewer,\n.st-bleeper-app_template-manager .adunit-rule-creator .variable-rules .variable-rule-viewer,\n.st-bleeper-app_template-manager .variable-rule-creator .variable-rules .variable-rule-viewer {\n  border: 1px solid #d1d1d1;\n  padding: 10px;\n  margin: 5px 0;\n}\n.st-bleeper-app_template-manager .adunit-rule-creator .adunit-rules .adunit-rule-viewer .text-container,\n.st-bleeper-app_template-manager .variable-rule-creator .adunit-rules .adunit-rule-viewer .text-container,\n.st-bleeper-app_template-manager .adunit-rule-creator .variable-rules .adunit-rule-viewer .text-container,\n.st-bleeper-app_template-manager .variable-rule-creator .variable-rules .adunit-rule-viewer .text-container,\n.st-bleeper-app_template-manager .adunit-rule-creator .adunit-rules .variable-rule-viewer .text-container,\n.st-bleeper-app_template-manager .variable-rule-creator .adunit-rules .variable-rule-viewer .text-container,\n.st-bleeper-app_template-manager .adunit-rule-creator .variable-rules .variable-rule-viewer .text-container,\n.st-bleeper-app_template-manager .variable-rule-creator .variable-rules .variable-rule-viewer .text-container {\n  padding: 4px;\n}\n.st-bleeper-app_template-manager .adunit-rule-creator .adunit-rules .adunit-rule-viewer .name,\n.st-bleeper-app_template-manager .variable-rule-creator .adunit-rules .adunit-rule-viewer .name,\n.st-bleeper-app_template-manager .adunit-rule-creator .variable-rules .adunit-rule-viewer .name,\n.st-bleeper-app_template-manager .variable-rule-creator .variable-rules .adunit-rule-viewer .name,\n.st-bleeper-app_template-manager .adunit-rule-creator .adunit-rules .variable-rule-viewer .name,\n.st-bleeper-app_template-manager .variable-rule-creator .adunit-rules .variable-rule-viewer .name,\n.st-bleeper-app_template-manager .adunit-rule-creator .variable-rules .variable-rule-viewer .name,\n.st-bleeper-app_template-manager .variable-rule-creator .variable-rules .variable-rule-viewer .name {\n  font-weight: 700;\n  color: #6fbe7e;\n}\n.st-bleeper-app_template-manager .adunit-rule-creator .variable-rule-editor + .variable-rule-editor,\n.st-bleeper-app_template-manager .variable-rule-creator .variable-rule-editor + .variable-rule-editor {\n  margin-top: 10px;\n  padding-top: 10px;\n  border-top: 1px solid #ccc;\n}\n.st-testers .tester {\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.2);\n  border: 3px dashed #ea5d4c;\n  border-radius: 12px;\n}\n.st-testers .tester .layer {\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.st-testers .tester .layer .info {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n  background-color: #6fbe7e;\n  padding: 4px 8px;\n  border-radius: 3px;\n}\n/** fix for code editor */\n.ace_layer.ace_cursor-layer {\n  width: 100%;\n  height: 100%;\n}\n.ace_layer.ace_cursor-layer .ace_cursor {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace !important;\n  border-left: 2px solid !important;\n}\n.ace_layer.ace_text-layer .ace_line {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace !important;\n}\n.ace_layer.ace_text-layer .ace_line span {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace !important;\n}\n.ace_layer.ace_marker-layer {\n  width: 100% !important;\n  height: 100% !important;\n}\n.ace_editor.ace_autocomplete {\n  z-index: 99999999999;\n}\n.ace_editor.ace-tm {\n  border: 1px #dedede solid !important;\n  max-width: 100% !important;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(403))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(100),s=n(137),c=n(88);n(404);var u=function(e){function UrlDisabler(t){var n=e.call(this,t)||this,r=!1;t.model.url&&t.model.url.taggingConfiguration&&(r=!!t.model.url.taggingConfiguration.disabled);var i=window.location.href;return n.state={disabled:r,url:{url:i.split("#")[0],canonicalUrl:t.context.get("Sherlock-canonical-url")}},n.taggingServiceApi=new s.TaggingServiceApi(t.context),n}return i(UrlDisabler,e),UrlDisabler.prototype.toggle=function(){var e=c.ImmutabilityHelper.immute(this.state);e.disabled?(this.taggingServiceApi.enableUrl(e.url),e.disabled=!1):(this.taggingServiceApi.disableUrl(e.url),e.disabled=!0),this.setState(e)},UrlDisabler.prototype.render=function(){var e=["st-button","st-inline"],t="Enable";return this.state.disabled||(t="Disable",e.push("st-danger")),o.createElement(a.BleeperApp,{appName:"url-disabler",title:"Disable Url"},o.createElement("div",{className:e.join(" "),onClick:this.toggle.bind(this)},t))},UrlDisabler}(o.Component);t.UrlDisabler=u},function(e,t,n){var r=n(405);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,"",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(407))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(100),s=n(137),c=n(88);n(408);var u=function(e){function UrlWhitelister(t){var n=e.call(this,t)||this,r=!1;t.model.url&&t.model.url.taggingConfiguration&&(r=!!t.model.url.taggingConfiguration.whitelisted);var i=window.location.href;return n.state={whitelisted:r,url:{url:i.split("#")[0],canonicalUrl:t.context.get("Sherlock-canonical-url")}},n.taggingServiceApi=new s.TaggingServiceApi(t.context),n}return i(UrlWhitelister,e),UrlWhitelister.prototype.toggle=function(){var e=c.ImmutabilityHelper.immute(this.state);e.whitelisted?(this.taggingServiceApi.unwhitelistUrl(e.url),e.whitelisted=!1):(this.taggingServiceApi.whitelistUrl(e.url),e.whitelisted=!0),this.setState(e)},UrlWhitelister.prototype.render=function(){var e,t=["st-button","st-inline"];return this.state.whitelisted?(e="Unwhitelist",t.push("st-danger")):(e="Whitelist",t.push("st-success")),o.createElement(a.BleeperApp,{appName:"url-whitelister",title:"Whitelist Url"},o.createElement("div",{className:t.join(" "),onClick:this.toggle.bind(this)},e))},UrlWhitelister}(o.Component);t.UrlWhitelister=u},function(e,t,n){var r=n(409);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,"",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(411))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(88),s=n(100),c=n(120),u=n(113),l=function(e){function BaseSrcEvaluable(t){var n=e.call(this,t)||this;n.placeholderText="return environment.element.src",n.model={evaluable:{expression:"",type:"js"}},n.state={changed:!1,bussy:!1},n.api=new c.AdminApi(t.context);var r=a.get(t.model,"publisher.baseSrcEvaluable");return r&&(n.model.evaluable=r),n}return i(BaseSrcEvaluable,e),BaseSrcEvaluable.prototype.saveApi=function(){return this.api.updateBaseSrc(this.props.model.publisher.id,this.model.evaluable)},BaseSrcEvaluable.prototype.onClickSaveButton=function(){var e=this;this.state.changed&&(this.state.bussy=!0,this.saveApi().then(function(){e.state.bussy=!1,e.state.changed=!1,e.setState(e.state)}),this.setState(this.state))},BaseSrcEvaluable.prototype.onExpressionChange=function(e){this.model.evaluable.expression=e,this.state.changed||(this.state.changed=!0,this.setState(this.state))},BaseSrcEvaluable.prototype.render=function(){var e=this.state.bussy?"saving ...":"save",t=["st-button","st-inline",this.state.changed?"st-success":""];return o.createElement(s.BleeperApp,{appName:"id-integrator",title:"Base Src",collapsible:!0},o.createElement("div",{className:"st-form"},o.createElement("div",{className:"condition"},o.createElement(u.JSEditor,{onChange:this.onExpressionChange.bind(this),value:this.model.evaluable.expression}))),o.createElement("div",{className:t.join(" "),onClick:this.onClickSaveButton.bind(this)},e))},BaseSrcEvaluable}(o.Component);t.BaseSrcEvaluable=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(413);t.DebuggingTab=r.DebuggingTab},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(90),c=n(414),u=n(423),l=function(e){function DebuggingTab(){return null!==e&&e.apply(this,arguments)||this}return i(DebuggingTab,e),DebuggingTab.prototype.render=function(){var e=this.props,t=(e.children,a(e,["children"]));return s.createElement("div",null,s.createElement(c.MessageDebugger,o({},t)),s.createElement(c.NetworkManager,o({},t)),s.createElement(c.FeatureManager,o({},t)),s.createElement(c.ConfigOverride,o({},t)),s.createElement(c.VASTTester,o({},t)),s.createElement(u.SSPResponseTester,o({},t)))},DebuggingTab}(s.Component);t.DebuggingTab=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(415);t.MessageDebugger=r.MessageDebugger;var i=n(418);t.NetworkManager=i.NetworkManager;var o=n(419);t.BidRequestMonitor=o.BidRequestMonitor;var a=n(420);t.ConfigOverride=a.ConfigOverride;var s=n(421);t.VASTTester=s.VASTTester;var c=n(422);t.FeatureManager=c.FeatureManager},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(90),u=n(88),l=n(89),p=n(176),d=n(100),f=n(416),h=n(417),g=n(91),y=n(94),v=function(e){function MessageDebuggerComponent(t){var n=e.call(this,t)||this;return n.debuggerEnabled=n.storageVars.debugger,n.state={isEnabled:!1,logs:l.StArray.from([]),channelFilter:"",topicFilter:""},n.logs=l.StArray.from([]),n.onReceiveLog=n.onReceiveLog.bind(n),n.toggleDebugger=n.toggleDebugger.bind(n),n}return i(MessageDebuggerComponent,e),MessageDebuggerComponent.prototype.componentDidMount=function(){var e=this;this.debuggerDispose=this.debuggerEnabled.subscribe(function(t){e.props.waitForMount(function(){e.setState({isEnabled:t.getOrElse(!1)})})}),this.unsubscribe=p.Logger.subscribe(this.onReceiveLog)},MessageDebuggerComponent.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.debuggerDispose&&this.debuggerDispose()},MessageDebuggerComponent.prototype.render=function(){var e=this,t=this.formatLogsForRender(),n=l.StArray.from(Object.keys(t));return c.createElement(d.BleeperApp,{title:"Message Debugger",appName:"Debugger",collapsible:!0},c.createElement("button",{className:"st-button st-"+(this.state.isEnabled?"danger":"success"),onClick:this.toggleDebugger},this.state.isEnabled?"Disable":"Enable"),c.createElement("div",{style:{height:"1rem"}}),c.createElement("div",null,"Open your devtools and filter by: ",c.createElement("strong",null,"*** track")," or ",c.createElement("strong",null,"*** publish")),c.createElement("br",null),c.createElement("div",{className:"st-form"},c.createElement("div",{className:"st-form-group"},c.createElement(f.MemoryInput,{storage:this.storageVars.messageDebuggerChannelFilter,disabled:!this.state.logs.length,placeholder:"Channel filter (String or RegExp)",onChange:function(t){return e.updateFilter(t,"channelFilter")}})),c.createElement("div",{className:"st-form-group"},c.createElement(f.MemoryInput,{storage:this.storageVars.messageDebuggerTopicFilter,disabled:!this.state.logs.length,placeholder:"Topic filter (String or RegExp)",onChange:function(t){return e.updateFilter(t,"topicFilter")}})),this.state.logs.length?null:c.createElement("div",null,"Logs are empty"),this.state.logs.length&&!Object.keys(t).length?c.createElement("div",null,"No matches"):null,n.map(function(n){return c.createElement("div",{key:n},c.createElement("span",null,c.createElement("small",null,"level: "),c.createElement("h4",{style:{display:"inline"},className:"st-title"},e.capitalize(n)),c.createElement("small",null," (",Object.keys(t).length,")")),l.StArray.from(Object.keys(t[n])).map(function(r){return c.createElement("div",{key:r,style:{paddingLeft:10}},c.createElement("h4",{className:"st-title"},c.createElement("small",null,"name: "),e.capitalize(r),c.createElement("small",null," (",t[n][r].length,")")))}))})))},MessageDebuggerComponent.prototype.onReceiveLog=function(e){(e=u.ImmutabilityHelper.copy(e)).what=this.parseWhat(e.what),this.logs=this.logs.concat(l.StArray.from([e])),this.setState(o({},this.state,{logs:this.logs}))},MessageDebuggerComponent.prototype.toggleDebugger=function(){this.debuggerEnabled.set(!this.state.isEnabled)},MessageDebuggerComponent.prototype.parseWhat=function(e){var t=e;try{t=JSON.parse(e)}catch(e){}t instanceof Array||(t=["","",t]),"string"!=typeof t[0]&&t.splice(0,0,""),"string"!=typeof t[1]&&t.splice(1,0,"");var n=t[0].split(/-(.+)/);return!t[1]&&n.length>1&&t.splice.apply(t,[0,2].concat(n.filter(function(e){return e}))),t},MessageDebuggerComponent.prototype.formatLogsForRender=function(){for(var e={},t=0,n=this.state.logs;t<n.length;t++){var r=n[t];if(this.validateLog(r)){e[r.level]||(e[r.level]={}),e[r.level][r.name]||(e[r.level][r.name]=[]);var i=r.timePassed,o=r.what;e[r.level][r.name].push({timePassed:i,what:o})}}return e},MessageDebuggerComponent.prototype.testSearchCriteria=function(e,t){try{e=new RegExp(e,"i")}catch(e){}return e instanceof RegExp?e.test(t):e.includes(t)},MessageDebuggerComponent.prototype.validateLog=function(e){var t=!0;return this.testSearchCriteria(this.state.channelFilter,e.what[0])||(t=!1),this.testSearchCriteria(this.state.topicFilter,e.what[1])||(t=!1),t},MessageDebuggerComponent.prototype.updateFilter=function(e,t){var n,r=e.target.value;this.setState(o({},this.state,((n={})[t]=r,n)))},MessageDebuggerComponent.prototype.capitalize=function(e){return""+e.charAt(0).toUpperCase()+e.slice(1,e.length)},a([g.Inject,s("design:type",y.SeedtagStorageVars)],MessageDebuggerComponent.prototype,"storageVars",void 0),MessageDebuggerComponent}(c.Component);t.MessageDebugger=h.StateQueued(v)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=function(e){function MemoryInput(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:t.retrieveValue()},t}return i(MemoryInput,e),Object.defineProperty(MemoryInput.prototype,"storageKey",{get:function(){return this.props.storage},enumerable:!0,configurable:!0}),MemoryInput.prototype.componentDidMount=function(){var e=this;this.props.onChange&&setTimeout(function(){return e.props.onChange({target:{value:e.state.value}})})},MemoryInput.prototype.componentWillReceiveProps=function(e){var t=this;-1!==Object.keys(e).indexOf("value")?this.setState({value:e.value},function(){return t.saveValue()}):this.saveValue()},MemoryInput.prototype.onChange=function(e){var t=this,n=e.target.value;this.setState({value:n},function(){t.props.onChange&&t.props.onChange({target:{value:n}})})},MemoryInput.prototype.saveValue=function(){this.storageKey.set(this.state.value)},MemoryInput.prototype.retrieveValue=function(){return this.storageKey.get().getOrElse("")},MemoryInput.prototype.render=function(){return o.createElement("input",{value:this.state.value,disabled:this.props.disabled,placeholder:this.props.placeholder,type:this.props.type,className:this.props.className,onChange:this.onChange.bind(this)})},MemoryInput}(o.Component);t.MemoryInput=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(90),s=n(112);t.StateQueued=function(e){return function(t){function class_1(){var n=null!==t&&t.apply(this,arguments)||this;return n.displayName="StateQueued("+e.constructor.name+")",n.mounted=!1,n.waitForMountedQueue=[],n.waitForMount=function(e){n.mounted&&e(),n.waitForMountedQueue.push(e)},n}return i(class_1,t),class_1.prototype.componentDidMount=function(){this.mounted=!0,this.waitForMountedQueue.forEach(function(e){s.Try.of(e).recover(function(e){console.error(e)})})},class_1.prototype.componentWillUnmount=function(){this.mounted=!1},class_1.prototype.render=function(){return a.createElement(e,o({waitForMount:this.waitForMount},this.props))},class_1}(a.Component)}},function(e,t,n){"use strict";var r,i,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(90),u=n(100),l=n(93),p=n(94),d=n(91),f={display:"flex",height:"2em",alignItems:"center"},h={display:"flex",flexDirection:"column"},g=document.createElement("style");g.innerHTML="\n  .bleeper-checkbox {\n    -webkit-appearance: checkbox !important;\n    appearance: checkbox !important;\n  }\n",document.head.appendChild(g);var y={opacity:1,zIndex:100,marginRight:10},v=((i={})[l.AdAdapterName.appNexus]=!0,i[l.AdAdapterName.networksVideo]=!0,i[l.AdAdapterName.SeedtagSSP]=!1,i),m=function(e){return c.createElement("div",{style:f},c.createElement("input",{className:"bleeper-checkbox",style:y,type:"checkbox",checked:e.enabled,onChange:e.onClick}),c.createElement("div",null,e.name," is ",e.enabled?"enabled":"disabled"))},b=function(e){function NetworkManager(t){var n=e.call(this,t)||this;return n.netStateStorage=n.storageVars.adapterEnabledOverride,n.netStateStorage=n.storageVars.adapterEnabledOverride,n.netState=n.netStateStorage.get().getOrElse(v),n}return o(NetworkManager,e),NetworkManager.prototype.toggleNetwork=function(e){this.netState[e]=!this.netState[e],this.netStateStorage.set(this.netState),this.setState(this.netState)},NetworkManager.prototype.render=function(){var e=this;return c.createElement(u.BleeperApp,{title:"Network Control",appName:"NetworkControl",collapsible:!0},c.createElement("div",{style:h},Object.keys(this.netState).map(function(t){return c.createElement(m,{key:t,name:t,enabled:e.netState[t],onClick:function(){return e.toggleNetwork(t)}})})))},a([d.Inject,s("design:type",p.SeedtagStorageVars)],NetworkManager.prototype,"storageVars",void 0),NetworkManager}(c.Component);t.NetworkManager=b},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(90),c=n(100),u=n(94),l=n(91),p=function(e){function BidRequestMonitor(t){var n=e.call(this,t)||this;return n.bidRequestMonitorStorage=n.storageVars.bidRequesMonitor,n.toggleBidRequestMonitor=n.toggleBidRequestMonitor.bind(n),n.state={BRMDisabled:n.bidRequestMonitorStorage.get().getOrElse(!1)},n}return i(BidRequestMonitor,e),BidRequestMonitor.prototype.toggleBidRequestMonitor=function(){var e=this;this.setState({BRMDisabled:!this.state.BRMDisabled},function(){e.bidRequestMonitorStorage.set(e.state.BRMDisabled),window.location.reload()})},BidRequestMonitor.prototype.render=function(){return s.createElement(c.BleeperApp,{title:"Bid Request Monitor",appName:"BidRequestMonitor"},s.createElement("button",{className:"st-button st-"+(this.state.BRMDisabled?"danger":"success"),onClick:this.toggleBidRequestMonitor},this.state.BRMDisabled?"Disable":"Enable"),s.createElement("div",{style:{height:"1rem"}}),s.createElement("div",null,"Bid Request Monitor is ",this.state.BRMDisabled?"disabled":"enabled"))},o([l.Inject,a("design:type",u.SeedtagStorageVars)],BidRequestMonitor.prototype,"storageVars",void 0),BidRequestMonitor}(s.Component);t.BidRequestMonitor=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(90),u=n(100),l=n(113),p=n(91),d=n(94),f=function(e){function ConfigOverride(t){var n=e.call(this,t)||this;return n.onTextAreaChange=function(e){return function(e){n.setState(o({},n.state,{config:o({mapper:e})}))}},n.localStorageVar=n.storageVars.configOverride,n.state={config:n.localStorageVar.get().getOrElse({})},n}return i(ConfigOverride,e),ConfigOverride.prototype.saveCnfOverride=function(){this.localStorageVar.set(this.state.config)},ConfigOverride.prototype.clearCnfOverride=function(e){var t=this,n={};Object.keys(this.state).forEach(function(e){var r;"config"!==e&&(n=o({},n,((r={})[e]=t.state[e],r)))}),this.setState(o({},n),function(){t.localStorageVar.delete()})},ConfigOverride.prototype.renderArea=function(e){var t=this;return c.createElement("div",null,c.createElement(l.JSEditor,{mode:"json",minLines:10,value:this.state.config.mapper,onChange:this.onTextAreaChange(e)}),c.createElement("button",{className:"st-button st-success",onClick:this.saveCnfOverride.bind(this)},"Save"),c.createElement("button",{style:{margin:5},className:"st-button st-danger",onClick:function(){return t.clearCnfOverride(e)}},"Clear"))},ConfigOverride.prototype.render=function(){return c.createElement(u.BleeperApp,{title:"Config Override.",appName:"ConfigOverride",collapsible:!0},c.createElement("div",null,"Return a new config."),this.renderArea("TxtAreaConfig"))},ConfigOverride.textAreaStyle={width:"98%",height:200,border:"1px solid black",borderRadius:5,marginTop:10,padding:5},a([p.Inject,s("design:type",d.SeedtagStorageVars)],ConfigOverride.prototype,"storageVars",void 0),ConfigOverride}(c.Component);t.ConfigOverride=f},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(90),u=n(100),l=n(113),p=n(91),d=n(94),f=function(e){function VASTTester(t){var n=e.call(this,t)||this;return n.localStorageVar=n.storageVars.debugVast,n.onTextAreaChange=function(e){return function(t){var r;n.setState(o({},n.state,{vasts:o({},n.state.vasts,(r={},r[e]=t,r))}))}},n.state={vasts:n.localStorageVar.get().getOrElse({})},n}return i(VASTTester,e),VASTTester.prototype.saveVAST=function(){this.localStorageVar.set(this.state.vasts)},VASTTester.prototype.clearVAST=function(e){var t,n=this;this.setState(o({},this.state,{vasts:o({},this.state.vasts,(t={},t[e]="",t))}),function(){n.localStorageVar.set(n.state.vasts)})},VASTTester.prototype.renderArea=function(e){var t=this;return c.createElement("div",{key:e},c.createElement(l.JSEditor,{mode:"xml",minLines:10,value:this.state.vasts[e]||"",onChange:this.onTextAreaChange(e)}),c.createElement("button",{className:"st-button st-success",onClick:this.saveVAST.bind(this)},"Save"),c.createElement("button",{style:{margin:5},className:"st-button st-danger",onClick:function(){return t.clearVAST(e)}},"Clear"))},VASTTester.prototype.render=function(){var e=this;return c.createElement(u.BleeperApp,{title:"VAST/VPAID Tester",appName:"VastTester",collapsible:!0},c.createElement("div",null,"Enter a VAST"),["1st","2nd","3rd"].map(function(t){return e.renderArea(t)}))},VASTTester.textAreaStyle={width:"98%",height:200,border:"1px solid black",borderRadius:5,marginTop:10,padding:5},a([p.Inject,s("design:type",d.SeedtagStorageVars)],VASTTester.prototype,"storageVars",void 0),VASTTester}(c.Component);t.VASTTester=f},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(90),u=n(100),l=n(94),p=n(91),d={display:"flex",height:"2em",alignItems:"center"},f={display:"flex",flexDirection:"column"},h=document.createElement("style");h.innerHTML="\n  .bleeper-checkbox {\n    -webkit-appearance: checkbox !important;\n    appearance: checkbox !important;\n  }\n",document.head.appendChild(h);var g={opacity:1,zIndex:100,marginRight:10},y=function(e){return c.createElement("label",{style:d},c.createElement("input",{className:"bleeper-checkbox",style:g,type:"checkbox",checked:e.value,onChange:e.onChange}),e.label)},v=function(e){function FeatureManager(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={features:{trackOnView:!1}},t}return i(FeatureManager,e),FeatureManager.prototype.componentWillMount=function(){this.storage=this.storageVars.features,this.setState({features:o({},this.state.features,this.storage.get().getOrElse(this.state.features))})},FeatureManager.prototype.handleEnableClick=function(e){var t={};t[e]=!this.state.features[e],this.setState({features:o({},this.state.features,t)}),this.storage.set(this.state.features)},FeatureManager.prototype.render=function(){var e=this;return c.createElement(u.BleeperApp,{title:"Features",appName:"FeatureDev",collapsible:!0},c.createElement("div",{style:f},Object.keys(this.state.features).map(function(t){return c.createElement(y,{key:t,label:t,value:e.state.features[t],onChange:function(){return e.handleEnableClick(t)}})})))},a([p.Inject,s("design:type",l.SeedtagStorageVars)],FeatureManager.prototype,"storageVars",void 0),FeatureManager}(c.Component);t.FeatureManager=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(90),u=n(100),l=n(113),p=n(91),d=n(94),f=function(e){function SSPResponseTester(t){var n=e.call(this,t)||this;return n.localStorageVar=n.storageVars.debugSSP,n.onTextAreaChange=function(e){n.setState(o({},n.state,{sspResponse:e}))},n.state={sspResponse:n.localStorageVar.get().getOrElse("")},n}return i(SSPResponseTester,e),SSPResponseTester.prototype.saveResponse=function(){this.localStorageVar.set(this.state.sspResponse)},SSPResponseTester.prototype.clearResponse=function(){var e=this;this.setState(o({},this.state,{sspResponse:""}),function(){e.localStorageVar.set(e.state.sspResponse)})},SSPResponseTester.prototype.renderArea=function(){return c.createElement("div",null,c.createElement(l.JSEditor,{mode:"json",minLines:10,value:this.state.sspResponse,onChange:this.onTextAreaChange}),c.createElement("button",{className:"st-button st-success",onClick:this.saveResponse.bind(this)},"Save"),c.createElement("button",{style:{margin:5},className:"st-button st-danger",onClick:this.clearResponse.bind(this)},"Clear"))},SSPResponseTester.prototype.render=function(){return c.createElement(u.BleeperApp,{title:"SSP/Response Tester",appName:"SSPTester",collapsible:!0},c.createElement("div",null,"Enter an SSP Response"),this.renderArea())},SSPResponseTester.textAreaStyle={width:"98%",height:200,border:"1px solid black",borderRadius:5,marginTop:10,padding:5},a([p.Inject,s("design:type",d.SeedtagStorageVars)],SSPResponseTester.prototype,"storageVars",void 0),SSPResponseTester}(c.Component);t.SSPResponseTester=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(425))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(90),s=n(89),c=n(88),u=n(88),l=n(146),p=n(426),d=n(137);n(428);var f=function(e){function Tagger(){var t=null!==e&&e.apply(this,arguments)||this;return t.$tagPlacer=document.createElement("div"),t.$tagNotifier=document.createElement("div"),t.$campaignIncluded=document.createElement("div"),t.$campaignExcluded=document.createElement("div"),t}return i(Tagger,e),Tagger.prototype.setup=function(){this.api=new d.TaggingServiceApi(this.context),this._componentName="admin-tagger",this.state={active:!1,hovered:!1,tags:{campaigns:{included:[],excluded:[]}},debugUrl:"empty"},e.prototype.setup.call(this),this.$tagPlacer.className="st-seed-placer",this.$tagNotifier.className="st-tag-notifier",this.$tagNotifier.innerText="seedtag =D",this.$campaignIncluded.className="st-campaing-included",this.$campaignExcluded.className="st-campaing-excluded",this.append(this.$tagPlacer),this.append(this.$tagNotifier),this.append(this.$campaignIncluded),this.append(this.$campaignExcluded),this._bindEvents()},Tagger.prototype.render=function(){var e={x:0,y:0};return this.state.active&&(e=this._adunit.getImageSize()),this.$tagPlacer.classList.toggle("st-active",this.state.active),this.$tagPlacer.classList.toggle("st-hovered",this.state.hovered),this.$tagPlacer.style.width=e.x+"px",this.$tagPlacer.style.height=e.y+"px",a.render(o.createElement(p.CampaignList,{list:this.state.tags.campaigns.included,title:"included",onRemove:this.onRemoveCampaign.bind(this),onSwitch:this.onSwitchCampaign.bind(this)}),this.$campaignIncluded),a.render(o.createElement(p.CampaignList,{list:this.state.tags.campaigns.excluded,title:"excluded",onRemove:this.onRemoveCampaign.bind(this),onSwitch:this.onSwitchCampaign.bind(this)}),this.$campaignExcluded),!0},Tagger.prototype.onTag=function(e){"branding"===e.tagging&&(this.addCampaign("included",e.element),this.render())},Tagger.prototype.onSwitchCampaign=function(e){var t=this,n="included";s.StArray.from(this.state.tags.campaigns.excluded).forEach(function(t){e.id===t.id&&(n="excluded")}),this.removeCampaign(n,e).then(function(){t.addCampaign("included"===n?"excluded":"included",e),t.render()})},Tagger.prototype.onRemoveCampaign=function(e){var t="included";s.StArray.from(this.state.tags.campaigns.excluded).forEach(function(n){e.id===n.id&&(t="excluded")}),this.removeCampaign(t,e),this.render()},Tagger.prototype.addCampaign=function(e,t){var n=s.StArray.from(this.state.tags.campaigns[e]||[]);return(n=n.filter(function(e){return e.id!==t.id})).push(t),this.state.tags.campaigns[e]=n,this.campaignApiCall(e,"add",t)},Tagger.prototype.removeCampaign=function(e,t){var n=this.state.tags.campaigns[e]||[];return n=n.filter(function(e){return t.id!==e.id}),this.state.tags.campaigns[e]=n,this.campaignApiCall(e,"remove",t)},Tagger.prototype.campaignApiCall=function(e,t,n){var r=this,i=this._adunit._imageId,o=e+"Campaigns"+u.capitalize(t);return this.api[o](n,i.image,i.url).then(function(){r.context.publish({channel:"admin.message",topic:"post",data:{message:{text:"Tags updated",type:"info"}}})}).catch(function(){r.context.publish({channel:"admin.message",topic:"post",data:{message:{text:"cannot tag",type:"error"}}})})},Tagger.prototype._bindEvents=function(){var e=this,t=this.context;s.StArray.from(["dragenter","dragleave","dragover","drop"]).forEach(function(t){return e.$tagPlacer.addEventListener(t,function(e){return e.preventDefault()})}),t.subscribe({channel:"admin",topic:"tagging.start",callback:function(){e.state.active=!0,e.render()}}),t.subscribe({channel:"admin",topic:"tagging.end",callback:function(){e.state.active=!1,e.render()}}),this.$tagPlacer.addEventListener("dragover",function(){e.state.active&&(e.state.hovered=!0,e.render())}),this.$tagPlacer.addEventListener("dragleave",function(){e.state.hovered=!1,e.render()}),this.$tagPlacer.addEventListener("drop",function(n){var r=e._adunit.getImageSize(),i=JSON.parse(n.dataTransfer.getData("text/plain")),o=c.Util.relativeOffset(e.$tagPlacer),a={x:(n.pageX-o.left)/r.x,y:(n.pageY-o.top)/r.y};t.publish({channel:"admin",topic:"tagging.tag",data:{adunit:e._adunit,image:e._adunit._imageId,tag:i,position:a}}),i.position=a,i.element.position=a,e.onTag(i)}),t.subscribe({channel:"admin.sherlock",topic:"id.resolved",callback:function(t){var n=(t.data||{}).taggingConfiguration||{};t.adunit===e._adunit&&n.campaigns&&(e.state.tags.campaigns=u.extend({},e.state.tags.campaigns,n.campaigns),e.render())}})},Tagger}(l.AdunitComponent);t.Tagger=f},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=n(89),s=n(427),c=function(e){function CampaignList(){return null!==e&&e.apply(this,arguments)||this}return i(CampaignList,e),CampaignList.prototype.render=function(){var e=this;return o.createElement("div",{className:"st-campaign-list"},o.createElement("div",{className:"st-title"},this.props.title),o.createElement("ul",null,a.StArray.from(this.props.list).map(function(t,n){return o.createElement(s.CampaignListItem,{key:n,campaign:t,onRemove:e.props.onRemove,onSwitch:e.props.onSwitch})})))},CampaignList}(o.Component);t.CampaignList=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=function(e){function CampaignListItem(){return null!==e&&e.apply(this,arguments)||this}return i(CampaignListItem,e),CampaignListItem.prototype.render=function(){var e=this.props.campaign;return o.createElement("li",{className:"st-list-item"},o.createElement("span",{className:"st-name",title:e.name},e.name),o.createElement("span",{className:"action-box"},o.createElement("span",{className:"st-flip",title:"change list",onClick:this.onClickSwitch.bind(this),onContextMenu:this.onClickSwitch.bind(this)},"v"),o.createElement("span",{className:"st-remove",title:"remove",onClick:this.onClickRemove.bind(this),onContextMenu:this.onClickRemove.bind(this)},"x")))},CampaignListItem.prototype.onClickRemove=function(){this.props.onRemove&&this.props.onRemove(this.props.campaign)},CampaignListItem.prototype.onClickSwitch=function(){this.props.onSwitch&&this.props.onSwitch(this.props.campaign)},CampaignListItem}(o.Component);t.CampaignListItem=a},function(e,t,n){var r=n(429);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,"/* vars */\n.st-text-normal {\n  font-size: 12px;\n}\n.st-text-small {\n  font-size: 10px;\n}\n.st-text-big {\n  font-size: 16px;\n}\n.st-text-stronger {\n  font-weight: 700;\n}\n.st-title {\n  font-size: 16px;\n  font-weight: 700;\n}\n.st-subtitle {\n  opacity: 0.7;\n  font-style: italic;\n  font-size: 12px;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-seed-placer {\n  display: block !important;\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 0.5;\n  transition: background-color linear 0.2s;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-seed-placer.st-active {\n  background-color: white;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-seed-placer.st-hovered {\n  background-color: green;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-tag-notifier {\n  font-weight: 700;\n  color: #fff;\n  background-color: rgba(95, 165, 108, 0.8);\n  padding: 5px 8px;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-campaing-included {\n  width: 100%;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-campaign-list {\n  background-color: white;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-campaign-list .st-title {\n  padding: 3px;\n  text-align: center;\n  font-weight: bolder;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-campaign-list .st-list-item {\n  padding: 3px 0;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-campaign-list .st-list-item + .st-list-item {\n  border-top: 1px solid #5a5b5b;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-campaign-list .st-list-item .st-name {\n  padding: 3px 10px;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-campaign-list .st-list-item .action-box {\n  float: right;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-campaign-list .st-list-item .action-box > span {\n  cursor: pointer;\n  height: 100%;\n  padding: 0 5px;\n  color: white;\n  font-weight: bolder;\n  margin-left: 3px;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-campaign-list .st-list-item .action-box .st-remove {\n  background-color: tomato;\n}\n.seedtag-gohan .st-adunit-component_admin-tagger .st-campaign-list .st-list-item .action-box .st-flip {\n  background-color: #6fbe7e;\n}\n",""])},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),a=n(431),s=n(432),c=n(433),u=n(434),l=n(435),p=n(204),d=n(436),f=n(437),h=n(438),g=n(439),y=n(440),v=function(e){function TargetingService(){var t=null!==e&&e.apply(this,arguments)||this;return t.components=[],t}return i(TargetingService,e),TargetingService.prototype.setUp=function(){this.components=[new a.TargetingResolverService(this.context),new c.AdUnitTargetingService(this.context),new s.TemplateTargetingService(this.context),new l.TaggingTargetingService(this.context),new p.FormatsTargetingService(this.context),new u.PublisherTargetingService(this.context),new d.ContextualizationService(this.context),new f.BrandSafeService(this.context),new h.CustomCategoriesService(this.context),new g.UserTargetingService(this.context),new y.YieldPriorityService(this.context)]},TargetingService}(o.GohanComponent);t.TargetingService=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(88),c=n(87),u=n(110),l=n(102),p=function(e){function TargetingResolverService(){return null!==e&&e.apply(this,arguments)||this}return i(TargetingResolverService,e),TargetingResolverService.prototype.configSub=function(e){var t=e.config;this.config=t},TargetingResolverService.prototype.subscribeTargeting=function(e){var t=e.adunit;this.publishTargeting(t)},TargetingResolverService.prototype.publishTargeting=function(e){return{adunit:e,targeting:this.getTargeting(e)}},TargetingResolverService.prototype.getTargeting=function(e){var t={keywords:{}},n={targetId:"seedtag_"+e.model.name,tagId:e.getTagId()},r={country:"",videoAutoplay:l.DeviceDetector.autoplaySupport(),device:l.DeviceDetector.getDeviceType(),gdpr:this.context.config.gdpr},i=this.context.subscribe({channel:"targeting",topic:"resolve",callback:function(e){e.user&&(r=e.user),e.page&&(t.keywords=s.extend(t.keywords,e.page))}});return this.context.publish({channel:"targeting",topic:"request",data:{adunit:e}}),i.unsubscribe(),t.keywords.v="2",{tag:n,page:t,user:r}},o([c.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TargetingResolverService.prototype,"configSub",null),o([c.Subscribe("adunit","targeting.request"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TargetingResolverService.prototype,"subscribeTargeting",null),o([c.Publish("adunit","targeting.response"),a("design:type",Function),a("design:paramtypes",[u.AdUnit]),a("design:returntype",void 0)],TargetingResolverService.prototype,"publishTargeting",null),TargetingResolverService}(c.GohanComponent);t.TargetingResolverService=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(106),c=function(e){function TemplateTargetingService(){return null!==e&&e.apply(this,arguments)||this}return i(TemplateTargetingService,e),TemplateTargetingService.prototype.onTemplateSelected=function(e){this.template=e.template},TemplateTargetingService.prototype.onTargetingRequest=function(e){return{template_category:this.template.category}},o([s.Subscribe("template","selected"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TemplateTargetingService.prototype,"onTemplateSelected",null),TemplateTargetingService}(n(108).TargetingComponent);t.TemplateTargetingService=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(108),a=n(99),s=function(e){function AdUnitTargetingService(){return null!==e&&e.apply(this,arguments)||this}return i(AdUnitTargetingService,e),AdUnitTargetingService.prototype.onTargetingRequest=function(e){var t,n,r=e.getImageSize(),i=r.x,o=r.y,s=(t=e.tagElement,(n=t.getBoundingClientRect()).top+window.pageYOffset<window.innerHeight&&n.left+window.pageXOffset<window.innerWidth);return{adunit_name:e.getModel().name,aggressive:/^aggressive/.test(e.model.name||"").toString(),image_width:Math.round(i).toString(),image_height:Math.round(o).toString(),vw:e.model.getViewabilitySegment(),atf:s.toString(),adunit_type:e.model.type,inscreen:(e.model.type===a.AdUnitType.inScreen).toString()}},AdUnitTargetingService}(o.TargetingComponent);t.AdUnitTargetingService=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(106),c=function(e){function PublisherTargetingService(){return null!==e&&e.apply(this,arguments)||this}return i(PublisherTargetingService,e),PublisherTargetingService.prototype.onConfigReceived=function(e){var t=e.config.publisher;t&&(this.model=t)},PublisherTargetingService.prototype.onTargetingRequest=function(){var e,t={publisher_token:this.context.config.token,publisher_category:"-",publisher_country:"-",bridge_support:"true"};return this.model&&(t.publisher_category=(e=this.model.category,encodeURIComponent(e.replace(/&/,"and").replace(/[^a-zA-Z0-9]/g,"-").replace(/-+/g,"-").toLowerCase())),t.publisher_country=this.model.country),t},o([s.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],PublisherTargetingService.prototype,"onConfigReceived",null),PublisherTargetingService}(n(108).TargetingComponent);t.PublisherTargetingService=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(89),c=n(106),u=function(e){function TaggingTargetingService(){var t=null!==e&&e.apply(this,arguments)||this;return t.adunitData=s.StArray.from([]),t}return i(TaggingTargetingService,e),TaggingTargetingService.prototype.onSherlockIdResolved=function(e){var t=e.data||{};this.adunitData.push({adunit:e.adunit,data:t.taggingConfiguration||{}})},TaggingTargetingService.prototype.onTargetingRequest=function(e){var t={},n=this.getImageData(e);if(n.hasOwnProperty("campaigns")){var r=n.campaigns;t.image_tags_campaign_included=s.StArray.from(r.included).map(function(e){return e.id})||["-"],t.image_tags_campaign_excluded=s.StArray.from(r.excluded).map(function(e){return e.id})||["-"]}else t.image_tags_campaign_included=["-"],t.image_tags_campaign_excluded=["-"];return t},TaggingTargetingService.prototype.getImageData=function(e){var t={};return this.adunitData.forEach(function(n){n.adunit===e&&(t=n.data||{})}),t},o([c.Subscribe("sherlock","id.resolved"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TaggingTargetingService.prototype,"onSherlockIdResolved",null),TaggingTargetingService}(n(108).TargetingComponent);t.TaggingTargetingService=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=function(e){function ContextualizationService(){return null!==e&&e.apply(this,arguments)||this}return i(ContextualizationService,e),ContextualizationService.prototype.onConfig=function(e){this.category=e.config.category,this.subcategory=e.config.subcategory},ContextualizationService.prototype.onTargetingRequest=function(e){return{context_category:[this.category],context_subcategory:[this.subcategory]}},o([s.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],ContextualizationService.prototype,"onConfig",null),ContextualizationService}(n(108).TargetingComponent);t.ContextualizationService=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(106),c=function(e){function BrandSafeService(){return null!==e&&e.apply(this,arguments)||this}return i(BrandSafeService,e),BrandSafeService.prototype.subsConfigReceived=function(e){this.brandSafe=e.config.brandsafe,void 0===this.brandSafe&&(this.brandSafe="true")},BrandSafeService.prototype.onTargetingRequest=function(e){return{context_safe:this.brandSafe}},o([s.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],BrandSafeService.prototype,"subsConfigReceived",null),BrandSafeService}(n(108).TargetingComponent);t.BrandSafeService=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(88),c=n(106),u=n(124),l=function(e){function CustomCategoriesService(){var t=null!==e&&e.apply(this,arguments)||this;return t.alreadyTracked={},t.customCategories=[],t}return i(CustomCategoriesService,e),CustomCategoriesService.prototype.setUp=function(){e.prototype.setUp.call(this),this.analytics=u.AnalyticsService.get(this.context)},CustomCategoriesService.prototype.onAdUnitView=function(e){var t=e.adunit.getModel().name;this.alreadyTracked[t]||(this.alreadyTracked[t]=!0,this.sendEvents(t))},CustomCategoriesService.prototype.onConfig=function(e){this.customCategories=s.get(e,"config.url.contextualization.contextData.customCategories",[])},CustomCategoriesService.prototype.onTargetingRequest=function(e){return{context_custom_category:this.customCategories}},CustomCategoriesService.prototype.sendEvents=function(e){var t=this;this.customCategories.forEach(function(n){t.analytics.trackAdUnitViewCustomCategory(e,n)})},o([c.Subscribe("adunit","view"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],CustomCategoriesService.prototype,"onAdUnitView",null),o([c.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],CustomCategoriesService.prototype,"onConfig",null),CustomCategoriesService}(n(108).TargetingComponent);t.CustomCategoriesService=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=n(102),u=function(e){function UserTargetingService(){return null!==e&&e.apply(this,arguments)||this}return i(UserTargetingService,e),UserTargetingService.prototype.onConfigReceived=function(e){this.userCountry=e.config.cookies.country},UserTargetingService.prototype.onTargetingRequest=function(){return{user:{country:this.userCountry||"unknown",device:c.DeviceDetector.getDeviceType(),videoAutoplay:c.DeviceDetector.autoplaySupport(),gdpr:this.context.config.gdpr}}},o([s.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],UserTargetingService.prototype,"onConfigReceived",null),o([s.Subscribe("targeting","request"),s.Publish("targeting","resolve"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",Object)],UserTargetingService.prototype,"onTargetingRequest",null),UserTargetingService}(s.GohanComponent);t.UserTargetingService=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=function(e){function YieldPriorityService(){return null!==e&&e.apply(this,arguments)||this}return i(YieldPriorityService,e),YieldPriorityService.prototype.onConfigReceived=function(e){var t=e.config;t.publisher&&(this.yieldPriority=t.publisher.yieldPriority)},YieldPriorityService.prototype.onTargetingRequest=function(e){return{yield_targeting:this.calculateYieldTargeting(this.yieldPriority).toString()}},YieldPriorityService.prototype.calculateYieldTargeting=function(e){return Math.random()<e/10},o([s.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],YieldPriorityService.prototype,"onConfigReceived",null),YieldPriorityService}(n(108).TargetingComponent);t.YieldPriorityService=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=n(94),u=n(91),l=function(e){function GDPRStoragePolicity(t){var n=e.call(this,t)||this;return n._oldKeysRemover.removeOlderStorageKeys(),n}return i(GDPRStoragePolicity,e),GDPRStoragePolicity.prototype.setUp=function(){},GDPRStoragePolicity.prototype.configSub=function(e){e.config.sc?this.storageVars.enableWrite():this.storageVars.clearData()},o([u.Inject,a("design:type",c.SeedtagStorageVars)],GDPRStoragePolicity.prototype,"storageVars",void 0),o([u.Inject,a("design:type",c.OldKeysRemover)],GDPRStoragePolicity.prototype,"_oldKeysRemover",void 0),o([s.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],GDPRStoragePolicity.prototype,"configSub",null),GDPRStoragePolicity}(s.GohanComponent);t.GDPRStoragePolicity=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(443);t.GDPRDetector=r.GDPRDetector},function(e,t,n){"use strict";function computeConsentTime(e){return+Date.now()-e.valueOf()}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function GDPRDetector(e){this.contextWindow=e,this.initTime=new Date}return GDPRDetector.prototype.hasCmp=function(){return!!this.contextWindow.__cmp},GDPRDetector.prototype.getConsentData=function(){var e=this;return new Promise(function(t,n){if(!e.hasCmp())return t({hasCMP:!1,gdprApplies:null,consentData:"",consentTime:0});var r=function(){return Object({hasCMP:!0,gdprApplies:null,consentData:"",consentTime:computeConsentTime(e.initTime)})};e.contextWindow.__cmp("getConsentData",null,function(n){return n&&("object"==typeof(i=n)&&["gdprApplies","consentData"].every(function(e){return i.hasOwnProperty(e)})&&"boolean"==typeof i.gdprApplies)?t({hasCMP:!0,gdprApplies:n.gdprApplies,consentData:n.consentData,consentTime:computeConsentTime(e.initTime)}):t(r());var i}),setTimeout(function(){return t(r())},1e3)})},GDPRDetector}();t.GDPRDetector=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),c=function(e){function TailTarget(){return null!==e&&e.apply(this,arguments)||this}return i(TailTarget,e),TailTarget.prototype.configSub=function(e){var t=e.config,n=t.cookies.country,r=t.publisher.country;this.isBrasilianUserAndBrasilianPublisher(n,r)&&this.runScript()},TailTarget.prototype.runScript=function(){var e=document.createElement("script");e.type="text/javascript",e.id="tail-target",e.async=!0,e.src=("https:"===document.location.protocol?"https://":"http://")+"tags.t.tailtarget.com/t3m.js?i=TT-12765-5/CT-1068";var t=document.getElementsByTagName("script")[0]||document.body;t.parentNode&&t.parentNode.insertBefore(e,t)},TailTarget.prototype.isBrasilianUserAndBrasilianPublisher=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),"BR"===e&&"BR"===t},o([s.Subscribe("config","received"),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],TailTarget.prototype,"configSub",null),TailTarget}(s.GohanComponent);t.TailTarget=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var u=n(87),l=n(446),p=n(39),d=n(447),f=n(448),h=n(124),g=function(){},y=function(){try{return performance.timing.navigationStart}catch(e){return 0}};t.commonTraceEventObject={"Times.Client.run":{channel:"engine",topic:"run"},"Times.Client.loaded":{channel:"config",topic:"received"},"Times.Client.templateFound":{channel:"template",topic:"selected"}},t.adunitTraceEventObject={"Times.Client.Adunit.found":{channel:"adunit",topic:"found"},"Times.Client.Adunit.Ad.request":{channel:"adunit",topic:"ad.request"},"Times.Client.Adunit.Ad.response":{channel:"adapter",topic:"response"},"Times.Client.Adunit.Ad.insert":{channel:"ad",topic:"insert"},"Times.Client.Adview.render":{channel:"ad",topic:"ready"},"Times.Client.Adview.view":{channel:"ad",topic:"view"}},t.creativeTraceEvents={"Times.Client.Creative.Ad.render":{channel:"creative",topic:"some"},"Times.Client.Creative.Ad.view":{channel:"creative",topic:"some"}},t.videoCreativeEvents={"Times.Client.Video.loaded":{channel:"creative",topic:"message",message:"video_loaded"},"Times.Client.Video.play":{channel:"creative",topic:"message",message:"video_play"},"Times.Client.Video.complete":{channel:"creative",topic:"message",message:"video_end"}};var v=[{reference:"Times.Init",events:["Times.Client.loader","Times.Client.firstChunk"].concat(Object.keys(t.commonTraceEventObject))}],m=[{reference:"Times.Client.templateFound",events:Object.keys(t.adunitTraceEventObject)},{reference:"Times.Client.Adunit.Ad.insert",events:Object.keys(t.creativeTraceEvents)},{reference:"Times.Client.Adunit.Ad.insert",events:Object.keys(t.videoCreativeEvents)}],b=t.commonTraceEventObject["Times.Client.templateFound"],_=t.adunitTraceEventObject["Times.Client.Adunit.Ad.insert"],w={channel:"final",topic:"final"},A=function(e){function TraceService(t){var n=e.call(this,t)||this;return n.commonEvenstList=[{eventName:"Times.Init",timestamp:y(),data:{}},{eventName:"Times.Client.loader",timestamp:p.stBootTime,data:{}},{eventName:"Times.Client.firstChunk",timestamp:p.stFirstChunkTime,data:{}}],n.adUnitEventsMap=new Map,n.onAdunitEvent=function(e){var t=n.adUnitEventsMap.get(e.adunit)||[];t.push(e.event),n.adUnitEventsMap.set(e.adunit,t)},n.onTrackCommonEvents=function(){var e=p.stBootTime,t=d.calcRelativeTimes(v,n.commonEvenstList,e).map(function(e){return o({eventName:e.eventName,relativeTime:e.relativeTime,absoluteTime:e.absoluteTime},n.commonDimmensions)});n.track(t)},n.onTrackAdunitEvents=function(e){var t=n.adUnitEventsMap.get(e.adunitName);if(t){var r=p.stBootTime,i=n.commonEvenstList.concat(t),a=d.calcRelativeTimes(m,i,r).map(function(t){return o({eventName:t.eventName,relativeTime:t.relativeTime,absoluteTime:t.absoluteTime,adUnitName:e.adunitName},n.commonDimmensions)});"timeout"===e.reason&&(a.push(o({eventName:"Times.Client.Adunit.Ad.notLoaded",relativeTime:4,absoluteTime:Date.now()-r,adUnitName:e.adunitName},n.commonDimmensions)),n.track(a))}},n.mustRun()&&n.setUpEnvironment(),n}return i(TraceService,e),TraceService.prototype.setUp=function(){},TraceService.prototype.mustRun=function(){return Math.random()<.01},TraceService.prototype.setUpEnvironment=function(){var e=this;this.analytics=h.AnalyticsService.get(this.context);var n=this.context.getEventStream();f.sendTraceSignalStream(n,{startTimeoutEvent:_,timeoutCancelAndSendEvent:w},4e3).subscribe(function(t){e.onTrackAdunitEvents(t)}),f.getGohanMappedEventStream(n,{signalEvent:b}).subscribe(function(){setTimeout(e.onTrackCommonEvents,100)}),f.getGohanMappedEventStream(n,t.commonTraceEventObject).subscribe(function(t){e.commonEvenstList.push(t)}),f.getMappedEventStream(n,t.adunitTraceEventObject,t.videoCreativeEvents).do(function(t){return e.onAdunitEvent({adunit:t.data.adunit.model.name,event:t})}).subscribe(g)},TraceService.prototype.onConfig=function(e){var t=l.guid();this.commonDimmensions={sessionId:t,country:e.config.cookies.country||"other"}},TraceService.prototype.track=function(e){var t=this;e.forEach(function(e){var n=e.eventName,r=c(e,["eventName"]);t.analytics.track(n,r)})},a([u.Subscribe("config","received"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],TraceService.prototype,"onConfig",null),TraceService}(u.GohanComponent);t.TraceService=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};t.guid=function(){return""+r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.calcRelativeTimes=function(e,t,n){function getEventFromList(e,t){return t.filter(function(t){return e===t.eventName})[0]}var i=[];return e.forEach(function(e){e.events.forEach(function(o,a){if(0===a){var s=getEventFromList(o,t),c=getEventFromList(e.reference,t);if(!s||!c)return;i.push(r({},s,{relativeTime:s.timestamp-c.timestamp,absoluteTime:s.timestamp-n}))}else{var u=e.events[a-1];if(s=getEventFromList(o,t),c=getEventFromList(u,t),!s||!c)return;i.push(r({},s,{relativeTime:s.timestamp-c.timestamp,absoluteTime:s.timestamp-n}))}})}),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(109),i=function(e,t){return Object.keys(t).filter(function(n){var r=t[n];return e.channel===r.channel&&e.topic===r.topic})};function getGohanMappedEventStream(e,t){return e.map(function(e){var n=i(e,t).filter(function(e){return!!e})[0]||"none";return{timestamp:Date.now(),eventName:n,data:e.data}}).filter(function(e){return"none"!==e.eventName})}function getCreativeMappedEventStream(e,t){return e.map(function(e){var n=i(e,t).filter(function(n){return t[n].message===e.data.message});return{timestamp:Date.now(),eventName:n.filter(function(e){return!!e})[0]||"none",data:e.data}}).filter(function(e){return"none"!==e.eventName})}t.getGohanMappedEventStream=getGohanMappedEventStream,t.getCreativeMappedEventStream=getCreativeMappedEventStream,t.getMappedEventStream=function(e,t,n){return r.Stream.merge(getGohanMappedEventStream(e,t),getCreativeMappedEventStream(e,n))},t.sendTraceSignalStream=function(e,t,n){var i=new r.Stream,o={};return getGohanMappedEventStream(e,t).subscribe(function(e){var t=e.data.adunit?e.data.adunit.model.name:void 0;"startTimeoutEvent"===e.eventName&&(o[t]=setTimeout(function(){i.next({adunitName:t,reason:"timeout"})},n)),"timeoutCancelAndSendEvent"===e.eventName&&(clearTimeout(o[t]),i.next({adunitName:t,reason:"lastEvent"}))}),i}},function(e,t,n){(e.exports=n(95)(!1)).push([e.i,"/* vars */\n.seedtag-gohan:not(.seedtag-admin),\n.seedtag-gohan.seedtag-adunit {\n  padding: 0!important;\n  max-width: none !important;\n  text-align: left !important;\n}\n.seedtag-gohan:not(.seedtag-admin) *,\n.seedtag-gohan.seedtag-adunit * {\n  padding: 0 !important;\n  text-align: left !important;\n  display: initial;\n}\n.seedtag-gohan:not(.seedtag-admin) img,\n.seedtag-gohan.seedtag-adunit img {\n  border: 0 !important;\n}\n.seedtag-gohan:not(.seedtag-admin) a i,\n.seedtag-gohan.seedtag-adunit a i,\n.seedtag-gohan:not(.seedtag-admin) a i:hover,\n.seedtag-gohan.seedtag-adunit a i:hover,\n.seedtag-gohan:not(.seedtag-admin) a i:visited,\n.seedtag-gohan.seedtag-adunit a i:visited,\n.seedtag-gohan:not(.seedtag-admin) a i:active,\n.seedtag-gohan.seedtag-adunit a i:active {\n  display: block !important;\n  color: #fff;\n  font-size: 14px;\n  font-style: normal !important;\n}\n.seedtag-gohan:not(.seedtag-admin) select,\n.seedtag-gohan.seedtag-adunit select,\n.seedtag-gohan:not(.seedtag-admin) div,\n.seedtag-gohan.seedtag-adunit div {\n  display: block !important;\n}\n.seedtag-gohan,\n.seedtag-gohan.seedtag-adunit {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  width: 0;\n  height: 0;\n  font-size: 14px;\n  vertical-align: baseline;\n  box-sizing: content-box;\n  max-width: none;\n  visibility: visible;\n  color: #000;\n  text-align: left;\n  /* CSS RESET 4 SEEDTAG */\n}\n.seedtag-gohan *,\n.seedtag-gohan.seedtag-adunit * {\n  font-family: 'Open Sans', Helvetica, Arial, sans-serif;\n  background: none repeat scroll 0 0 transparent;\n  border: medium none;\n  border-spacing: 0;\n  font-weight: normal;\n  list-style: none outside none;\n  margin: 0;\n  padding: 0;\n  text-align: left;\n  text-decoration: none;\n  text-indent: 0;\n  float: none;\n}\n.seedtag-gohan div,\n.seedtag-gohan.seedtag-adunit div,\n.seedtag-gohan span,\n.seedtag-gohan.seedtag-adunit span,\n.seedtag-gohan iframe,\n.seedtag-gohan.seedtag-adunit iframe,\n.seedtag-gohan h1,\n.seedtag-gohan.seedtag-adunit h1,\n.seedtag-gohan h2,\n.seedtag-gohan.seedtag-adunit h2,\n.seedtag-gohan h3,\n.seedtag-gohan.seedtag-adunit h3,\n.seedtag-gohan ol,\n.seedtag-gohan.seedtag-adunit ol,\n.seedtag-gohan ul,\n.seedtag-gohan.seedtag-adunit ul,\n.seedtag-gohan li,\n.seedtag-gohan.seedtag-adunit li,\n.seedtag-gohan form,\n.seedtag-gohan.seedtag-adunit form,\n.seedtag-gohan label,\n.seedtag-gohan.seedtag-adunit label,\n.seedtag-gohan input,\n.seedtag-gohan.seedtag-adunit input {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 14px;\n  vertical-align: baseline;\n  box-sizing: content-box;\n  max-width: none !important;\n  visibility: visible;\n  line-height: normal;\n  height: initial;\n  width: initial;\n}\n.seedtag-gohan small,\n.seedtag-gohan.seedtag-adunit small {\n  font-size: 12px;\n}\n.seedtag-gohan input,\n.seedtag-gohan.seedtag-adunit input {\n  outline: 0;\n  height: auto;\n  width: auto;\n}\n.seedtag-gohan img,\n.seedtag-gohan.seedtag-adunit img {\n  border: 0;\n}\n.seedtag-gohan a,\n.seedtag-gohan.seedtag-adunit a {\n  color: #fff;\n}\n.seedtag-gohan a i,\n.seedtag-gohan.seedtag-adunit a i,\n.seedtag-gohan a i:hover,\n.seedtag-gohan.seedtag-adunit a i:hover,\n.seedtag-gohan a i:visited,\n.seedtag-gohan.seedtag-adunit a i:visited,\n.seedtag-gohan a i:active,\n.seedtag-gohan.seedtag-adunit a i:active {\n  display: block;\n  color: #fff;\n  font-size: 14px;\n  font-style: normal;\n}\n.seedtag-gohan select,\n.seedtag-gohan.seedtag-adunit select,\n.seedtag-gohan div,\n.seedtag-gohan.seedtag-adunit div {\n  display: block;\n  height: initial;\n}\n",""])},,function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var r=function(){function DisplayAd(e,t){_defineProperty(this,"content",void 0),_defineProperty(this,"adSize",void 0),this.content=e,this.adSize=t}var e=DisplayAd.prototype;return e.getContent=function(){return this.content},e.getAdSize=function(){return this.adSize},DisplayAd}();_defineProperty(r,"minimizedSize",{width:600,height:150});n(35),n(36),n(98),n(77),n(37),n(148);var i=function(e){return Object.keys(e).reduce(function(t,n){return t.push(n+": "+e[n]),t},[]).join(";")},o=function(e){return e.split(";").map(function(e){return e.trim()}).filter(Boolean).reduce(function(e,t){var n=t.split(":").map(function(e){return e.trim()});return e[n[0]]=n[1],e},{})};function RedirectResizer_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function RedirectResizer(e){RedirectResizer_defineProperty(this,"recurredIframes",[]),RedirectResizer_defineProperty(this,"iframe",void 0),RedirectResizer_defineProperty(this,"isRedirectIframe",function(e){var t=e.getBoundingClientRect();return t.width>20&&t.height>20}),RedirectResizer_defineProperty(this,"applyClass",function(e){!function setClassToParents(e){e&&e.style&&(e.classList.add("st-full-iframe"),e.parentElement&&setClassToParents(e.parentElement))}(e)}),this.iframe=e}var e=RedirectResizer.prototype;return e.apply=function(){this.resizeRedirectIframe(this.iframe)},e.resizeRedirectIframe=function(e){if(!(this.recurredIframes.indexOf(e)>-1)&&(this.recurredIframes.push(e),e.contentDocument)){this.addStyles(e.contentDocument);var t=this.getRedirectIframe(e.contentDocument);if(t){if(this.applyClass(t),t.contentDocument)try{this.resizeRedirectIframe(t)}catch(e){}}else this.findIframeOnInsert(e)}},e.findIframeOnInsert=function(e){var t,n,r=this;e.contentDocument&&(t=e.contentDocument,n=function listener(n){r.getRedirectIframe(t)&&(t.removeEventListener("DOMNodeInserted",listener),t.removeEventListener("DOMContentLoaded",listener),r.resizeRedirectIframe(e));var i=t.querySelector("#st-ad, .GoogleActiveViewClass");i&&r.applyClass(i)},t.addEventListener("DOMContentLoaded",function(){r.applyClass(t.body),n(),t.addEventListener("DOMNodeInserted",n)}),t.addEventListener("DOMNodeInserted",n),this.addStyles(e.contentDocument))},e.getRedirectIframe=function(e){for(var t=e.querySelectorAll("iframe"),n=0;n<t.length;n++){var r=t.item(n);if(this.isRedirectIframe(r))return r}},e.addStyles=function(e){var t=document.createElement("style");t.innerHTML=".st-full-iframe {\n      width: 100% !important;\n      height: 100% !important;\n      display: block !important\n    }\n    #ad_unit img {\n      display: none\n    }\n    ",e.head&&e.head.appendChild(t)},RedirectResizer}();function IframeBuilder_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s,c=function(){return o(["display:block","float:none","padding:0px","border:0px","max-height:none","max-width:none","min-height:0px","min-width:0px","background:none","visibility:visible","overflow:hidden","z-index:1"].map(function(e){return e+" !important"}).join(";"))},u=function(){function IframeBuilder(e){void 0===e&&(e=!0),IframeBuilder_defineProperty(this,"isRedirectResizer",void 0),IframeBuilder_defineProperty(this,"iframe",void 0),this.isRedirectResizer=e,this.iframe=l(),this.addStyles(c())}var e=IframeBuilder.prototype;return e.getIframe=function(){return this.iframe},e.mount=function(e){var t=this.iframe,n=new Promise(function(e){t.addEventListener("load",function(){e()})});return e.appendChild(t),n},e.setContent=function(e){(this.initialize(e),this.isRedirectResizer)&&new a(this.iframe).apply()},e.render=function(e,t,n){this.addStyles({width:e.width+"px !important",height:e.height+"px !important","margin-left":(t.left||0)+"px !important","margin-top":(t.top||0)+"px !important","will-change":"transform","transform-origin":"0 0",transform:"scale3d("+n+", "+n+", 1)"})},e.addStyles=function(e){var t=this.iframe,n=o(t.getAttribute("style")||"");t.setAttribute("style",i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){IframeBuilder_defineProperty(e,t,n[t])})}return e}({},n,e)))},e.getLibrary=function(e){return this.iframe.contentWindow[e]},e.initialize=function(e){var t=this.iframe,n=this.getSandboxContent(e),r=t.contentDocument;r.open(),r.write(n),r.close()},e.getSandboxContent=function(e){return void 0===e&&(e=""),"\n      <html>\n        <head>\n          <style>\n            html, body, root {\n              font-family: 'Roboto', sans-serif;\n              width: 100%;\n              height: 100%;\n              margin: 0;\n              overflow: hidden;\n              transition: initial;\n            }\n          </style>\n          </head>\n          <body>\n          "+e+"\n        </body>\n      </html>\n    "},IframeBuilder}(),l=function(){var e,t=document.createElement("iframe");return t.setAttribute("frameborder","0"),t.setAttribute("allowtransparency","true"),t.setAttribute("sandbox",(e=["allow-scripts","allow-same-origin","allow-popups","allow-forms"],navigator.userAgent.indexOf("Chrome")>=0&&e.push("allow-popups-to-escape-sandbox"),e.join(" "))),t.setAttribute("scrolling","no"),t.setAttribute("name","seedtag_creative"),t};n(129);function SizesMap_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.TOP_LEFT="TL",e.TOP_RIGHT="TR",e.BOTTOM_LEFT="BL",e.BOTTOM_RIGHT="BR",e.BOTTOM_CENTER="BC",e.CENTER_CENTER="CC",e.RIGHT_CENTER="RC"}(s||(s={}));var p=function(){function SizesMap(){}return SizesMap.prototype.calcPosition=function(e){var t=600===e.width,n=600===e.height;return/(728|320)/.test(e.width.toString())&&/(90|50)/.test(e.height.toString())?s.BOTTOM_CENTER:120===e.width&&600===e.height?s.RIGHT_CENTER:160===e.width&&600===e.height?s.RIGHT_CENTER:300===e.width&&250===e.height?s.CENTER_CENTER:t&&n?s.TOP_LEFT:t&&!n?s.BOTTOM_LEFT:!t&&n?s.TOP_RIGHT:t||n?s.TOP_LEFT:s.BOTTOM_RIGHT},SizesMap}();SizesMap_defineProperty(p,"instance",new p),SizesMap_defineProperty(p,"calcPosition",function(e){return p.instance.calcPosition(e)});var d=function(){function Backdrop(){}return Backdrop.mount=function(e,t){var n=this.createBackdropStyles(),r=this.createBackdropElement(t);e.ownerDocument.head.appendChild(n),e.parentElement.appendChild(r)},Backdrop.createBackdropElement=function(e){var t=document.createElement("div");return t.classList.add("st-backdrop"),t.style.height=e.height+"px",t.style.width=e.width+"px",t.style.background="rgba(0, 0, 0, 0.6)",t.style.position="absolute",t.style.top="0",t.style.animation="st-opacity 1s",t},Backdrop.createBackdropStyles=function(){var e=document.createElement("style");return e.innerHTML="\n      @keyframes st-opacity {\n        0% {\n          opacity: 0;\n        }\n        100% {\n          opacity: 1;\n        }\n      }\n    ",e},Backdrop}();function DisplayRenderComponent_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){function DisplayRenderComponent(e,t,n){void 0===n&&(n=!1),DisplayRenderComponent_defineProperty(this,"builder",void 0),DisplayRenderComponent_defineProperty(this,"ad",void 0),DisplayRenderComponent_defineProperty(this,"props",void 0),DisplayRenderComponent_defineProperty(this,"hasBackdrop",void 0),this.ad=e,this.props=t,this.builder=new u(!!t.isRedirectResizer),this.hasBackdrop=n}var e=DisplayRenderComponent.prototype;return e.getIframe=function(){return this.builder.getIframe()},e.mount=function(e){this.render(this.props),this.builder.mount(e),this.builder.setContent(this.ad.getContent()),this.hasBackdrop&&d.mount(this.getIframe(),this.props.canvas)},e.render=function(e){var t=e.scale||1,n={width:e.canvas.width/t,height:e.canvas.height/t},r=function(e,t){if(120===e.width||160===e.width)return e;return{width:600===e.width?t.width:e.width,height:600===e.height?t.height:e.height}}(e.adSize,n);this.builder.render(r,this.getMargin({width:r.width*t,height:r.height*t},e.canvas,e.position),t)},e.getMargin=function(e,t,n){var r={left:0,top:0},i=t.height-e.height,o=t.width-e.width,a=(t.width-e.width)/2,c=(t.height-e.height)/2;switch(n){case s.BOTTOM_CENTER:r={top:i,left:a};break;case s.TOP_RIGHT:r.left=o;break;case s.BOTTOM_LEFT:r.top=i;break;case s.BOTTOM_RIGHT:r={top:i,left:o};break;case s.RIGHT_CENTER:r={top:c,left:o};break;case s.CENTER_CENTER:r={top:c,left:a}}return r},DisplayRenderComponent}();function DisplayComponent_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(){function DisplayComponent(e,t){void 0===t&&(t=!1),DisplayComponent_defineProperty(this,"props",void 0),DisplayComponent_defineProperty(this,"displayRenderComponent",void 0),DisplayComponent_defineProperty(this,"isVpaid",!1),DisplayComponent_defineProperty(this,"hasBackdrop",!1),this.props=e,this.isVpaid=t,this.displayRenderComponent=new f(e.ad,this.getRenderProps(),this.hasBackdrop)}var e=DisplayComponent.prototype;return e.mount=function(e){return this.displayRenderComponent.mount(e)},e.getIframe=function(){return this.displayRenderComponent.getIframe()},e.updateProps=function(e){this.props=e,this.render()},e.render=function(){if(!this.displayRenderComponent)throw Error("You have to call DisplayRender.mount before render");this.displayRenderComponent.render(this.getRenderProps())},e.getRenderProps=function(){var e=this.props.adSize,t=this.props.canvas,n=this.calcScale({canvas:t,adSize:e});return{canvas:t,position:p.calcPosition(e),adSize:e,scale:n,isRedirectResizer:!this.isVpaid}},e.calcScale=function(e){var t=e.canvas,n=e.adSize,r=1;return t.height<150&&(r=t.height/150),t.width<320&&(r=t.width/320),728===n.width&&t.width<728&&(r=t.width/728),120===n.width&&t.height<600&&(r=t.height/600),160===n.width&&t.height<600&&(r=t.height/600),300===n.width&&250===n.height&&(this.hasBackdrop=!0,r=t.width<=320?t.width/320:1,r=t.height<=270?t.height/270:r),r},DisplayComponent}(),g=n(163),y=n(212);function XtoClose_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){XtoClose_defineProperty(e,t,n[t])})}return e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XtoClose_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={top:"10px",right:"15px",left:"auto"},m=function(){function XtoClose(e){XtoClose_defineProperty(this,"$wrapper",void 0),XtoClose_defineProperty(this,"$iframe",void 0),XtoClose_defineProperty(this,"canvas",void 0),XtoClose_defineProperty(this,"XtoCloseHandler",void 0),XtoClose_defineProperty(this,"props",{onClose:function(){""}}),this.props=e}var e,t,n,r=XtoClose.prototype;return r.setIframe=function(e,t){this.$iframe=e,this.canvas=t},r.render=function(){if(!this.$iframe)throw Error("You should call XtoClose.setIframe before render.");this.$iframe.parentElement.style.position="relative",this.$iframe.parentElement.appendChild(this.$xToClose)},r.clickHandler=function(){this.props.onClose()},e=XtoClose,(t=[{key:"$xToClose",get:function(){if(!this.$wrapper){this.$wrapper=document.createElement("div"),this.$wrapper.style.width=this.canvas.width+"px",this.$wrapper.style.height=this.canvas.height+"px";var e=document.createElement("span");e.classList.add("st-dp-xtoclose");var t=this.$iframe.style,n=this.$iframe.getBoundingClientRect(),r={cursor:"pointer",width:"18px",height:"18px",position:"absolute",left:"calc("+t.marginLeft+" + "+n.width+"px - 30px)",top:"calc("+t.marginTop+" - 30px)",fill:"rgba(255, 255, 255, 0.7)","z-index":"1",right:"auto"};"300px"===this.$iframe.style.width&&"250px"===this.$iframe.style.height&&(r=XtoClose_objectSpread({},r,v)),"120px"===this.$iframe.style.width&&"600px"===this.$iframe.style.height&&(r=XtoClose_objectSpread({},r,v,{top:"calc("+t.marginTop+" + 15px)",right:"15px"})),"160px"===this.$iframe.style.width&&"600px"===this.$iframe.style.height&&(r=XtoClose_objectSpread({},r,v,{top:"calc("+t.marginTop+" + 15px)",right:"15px"})),e.setAttribute("style",i(r)),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path opacity=".87" fill="none" d="M0 0h24v24H0V0z"/>\n<path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm4.3 14.3c-.39.39-1.02.39-1.41 0L12 13.41 9.11 16.3c-.39.39-1.02.39-1.41 0-.39-.39-.39-1.02 0-1.41L10.59 12 7.7 9.11c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L12 10.59l2.89-2.89c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41L13.41 12l2.89 2.89c.38.38.38 1.02 0 1.41z"/>\n</svg>',e.addEventListener("click",this.clickHandler.bind(this)),this.$wrapper.appendChild(e)}return this.$wrapper}}])&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),XtoClose}();function OverpassController_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OverpassController_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(){function OverpassController(e){var t=this;void 0===e&&(e={}),OverpassController_defineProperty(this,"mainRender",void 0),OverpassController_defineProperty(this,"connector",void 0),OverpassController_defineProperty(this,"state",{adSize:{width:600,height:150},visible:null,hovered:null}),OverpassController_defineProperty(this,"props",{ad:new r("",{width:600,height:105}),isVpaid:!1,xToClose:!1,canvas:{width:100,height:100},onConnect:function(){""},onClose:function(){""},minipass:!0}),OverpassController_defineProperty(this,"xToClose",void 0),this.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){OverpassController_defineProperty(e,t,n[t])})}return e}({},this.props,e),this.state.adSize=this.props.ad.getAdSize(),this.mainRender=new h(this.getRenderProps(),this.props.isVpaid),this.connector=g.Factory.creativeHost({connector:g.Factory.host(this.mainRender.getIframe()),onClose:function(){return t.props.onClose()},onResize:function(e){t.setAdSize(e)}}),e.xToClose&&(this.xToClose=new m({onClose:this.props.onClose}))}var e,t,n,i=OverpassController.prototype;return i.mount=function(e){var t=this;this.mainRender.mount(e),this.props.minipass&&this.connector.connect().then(function(){t.props.onConnect()}),this.xToClose&&this.renderXtoClose()},i.changeHover=function(e){e!==this.state.hovered&&(this.state.hovered=e,this.connector.hovered(e))},i.changeVisibility=function(e){this.state.visible!==e&&(this.state.visible=e,this.connector.visible(e))},i.monitor=function(e){new y.VisibilityObserver(e).observe(this.changeVisibility.bind(this)),new y.HoverObserver(e).observe(this.changeHover.bind(this))},i.getIframe=function(){return this.mainRender.getIframe()},i.render=function(e){this.props.canvas=e,this._render()},i.setAdSize=function(e){this.state.adSize=e,this._render()},i._render=function(){this.mainRender.updateProps(this.getRenderProps())},i.getRenderProps=function(){return{ad:this.props.ad,adSize:this.state.adSize,canvas:this.props.canvas}},i.renderXtoClose=function(){this.xToClose.setIframe(this.mainRender.getIframe(),this.props.canvas),this.xToClose.render()},e=OverpassController,(t=[{key:"displayRenderComponent",get:function(){return this.mainRender.displayRenderComponent}}])&&OverpassController_defineProperties(e.prototype,t),n&&OverpassController_defineProperties(e,n),OverpassController}();n.d(t,"Minipass",function(){return _}),n.d(t,"DisplayAd",function(){return r}),n.d(t,"IframeBuilder",function(){return u}),n.d(t,"DisplayRender",function(){return b});var _=g}])]);